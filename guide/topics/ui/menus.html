<!DOCTYPE html>












































































<html>
<head>


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width" />

<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<title>Menus | Android Developers</title>

<!-- STYLESHEETS -->
<link rel="stylesheet"
href="http://fonts.googleapis.com/css?family=Roboto:regular,medium,thin,italic,mediumitalic,bold" title="roboto">
<link href="../../../assets/css/default.css" rel="stylesheet" type="text/css">



<!-- JAVASCRIPT -->
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script src="../../../assets/js/android_3p-bundle.js" type="text/javascript"></script>
<script type="text/javascript">
  var toRoot = "../../../";
  var devsite = false;
</script>
<script src="../../../assets/js/docs.js" type="text/javascript"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-5831155-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>
<body class="gc-documentation 
  develop guide" itemscope itemtype="http://schema.org/Article">

<a name="top"></a>

    <!-- Header -->
    <div id="header">
        <div class="wrap" id="header-wrap">
          <div class="col-3 logo">
          <a href="../../../index.html">
            <img src="../../../assets/images/dac_logo.png" width="123" height="25" alt="Android Developers" />
          </a>
          <div class="btn-quicknav" id="btn-quicknav">
          	<a href="#" class="arrow-inactive">Quicknav</a>
			      <a href="#" class="arrow-active">Quicknav</a>
          </div>
          </div>
            <ul class="nav-x col-9">
                <li class="design">
                  <a href="../../../design/index.html"
                  zh-tw-lang="設計"
                  zh-cn-lang="设计"
                  ru-lang="Проектирование"
                  ko-lang="디자인"
                  ja-lang="設計"
                  es-lang="Diseñar"               
                  >Design</a></li>
                <li class="develop"><a href="../../../develop/index.html"
                  zh-tw-lang="開發"
                  zh-cn-lang="开发"
                  ru-lang="Разработка"
                  ko-lang="개발"
                  ja-lang="開発"
                  es-lang="Desarrollar"               
                  >Develop</a></li>
                <li class="distribute last"><a href="../../../distribute/index.html"
                  zh-tw-lang="發佈"
                  zh-cn-lang="分发"
                  ru-lang="Распространение"
                  ko-lang="배포"
                  ja-lang="配布"
                  es-lang="Distribuir"               
                  >Distribute</a></li>
            </ul>
            
            <!-- New Search -->
            <div class="menu-container">
            <div class="moremenu">
    <div id="more-btn"></div>
  </div>
  <div class="morehover" id="moremenu">
    <div class="top"></div>
    <div class="mid">
      <div class="header">Links</div>
      <ul>
        <li><a href="https://play.google.com/apps/publish/">Google Play Developer Console</a></li>
        <li><a href="http://android-developers.blogspot.com/">Android Developers Blog</a></li>
        <li><a href="../../../about/index.html">About Android</a></li>
      </ul>
      <div class="header">Android Sites</div>
      <ul>
        <li><a href="http://www.android.com">Android.com</a></li>
        <li class="active"><a>Android Developers</a></li>
        <li><a href="http://source.android.com">Android Open Source Project</a></li>
      </ul>
      
      
      
      


      <br class="clearfix" />
    </div>
    <div class="bottom"></div>
  </div>
  <div class="search" id="search-container">
    <div class="search-inner">
      <div id="search-btn"></div>
      <div class="left"></div>
      <form onsubmit="return submit_search()">
        <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q"
onfocus="search_focus_changed(this, true)" onblur="search_focus_changed(this, false)"
onkeydown="return search_changed(event, true, '../../../')" 
onkeyup="return search_changed(event, false, '../../../')" />
      </form>
      <div class="right"></div>
        <a class="close hide">close</a>
        <div class="left"></div>
        <div class="right"></div>
    </div>
  </div>

  <div class="search_filtered_wrapper reference">
    <div class="suggest-card reference no-display">
      <ul class="search_filtered">
      </ul>
    </div>
  </div>

  <div class="search_filtered_wrapper docs">
    <div class="suggest-card dummy no-display">&nbsp;</div>
    <div class="suggest-card develop no-display">
      <ul class="search_filtered">
      </ul>
      <div class="child-card guides no-display">
      </div>
      <div class="child-card training no-display">
      </div>
    </div>
    <div class="suggest-card design no-display">
      <ul class="search_filtered">
      </ul>
    </div>
    <div class="suggest-card distribute no-display">
      <ul class="search_filtered">
      </ul>
    </div>
  </div>

  </div>
  <!-- /New Search>
          
          
          <!-- Expanded quicknav -->
           <div id="quicknav" class="col-9">
                <ul>
                    <li class="design">
                      <ul>
                        <li><a href="../../../design/index.html">Get Started</a></li>
                        <li><a href="../../../design/style/index.html">Style</a></li>
                        <li><a href="../../../design/patterns/index.html">Patterns</a></li>
                        <li><a href="../../../design/building-blocks/index.html">Building Blocks</a></li>
                        <li><a href="../../../design/downloads/index.html">Downloads</a></li>
                        <li><a href="../../../design/videos/index.html">Videos</a></li>
                      </ul>
                    </li>
                    <li class="develop">
                      <ul>
                        <li><a href="../../../training/index.html"
                          zh-tw-lang="訓練課程"
                          zh-cn-lang="培训"
                          ru-lang="Курсы"
                          ko-lang="교육"
                          ja-lang="トレーニング"
                          es-lang="Capacitación"               
                          >Training</a></li>
                        <li><a href="../../../guide/components/index.html"
                          zh-tw-lang="API 指南"
                          zh-cn-lang="API 指南"
                          ru-lang="Руководства по API"
                          ko-lang="API 가이드"
                          ja-lang="API ガイド"
                          es-lang="Guías de la API"               
                          >API Guides</a></li>
                        <li><a href="../../../reference/packages.html"
                          zh-tw-lang="參考資源"
                          zh-cn-lang="参考"
                          ru-lang="Справочник"
                          ko-lang="참조문서"
                          ja-lang="リファレンス"
                          es-lang="Referencia"               
                          >Reference</a></li>
                        <li><a href="../../../tools/index.html"
                          zh-tw-lang="相關工具"
                          zh-cn-lang="工具"
                          ru-lang="Инструменты"
                          ko-lang="도구"
                          ja-lang="ツール"
                          es-lang="Herramientas"               
                          >Tools</a>
                          <ul><li><a href="../../../sdk/index.html">Get the SDK</a></li></ul>
                        </li>
                        <li><a href="../../../google/index.html">Google Services</a>
                        </li>
                        
                      </ul>
                    </li>
                    <li class="distribute last">
                      <ul>
                        <li><a href="../../../distribute/index.html">Google Play</a></li>
                        <li><a href="../../../distribute/googleplay/publish/index.html">Publishing</a></li>
                        <li><a href="../../../distribute/googleplay/promote/index.html">Promoting</a></li>
                        <li><a href="../../../distribute/googleplay/quality/index.html">App Quality</a></li>
                        <li><a href="../../../distribute/googleplay/spotlight/index.html">Spotlight</a></li>
                        <li><a href="../../../distribute/open.html">Open Distribution</a></li>
                      </ul>
                    </li>
                </ul>
          </div>
          <!-- /Expanded quicknav -->
        </div>
    </div>
    <!-- /Header -->
    
    
  <div id="searchResults" class="wrap" style="display:none;">
          <h2 id="searchTitle">Results</h2>
          <div id="leftSearchControl" class="search-control">Loading...</div>
  </div>
    
    
  
    <!-- Secondary x-nav -->
    <div id="nav-x">
        <div class="wrap">
            <ul class="nav-x col-9 develop" style="width:100%">
                <li class="training"><a href="../../../training/index.html"
                  zh-tw-lang="訓練課程"
                  zh-cn-lang="培训"
                  ru-lang="Курсы"
                  ko-lang="교육"
                  ja-lang="トレーニング"
                  es-lang="Capacitación"               
                  >Training</a></li>
                <li class="guide"><a href="../../../guide/components/index.html"
                  zh-tw-lang="API 指南"
                  zh-cn-lang="API 指南"
                  ru-lang="Руководства по API"
                  ko-lang="API 가이드"
                  ja-lang="API ガイド"
                  es-lang="Guías de la API"               
                  >API Guides</a></li>
                <li class="reference"><a href="../../../reference/packages.html"
                  zh-tw-lang="參考資源"
                  zh-cn-lang="参考"
                  ru-lang="Справочник"
                  ko-lang="참조문서"
                  ja-lang="リファレンス"
                  es-lang="Referencia"               
                  >Reference</a></li>
                <li class="tools"><a href="../../../tools/index.html"
                  zh-tw-lang="相關工具"
                  zh-cn-lang="工具"
                  ru-lang="Инструменты"
                  ko-lang="도구"
                  ja-lang="ツール"
                  es-lang="Herramientas"
                  >Tools</a></li>
                <li class="google"><a href="../../../google/index.html"
                  >Google Services</a>
                </li>
                
            </ul>
        </div>
        
    </div>
    <!-- /Sendondary x-nav -->
  




  

  <div class="wrap clearfix" id="body-content">
    <div class="col-4" id="side-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
      <div id="devdoc-nav" class="scroll-pane">
<a class="totop" href="#top" data-g-event="left-nav-top">to top</a>



<ul id="nav">
  <!--  Walkthrough for Developers -- quick overview of what it's like to develop on Android -->
  <!--<li style="color:red">Overview</li> -->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../guide/components/index.html">
        <span class="en">App Components</span>
      </a></div>
    <ul>
      <li><a href="../../../guide/components/fundamentals.html">
            <span class="en">App Fundamentals</span></a>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/components/activities.html">
            <span class="en">Activities</span>
          </a></div>
        <ul>
          <li><a href="../../../guide/components/fragments.html">
              <span class="en">Fragments</span>
            </a></li>
          <li><a href="../../../guide/components/loaders.html">
              <span class="en">Loaders</span>
            </a></li>
          <li><a href="../../../guide/components/tasks-and-back-stack.html">
              <span class="en">Tasks and Back Stack</span>
            </a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/components/services.html">
            <span class="en">Services</span>
          </a></div>
        <ul>
          <li><a href="../../../guide/components/bound-services.html">
              <span class="en">Bound Services</span>
            </a></li>
          <li><a href="../../../guide/components/aidl.html">
              <span class="en">AIDL</span>
            </a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/providers/content-providers.html">
            <span class="en">Content Providers</span>
          </a></div>
        <ul>
          <li><a href="../../../guide/topics/providers/content-provider-basics.html">
              <span class="en">Content Provider Basics</span>
            </a></li>
          <li><a href="../../../guide/topics/providers/content-provider-creating.html">
              <span class="en">Creating a Content Provider</span>
            </a></li>
          <li><a href="../../../guide/topics/providers/calendar-provider.html">
              <span class="en">Calendar Provider</span>
            </a></li>
          <li><a href="../../../guide/topics/providers/contacts-provider.html">
              <span class="en">Contacts Provider</span>
            </a></li>
          <li><a href="../../../guide/topics/providers/document-provider.html">
              <span class="en">Storage Access Framework</span>
            </a></li>
        </ul>
      </li>
      <li><a href="../../../guide/components/intents-filters.html">
          <span class="en">Intents and Intent Filters</span>
        </a></li>
      <li><a href="../../../guide/components/processes-and-threads.html">
          <span class="en">Processes and Threads</span>
        </a>
      </li>
      <li><a href="../../../guide/topics/security/permissions.html">
          <span class="en">Permissions</span>
        </a>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/appwidgets/index.html">
            <span class="en">App Widgets</span>
          </a></div>
        <ul>
          <li><a href="../../../guide/topics/appwidgets/host.html">
              <span class="en">App Widget Host</span>
            </a></li>
        </ul>
      </li>
      <li class="nav-section">
      <div class="nav-section-header"><a href="../../../guide/topics/manifest/manifest-intro.html">
          <span class="en">Android Manifest</span>
        </a></div>
        <ul>
          <li><a href="../../../guide/topics/manifest/action-element.html">&lt;action&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/activity-element.html">&lt;activity&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/activity-alias-element.html">&lt;activity-alias&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/application-element.html">&lt;application&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/category-element.html">&lt;category&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/compatible-screens-element.html">&lt;compatible-screens&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/data-element.html">&lt;data&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/grant-uri-permission-element.html">&lt;grant-uri-permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/instrumentation-element.html">&lt;instrumentation&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/intent-filter-element.html">&lt;intent-filter&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/manifest-element.html">&lt;manifest&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/meta-data-element.html">&lt;meta-data&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/path-permission-element.html">&lt;path-permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/permission-element.html">&lt;permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/permission-group-element.html">&lt;permission-group&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/permission-tree-element.html">&lt;permission-tree&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/provider-element.html">&lt;provider&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/receiver-element.html">&lt;receiver&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/service-element.html">&lt;service&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/supports-gl-texture-element.html">&lt;supports-gl-texture&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/supports-screens-element.html">&lt;supports-screens&gt;</a></li><!-- ##api level 4## -->
          <li><a href="../../../guide/topics/manifest/uses-configuration-element.html">&lt;uses-configuration&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/uses-feature-element.html">&lt;uses-feature&gt;</a></li> <!-- ##api level 4## -->
          <li><a href="../../../guide/topics/manifest/uses-library-element.html">&lt;uses-library&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/uses-permission-element.html">&lt;uses-permission&gt;</a></li>
          <li><a href="../../../guide/topics/manifest/uses-sdk-element.html">&lt;uses-sdk&gt;</a></li>
        </ul>
   </li><!-- end of the manifest file -->

    </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../guide/topics/ui/index.html">
        <span class="en">User Interface</span>
      </a></div>
    <ul>
      <li><a href="../../../guide/topics/ui/overview.html">
          <span class="en">Overview</span>
        </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/ui/declaring-layout.html">
            <span class="en">Layouts</span>
          </a></div>
        <ul>
          <li><a href="../../../guide/topics/ui/layout/linear.html">
              <span class="en">Linear Layout</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/layout/relative.html">
              <span class="en">Relative Layout</span>
            </a></li>
       <!--
          <li><a href="../../../guide/topics/ui/layout/grid.html">
              <span class="en">Grid Layout</span>
            </a></li>
       -->
          <li><a href="../../../guide/topics/ui/layout/listview.html">
              <span class="en">List View</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/layout/gridview.html">
              <span class="en">Grid View</span>
            </a></li>
        </ul>
      </li>

      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/ui/controls.html">
            <span class="en">Input Controls</span>
          </a></div>
        <ul>
          <li><a href="../../../guide/topics/ui/controls/button.html">
              <span class="en">Buttons</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/controls/text.html">
              <span class="en">Text Fields</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/controls/checkbox.html">
              <span class="en">Checkboxes</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/controls/radiobutton.html">
              <span class="en">Radio Buttons</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/controls/togglebutton.html">
              <span class="en">Toggle Buttons</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/controls/spinner.html">
              <span class="en">Spinners</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/controls/pickers.html">
              <span class="en">Pickers</span>
            </a></li>
<!--
          <li><a href="../../../guide/topics/ui/controls/progress.html">
              <span class="en">Seek and Progress Bars</span>
            </a></li>
-->
        </ul>
      </li>
      <li><a href="../../../guide/topics/ui/ui-events.html">
          <span class="en">Input Events</span>
        </a></li>
      <li><a href="../../../guide/topics/ui/menus.html">
          <span class="en">Menus</span></span>
          </a></li>
      <li><a href="../../../guide/topics/ui/actionbar.html">
           <span class="en">Action Bar</span>
          </a></li>
      <li><a href="../../../guide/topics/ui/settings.html">
            <span class="en">Settings</span>
          </a></li>
      <li><a href="../../../guide/topics/ui/dialogs.html">
           <span class="en">Dialogs</span>
          </a></li>
      <li><a href="../../../guide/topics/ui/notifiers/notifications.html">
          <span class="en">Notifications</span>
        </a></li>
      <li><a href="../../../guide/topics/ui/notifiers/toasts.html">
          <span class="en">Toasts</span>
        </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/search/index.html">
            <span class="en">Search</span>
          </a></div>
          <ul>
            <li><a href="../../../guide/topics/search/search-dialog.html">Creating a Search Interface</a></li>
            <li><a href="../../../guide/topics/search/adding-recent-query-suggestions.html">Adding Recent Query Suggestions</a></li>
            <li><a href="../../../guide/topics/search/adding-custom-suggestions.html">Adding Custom Suggestions</a></li>
            <li><a href="../../../guide/topics/search/searchable-config.html">Searchable Configuration</a></li>
          </ul>
      </li>
      <li><a href="../../../guide/topics/ui/drag-drop.html">
          <span class="en">Drag and Drop</span>
        </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/ui/accessibility/index.html">
            <span class="en">Accessibility</span>
          </a></div>
        <ul>
          <li><a href="../../../guide/topics/ui/accessibility/apps.html">
              <span class="en">Making Applications Accessible</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/accessibility/checklist.html">
              <span class="en">Accessibility Developer Checklist</span>
            </a></li>
          <li><a href="../../../guide/topics/ui/accessibility/services.html">
              <span class="en">Building Accessibility Services</span>
            </a></li>
        </ul>
      </li>
      <li><a href="../../../guide/topics/ui/themes.html">
          <span class="en">Styles and Themes</span>
        </a></li>
      <li><a href="../../../guide/topics/ui/custom-components.html">
          <span class="en">Custom Components</span>
        </a></li>
    </ul>
  </li><!-- end of User Interface -->

    <li class="nav-section">
      <div class="nav-section-header"><a href="../../../guide/topics/resources/index.html">
           <span class="en">App Resources</span>
         </a></div>
      <ul>
        <li><a href="../../../guide/topics/resources/overview.html">
            <span class="en">Overview</span>
          </a></li>
          <li><a href="../../../guide/topics/resources/providing-resources.html">
            <span class="en">Providing Resources</span>
          </a></li>
        <li><a href="../../../guide/topics/resources/accessing-resources.html">
            <span class="en">Accessing Resources</span>
          </a></li>
        <li><a href="../../../guide/topics/resources/runtime-changes.html">
              <span class="en">Handling Runtime Changes</span>
            </a></li>
        <li><a href="../../../guide/topics/resources/localization.html">
            <span class="en">Localization</span>
          </a></li>
        <li class="nav-section">
          <div class="nav-section-header"><a href="../../../guide/topics/resources/available-resources.html">
              <span class="en">Resource Types</span>
            </a></div>
          <ul>
            <li><a href="../../../guide/topics/resources/animation-resource.html">Animation</a></li>
            <li><a href="../../../guide/topics/resources/color-list-resource.html">Color State List</a></li>
            <li><a href="../../../guide/topics/resources/drawable-resource.html">Drawable</a></li>
            <li><a href="../../../guide/topics/resources/layout-resource.html">Layout</a></li>
            <li><a href="../../../guide/topics/resources/menu-resource.html">Menu</a></li>
            <li><a href="../../../guide/topics/resources/string-resource.html">String</a></li>
            <li><a href="../../../guide/topics/resources/style-resource.html">Style</a></li>
            <li><a href="../../../guide/topics/resources/more-resources.html">More Types</a></li>
          </ul>
        </li><!-- end of resource types -->
      </ul>
    </li><!-- end of app resources -->

   <li class="nav-section">
      <div class="nav-section-header"><a href="../../../guide/topics/graphics/index.html">
          <span class="en">Animation and Graphics</span>
        </a></div>
      <ul>
      <li class="nav-section">
        <li><a href="../../../guide/topics/graphics/overview.html">
            <span class="en">Overview</span>
          </a></li>
        <li><a href="../../../guide/topics/graphics/prop-animation.html">
            <span class="en">Property Animation</span>
          </a></li>
        <li><a href="../../../guide/topics/graphics/view-animation.html">
            <span class="en">View Animation</span>
          </a></li>
        <li><a href="../../../guide/topics/graphics/drawable-animation.html">
            <span class="en">Drawable Animation</span>
          </a></li>
        <li><a href="../../../guide/topics/graphics/2d-graphics.html">
            <span class="en">Canvas and Drawables</span>
          </a></li>
        <li><a href="../../../guide/topics/graphics/opengl.html">
            <span class="en">OpenGL ES</span>
          </a></li>
        <li><a href="../../../guide/topics/graphics/hardware-accel.html">
            <span class="en">Hardware Acceleration</span>
          </a></li>
       </ul>
    </li><!-- end of graphics and animation-->

   <li class="nav-section">
            <div class="nav-section-header"><a href="../../../guide/topics/renderscript/index.html">
              <span class="en">Computation</span>
            </a></div>
            <ul>
              <li><a href="../../../guide/topics/renderscript/compute.html">
                    <span class="en">RenderScript</span></a>
                  </li>

              <li><a href="../../../guide/topics/renderscript/advanced.html">
                    <span class="en">Advanced RenderScript</span></a>
                  </li>
              <li><a href="../../../guide/topics/renderscript/reference.html">
                    <span class="en">Runtime API Reference</span></a>
              </li>
             </ul>
   </li>
      <li class="nav-section">
          <div class="nav-section-header"><a href="../../../guide/topics/media/index.html">
            <span class="en">Media and Camera</span>
          </a></div>
          <ul>
            <li><a href="../../../guide/topics/media/mediaplayer.html">
                  <span class="en">Media Playback</span></a>
                </li>
            <li><a href="../../../guide/appendix/media-formats.html">
                   <span class="en">Supported Media Formats</span></a>
                </li>
            <li><a href="../../../guide/topics/media/audio-capture.html">
                  <span class="en">Audio Capture</span></a>
                </li>
            <li><a href="../../../guide/topics/media/jetplayer.html">
                  <span class="en">JetPlayer</span></a>
                </li>
            <li><a href="../../../guide/topics/media/camera.html">
                  <span class="en">Camera</span></a>
                </li>
          </ul>
      </li><!-- end of media and camera -->

      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/sensors/index.html">
              <span class="en">Location and Sensors</span>
              </a></div>
        <ul>
          <li><a href="../../../guide/topics/location/index.html">
               <span class="en">Location and Maps</span>
             </a>
          <li><a href="../../../guide/topics/location/strategies.html">
               <span class="en">Location Strategies</span>
             </a></li>
          <li><a href="../../../guide/topics/sensors/sensors_overview.html">
              <span class="en">Sensors Overview</span>
            </a></li>
          <li><a href="../../../guide/topics/sensors/sensors_motion.html">
              <span class="en">Motion Sensors</span>
            </a></li>
          <li><a href="../../../guide/topics/sensors/sensors_position.html">
              <span class="en">Position Sensors</span>
            </a></li>
          <li><a href="../../../guide/topics/sensors/sensors_environment.html">
              <span class="en">Environment Sensors</span>
            </a></li>
        </ul>
      </li><!-- end of location and sensors -->



<li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/connectivity/index.html">
               <span class="en">Connectivity</span>
             </a></div>
        <ul>
          <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/connectivity/bluetooth.html">
          <span class="en">Bluetooth</span></a>
        </div>
        <ul>
          <li><a href="../../../guide/topics/connectivity/bluetooth-le.html">Bluetooth Low Energy</a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/connectivity/nfc/index.html">
          <span class="en">NFC</span></a>
        </div>
        <ul>
          <li><a href="../../../guide/topics/connectivity/nfc/nfc.html">NFC Basics</a></li>
          <li><a href="../../../guide/topics/connectivity/nfc/advanced-nfc.html">Advanced NFC</a></li>
          <li><a href="../../../guide/topics/connectivity/nfc/hce.html">Host-based Card Emulation</a></li>
        </ul>
      </li>
      <li><a href="../../../guide/topics/connectivity/wifip2p.html">
            <span class="en">Wi-Fi P2P</span></a>
          </li>
      <li class="nav-section">
          <div class="nav-section-header"><a href="../../../guide/topics/connectivity/usb/index.html">
            <span class="en">USB</span></a>
          </div>
            <ul>
              <li><a href="../../../guide/topics/connectivity/usb/accessory.html">Accessory</a></li>
              <li><a href="../../../guide/topics/connectivity/usb/host.html">Host</a></li>
            </ul>
     </li>
     <li><a href="../../../guide/topics/connectivity/sip.html">
            <span class="en">SIP</span>
          </a>
     </li>

    </ul>
  </li><!-- end of connectivity -->


      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/topics/text/index.html">
            <span class="en">Text and Input</span>
        </a></div>
        <ul>
          <li><a href="../../../guide/topics/text/copy-paste.html">
              <span class="en">Copy and Paste</span>
            </a></li>
          <li><a href="../../../guide/topics/text/creating-input-method.html">
              <span class="en">Creating an IME</span>
            </a></li>
          <li><a href="../../../guide/topics/text/spell-checker-framework.html">
              <span class="en">Spelling Checker</span>
            </a></li>
        </ul>
      </li><!-- end of text and input -->

     <li class="nav-section">
      <div class="nav-section-header"><a href="../../../guide/topics/data/index.html">
          <span class="en">Data Storage</span>
        </a></div>
      <ul>
         <li><a href="../../../guide/topics/data/data-storage.html">
            <span class="en">Storage Options</span>
           </a></li>
        <li><a href="../../../guide/topics/data/backup.html">
            <span class="en">Data Backup</span>
          </a></li>
        <li><a href="../../../guide/topics/data/install-location.html">
            <span class="en">App Install Location</span>
          </a></li>
      </ul>
    </li><!-- end of data storage -->


  <li class="nav-section">
           <div class="nav-section-header"><a href="../../../guide/topics/admin/index.html">
               <span class="en">Administration</span>
             </a></div>
           <ul>
              <li>
                <a href="../../../guide/topics/admin/device-admin.html">
                <span class="en">Device Policies</span></a>
              </li>
            <!--
              <li>
                <a href="../../../guide/topics/admin/keychain.html">
                <span class="en">Certificate Store</span></a>
              </li>
            -->
           </ul>
  </li><!-- end of administration -->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../guide/webapps/index.html">
    <span class="en">Web Apps</span>
    </a></div>
    <ul>
      <li><a href="../../../guide/webapps/overview.html">
            <span class="en">Overview</span>
          </a></li>
      <li><a href="../../../guide/webapps/targeting.html">
            <span class="en">Targeting Screens from Web Apps</span>
          </a></li>
      <li><a href="../../../guide/webapps/webview.html">
            <span class="en">Building Web Apps in WebView</span>
          </a></li>
      <li><a href="../../../guide/webapps/migrating.html">
            <span class="en">Migrating to WebView in Android 4.4</span>
          </a></li>
      <li><a href="../../../guide/webapps/debugging.html">
            <span class="en">Debugging Web Apps</span>
          </a></li>
      <li><a href="../../../guide/webapps/best-practices.html">
            <span class="en">Best Practices for Web Apps</span>
          </a></li>
    </ul>
  </li><!-- end of web apps -->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../guide/practices/index.html">
      <span class="en">Best Practices</span>
      <span class="de" style="display:none">Bewährte Verfahren</span>
      <span class="es" style="display:none">Prácticas recomendadas</span>
      <span class="fr" style="display:none">Meilleures pratiques</span>
      <span class="it" style="display:none">Best practice</span>
      <span class="ja" style="display:none">ベスト プラクティス</span>
      <span class="zh-cn" style="display:none">最佳实践</span>
      <span class="zh-tw" style="display:none">最佳實務</span>
    </div></a>
    <ul>
      <li><a href="../../../guide/practices/compatibility.html">
            <span class="en">Compatibility</span>
          </a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/practices/screens_support.html">
          <span class="en">Supporting Multiple Screens</span>
        </a></div>
        <ul>
          <li><a href="../../../guide/practices/screens-distribution.html">
            <span class="en">Distributing to Specific Screens</span>
          </a></li>
          <li><a href="../../../guide/practices/screen-compat-mode.html">
            <span class="en">Screen Compatibility Mode</span>
          </a></li>
        </ul>
      </li>
      <li><a href="../../../guide/practices/tablets-and-handsets.html">
            <span class="en">Supporting Tablets and Handsets</span>
          </a></li>

    </ul>
  </li>

      <!-- this needs to move
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../guide/practices/ui_guidelines/index.html">
               <span class="en">UI Guidelines</span>
             </a></div>
        <ul>
          <li class="nav-section">
            <div class="nav-section-header"><a href="../../../guide/practices/ui_guidelines/icon_design.html">
                   <span class="en">Icon Design</span>
                 </a></div>
            <ul>
              <li><a href="../../../guide/practices/ui_guidelines/icon_design_launcher.html">
                    <span class="en">Launcher Icons</span>
                  </a></li>
              <li><a href="../../../guide/practices/ui_guidelines/icon_design_menu.html">
                    <span class="en">Menu Icons</span>
                  </a></li>
              <li><a href="../../../guide/practices/ui_guidelines/icon_design_action_bar.html">
                    <span class="en">Action Bar Icons</span>
                  </a></li>
              <li><a href="../../../guide/practices/ui_guidelines/icon_design_status_bar.html">
                    <span class="en">Status Bar Icons</span>
                  </a></li>
              <li><a href="../../../guide/practices/ui_guidelines/icon_design_tab.html">
                    <span class="en">Tab Icons</span>
                  </a></li>
              <li><a href="../../../guide/practices/ui_guidelines/icon_design_dialog.html">
                    <span class="en">Dialog Icons</span>
                  </a></li>
              <li><a href="../../../guide/practices/ui_guidelines/icon_design_list.html">
                    <span class="en">List View Icons</span>
                  </a></li>
            </ul>
          </li>
          <li><div><a href="../../../guide/practices/ui_guidelines/widget_design.html">
                <span class="en">App Widget Design</span>
              </a></div>
          </li>
        </ul>
      </li>
        </ul> -->

<!-- Remove
  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../guide/appendix/index.html">
        <span class="en">Appendix</span>
        <span class="de" style="display:none">Anhang</span>
        <span class="es" style="display:none">Apéndice</span>
        <span class="fr" style="display:none">Annexes</span>
        <span class="it" style="display:none">Appendice</span>
        <span class="ja" style="display:none">付録</span>
        <span class="zh-cn" style="display:none">附录</span>
        <span class="zh-tw" style="display:none">附錄</span>
      </a></div>
    <ul>
      <li><a href="../../../guide/appendix/g-app-intents.html">
            <span class="en">Intents List: Google Apps</span>
          </a></li>


      <li><a href="../../../guide/appendix/glossary.html">
            <span class="en">Glossary</span>
          </a></li>
    </ul>
  </li>

</li>
-->
</ul>


<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>


        

      </div>
    </div> <!-- end side-nav -->
    <script>
      $(document).ready(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>




<div class="col-12" id="doc-col" >


  
    
      
        <h1 itemprop="name" >Menus</h1>
      
    
  


  
  <div id="jd-content">


    <div class="jd-descr" itemprop="articleBody">
    <div id="qv-wrapper">
<div id="qv">
  <h2>In this document</h2>
<ol>
  <li><a href="#xml">Defining a Menu in XML</a></li>
  <li><a href="#options-menu">Creating an Options Menu</a>
    <ol>
      <li><a href="#RespondingOptionsMenu">Handling click events</a></li>
      <li><a href="#ChangingTheMenu">Changing menu items at runtime</a></li>
    </ol>
  </li>
  <li><a href="#context-menu">Creating Contextual Menus</a>
    <ol>
      <li><a href="#FloatingContextMenu">Creating a floating context menu</a></li>
      <li><a href="#CAB">Using the contextual action mode</a></li>
    </ol>
  </li>
  <li><a href="#PopupMenu">Creating a Popup Menu</a>
    <ol>
      <li><a href="#PopupEvents">Handling click events</a></li>
    </ol>
  </li>
  <li><a href="#groups">Creating Menu Groups</a>
    <ol>
      <li><a href="#checkable">Using checkable menu items</a></li>
    </ol>
  </li>
  <li><a href="#intents">Adding Menu Items Based on an Intent</a>
    <ol>
      <li><a href="#AllowingToAdd">Allowing your activity to be added to other menus</a></li>
    </ol>
  </li>
</ol>

  <h2>Key classes</h2>
  <ol>
    <li><code><a href="../../../reference/android/view/Menu.html">Menu</a></code></li>
    <li><code><a href="../../../reference/android/view/MenuItem.html">MenuItem</a></code></li>
    <li><code><a href="../../../reference/android/view/ContextMenu.html">ContextMenu</a></code></li>
    <li><code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code></li>
  </ol>

  <h2>See also</h2>
  <ol>
    <li><a href="../../../guide/topics/ui/actionbar.html">Action Bar</a></li>
    <li><a href="../../../guide/topics/resources/menu-resource.html">Menu Resource</a></li>
    <li><a
href="http://android-developers.blogspot.com/2012/01/say-goodbye-to-menu-button.html">Say
Goodbye to the Menu Button</a></li>
  </ol>
</div>
</div>

<p>Menus are a common user interface component in many types of applications. To provide a familiar
and consistent user experience, you should use the <code><a href="../../../reference/android/view/Menu.html">Menu</a></code> APIs to present user
actions and other options in your activities.</p>

<p>Beginning with Android 3.0 (API level 11), Android-powered devices are no longer required to
provide a dedicated <em>Menu</em> button. With this change, Android apps should migrate away from a
dependence on the traditional 6-item menu panel and instead provide an action bar to present common
user actions.</p>

<p>Although the design and user experience for some menu items have changed, the semantics to define
a set of actions and options is still based on the <code><a href="../../../reference/android/view/Menu.html">Menu</a></code> APIs. This
guide shows how to create the three fundamental types of menus or action presentations on all
versions of Android:</p>

<dl>
  <dt><strong>Options menu and action bar</strong></dt>
    <dd>The <a href="#options-menu">options menu</a> is the primary collection of menu items for an
activity. It's where you should place actions that have a global impact on the app, such as
"Search," "Compose email," and "Settings."
  <p>If you're developing for Android 2.3 or lower, users can
reveal the options menu panel by pressing the <em>Menu</em> button.</p>
  <p>On Android 3.0 and higher, items from the options menu are presented by the <a
href="../../../guide/topics/ui/actionbar.html">action bar</a> as a combination of on-screen action
items and overflow options. Beginning with Android 3.0, the <em>Menu</em> button is deprecated (some
devices
don't have one), so you should migrate toward using the action bar to provide access to actions and
other options.</p>
  <p>See the section about <a href="#options-menu">Creating an Options Menu</a>.</p>
    </dd>
    
  <dt><strong>Context menu and contextual action mode</strong></dt>
  
   <dd>A context menu is a <a href="#FloatingContextMenu">floating menu</a> that appears when the
user performs a long-click on an element. It provides actions that affect the selected content or
context frame.
  <p>When developing for Android 3.0 and higher, you should instead use the <a
href="#CAB">contextual action mode</a> to enable actions on selected content. This mode displays
action items that affect the selected content in a bar at the top of the screen and allows the user
to select multiple items.</p>
  <p>See the section about <a href="#context-menu">Creating Contextual Menus</a>.</p>
</dd>
    
  <dt><strong>Popup menu</strong></dt>
    <dd>A popup menu displays a list of items in a vertical list that's anchored to the view that
invoked the menu. It's good for providing an overflow of actions that relate to specific content or
to provide options for a second part of a command. Actions in a popup menu should
<strong>not</strong> directly affect the corresponding content&mdash;that's what contextual actions
are for. Rather, the popup menu is for extended actions that relate to regions of content in your
activity.
  <p>See the section about <a href="#PopupMenu">Creating a Popup Menu</a>.</p>
</dd>
</dl>



<h2 id="xml">Defining a Menu in XML</h2>

<p>For all menu types, Android provides a standard XML format to define menu items.
Instead of building a menu in your activity's code, you should define a menu and all its items in an
XML <a href="../../../guide/topics/resources/menu-resource.html">menu resource</a>. You can then
inflate the menu resource (load it as a <code><a href="../../../reference/android/view/Menu.html">Menu</a></code> object) in your activity or
fragment.</p>

<p>Using a menu resource is a good practice for a few reasons:</p>
<ul>
  <li>It's easier to visualize the menu structure in XML.</li>
  <li>It separates the content for the menu from your application's behavioral code.</li>
  <li>It allows you to create alternative menu configurations for different platform versions,
screen sizes, and other configurations by leveraging the <a
href="../../../guide/topics/resources/index.html">app resources</a> framework.</li>
</ul>

<p>To define the menu, create an XML file inside your project's <code>res/menu/</code>
directory and build the menu with the following elements:</p>
<dl>
  <dt><code>&lt;menu></code></dt>
    <dd>Defines a <code><a href="../../../reference/android/view/Menu.html">Menu</a></code>, which is a container for menu items. A
<code>&lt;menu></code> element must be the root node for the file and can hold one or more
<code>&lt;item></code> and <code>&lt;group></code> elements.</dd>

  <dt><code>&lt;item></code></dt>
    <dd>Creates a <code><a href="../../../reference/android/view/MenuItem.html">MenuItem</a></code>, which represents a single item in a menu. This
element may contain a nested <code>&lt;menu></code> element in order to create a submenu.</dd>
    
  <dt><code>&lt;group></code></dt>
    <dd>An optional, invisible container for <code>&lt;item&gt;</code> elements. It allows you to
categorize menu items so they share properties such as active state and visibility. For more
information, see the section about <a href="#groups">Creating Menu Groups</a>.</dd>
</dl>


<p>Here's an example menu named <code>game_menu.xml</code>:</p>
<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/new_game"
          android:icon="@drawable/ic_new_game"
          android:title="@string/new_game"
          android:showAsAction="ifRoom"/&gt;
    &lt;item android:id="@+id/help"
          android:icon="@drawable/ic_help"
          android:title="@string/help" /&gt;
&lt;/menu&gt;
</pre>

<p>The <code>&lt;item></code> element supports several attributes you can use to define an item's
appearance and behavior. The items in the above menu include the following attributes:</p>

<dl>
  <dt><code>android:id</code></dt>
    <dd>A resource ID that's unique to the item, which allows the application can recognize the item
when the user selects it.</dd>
  <dt><code>android:icon</code></dt>
    <dd>A reference to a drawable to use as the item's icon.</dd>
  <dt><code>android:title</code></dt>
    <dd>A reference to a string to use as the item's title.</dd>
  <dt><code>android:showAsAction</code></dt>
    <dd>Specifies when and how this item should appear as an action item in the <a
href="../../../guide/topics/ui/actionbar.html">action bar</a>.</dd>
</dl>

<p>These are the most important attributes you should use, but there are many more available.
For information about all the supported attributes, see the <a
href="../../../guide/topics/resources/menu-resource.html">Menu Resource</a> document.</p>

<p>You can add a submenu to an item in any menu (except a submenu) by adding a <code>&lt;menu&gt;</code>
element as the child of an <code>&lt;item&gt;</code>. Submenus are useful when your application has a lot
of functions that can be organized into topics, like items in a PC application's menu bar (File,
Edit, View, etc.). For example:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/file"
          android:title="@string/file" &gt;
        &lt;!-- "file" submenu --&gt;
        &lt;menu&gt;
            &lt;item android:id="@+id/create_new"
                  android:title="@string/create_new" /&gt;
            &lt;item android:id="@+id/open"
                  android:title="@string/open" /&gt;
        &lt;/menu&gt;
    &lt;/item&gt;
&lt;/menu&gt;
</pre>

<p>To use the menu in your activity, you need to inflate the menu resource (convert the XML
resource into a programmable object) using <code><a href="../../../reference/android/view/MenuInflater.html#inflate(int, android.view.Menu)">MenuInflater.inflate()</a></code>. In the following sections, you'll see how to inflate a menu for each
menu type.</p>



<h2 id="options-menu">Creating an Options Menu</h2>

<div class="figure" style="width:200px;margin:0">
  <img src="../../../images/options_menu.png" height="333" alt="" />
  <p class="img-caption"><strong>Figure 1.</strong> Options menu in the
Browser, on Android 2.3.</p>
</div>

<p>The options menu is where you should include actions and other options that are relevant to the
current activity context, such as "Search," "Compose email," and "Settings."</p>

<p>Where the items in your options menu appear on the screen depends on the version for which you've
developed your application:</p>

<ul>
  <li>If you've developed your application for <strong>Android 2.3.x (API level 10) or
lower</strong>, the contents of your options menu appear at the bottom of the screen when the user
presses the <em>Menu</em> button, as shown in figure 1. When opened, the first visible portion is
the icon
menu, which holds up to six menu items. If your menu includes more than six items, Android places
the sixth item and the rest into the overflow menu, which the user can open by selecting
<em>More</em>.</li>

  <li>If you've developed your application for <strong>Android 3.0 (API level 11) and
higher</strong>, items from the options menu are available in the <a
href="../../../guide/topics/ui/actionbar.html">action bar</a>. By default, the system
places all items in the action overflow, which the user can reveal with the action overflow icon on
the right side of the action bar (or by pressing the device <em>Menu</em> button, if available). To
enable
quick access to important actions, you can promote a few items to appear in the action bar by adding
<code>android:showAsAction="ifRoom"</code> to the corresponding <code>&lt;item&gt;</code> elements (see figure
2). <p>For more information about action items and other action bar behaviors, see the <a
href="../../../guide/topics/ui/actionbar.html">Action Bar</a> guide. </p>
<p class="note"><strong>Note:</strong> Even if you're <em>not</em> developing for Android 3.0 or
higher, you can build your own action bar layout for a similar effect. For an example of how you can
support older versions of Android with an action bar, see the <a
href="../../../resources/samples/ActionBarCompat/index.html">Action Bar Compatibility</a>
sample.</p>
</li>
</ul>

<img src="../../../images/ui/actionbar.png" alt="" />
<p class="img-caption"><strong>Figure 2.</strong> Action bar from the <a
href="../../../resources/samples/HoneycombGallery/index.html">Honeycomb Gallery</a> app, showing
navigation tabs and a camera action item (plus the action overflow button).</p>

<p>You can declare items for the options menu from either your <code><a href="../../../reference/android/app/Activity.html">Activity</a></code>
subclass or a <code><a href="../../../reference/android/app/Fragment.html">Fragment</a></code> subclass. If both your activity and fragment(s)
declare items for the options menu, they are combined in the UI. The activity's items appear
first, followed by those of each fragment in the order in which each fragment is added to the
activity. If necessary, you can re-order the menu items with the <code>android:orderInCategory</code>
attribute in each <code>&lt;item&gt;</code> you need to move.</p>

<p>To specify the options menu for an activity, override <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> (fragments provide their
own <code><a href="../../../reference/android/app/Fragment.html#onCreateOptionsMenu(android.view.Menu, android.view.MenuInflater)">onCreateOptionsMenu()</a></code> callback). In this
method, you can inflate your menu resource (<a href="#xml">defined in XML</a>) into the <code><a href="../../../reference/android/view/Menu.html">Menu</a></code> provided in the callback. For example:</p>

<pre>
&#64;Override
public boolean onCreateOptionsMenu(Menu menu) {
    MenuInflater inflater = <code><a href="../../../reference/android/app/Activity.html#getMenuInflater()">getMenuInflater()</a></code>;
    inflater.inflate(R.menu.game_menu, menu);
    return true;
}
</pre>

<p>You can also add menu items using <code><a href="../../../reference/android/view/Menu.html#add(int, int, int, int)">add()</a></code> and retrieve items with <code><a href="../../../reference/android/view/Menu.html#findItem(int)">findItem()</a></code> to revise their
properties with <code><a href="../../../reference/android/view/MenuItem.html">MenuItem</a></code> APIs.</p>

<p>If you've developed your application for Android 2.3.x and lower, the system calls <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> to create the options menu
when the user opens the menu for the first time. If you've developed for Android 3.0 and higher, the
system calls <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> when
starting the activity, in order to show items to the action bar.</p>



<h3 id="RespondingOptionsMenu">Handling click events</h3>

<p>When the user selects an item from the options menu (including action items in the action bar),
the system calls your activity's <code><a href="../../../reference/android/app/Activity.html#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> method. This method passes the <code><a href="../../../reference/android/view/MenuItem.html">MenuItem</a></code> selected. You
can identify the item by calling <code><a href="../../../reference/android/view/MenuItem.html#getItemId()">getItemId()</a></code>, which returns the unique
ID for the menu item (defined by the <code>android:id</code> attribute in the menu resource or with an
integer given to the <code><a href="../../../reference/android/view/Menu.html#add(int, int, int, int)">add()</a></code> method). You can match
this ID against known menu items to perform the appropriate action. For example:</p>

<pre>
&#64;Override
public boolean onOptionsItemSelected(MenuItem item) {
    // Handle item selection
    switch (item.getItemId()) {
        case R.id.new_game:
            newGame();
            return true;
        case R.id.help:
            showHelp();
            return true;
        default:
            return super.onOptionsItemSelected(item);
    }
}
</pre>

<p>When you successfully handle a menu item, return <code>true</code>. If you don't handle the menu
item, you should call the superclass implementation of <code><a href="../../../reference/android/app/Activity.html#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> (the default
implementation returns false).</p>

<p>If your activity includes fragments, the system first calls <code><a href="../../../reference/android/app/Activity.html#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> for the activity then
for each fragment (in the order each fragment was added) until one returns
<code>true</code> or all fragments have been called.</p>

<p class="note"><strong>Tip:</strong> Android 3.0 adds the ability for you to define the on-click
behavior for a menu item in XML, using the <code>android:onClick</code> attribute. The value for the
attribute must be the name of a method defined by the activity using the menu. The method
must be public and accept a single <code><a href="../../../reference/android/view/MenuItem.html">MenuItem</a></code> parameter&mdash;when the system
calls this method, it passes the menu item selected. For more information and an example, see the <a
href="../../../guide/topics/resources/menu-resource.html">Menu Resource</a> document.</p>

<p class="note"><strong>Tip:</strong> If your application contains multiple activities and
some of them provide the same options menu, consider creating
an activity that implements nothing except the <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> and <code><a href="../../../reference/android/app/Activity.html#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> methods. Then extend this class for each activity that should share the
same options menu. This way, you can manage one set of code for handling menu
actions and each descendant class inherits the menu behaviors.
If you want to add menu items to one of the descendant activities,
override <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> in that activity. Call <code>super.onCreateOptionsMenu(menu)</code> so the
original menu items are created, then add new menu items with <code><a href="../../../reference/android/view/Menu.html#add(int, int, int, int)">menu.add()</a></code>. You can also override the super class's
behavior for individual menu items.</p>


<h3 id="ChangingTheMenu">Changing menu items at runtime</h3>

<p>After the system calls <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code>, it retains an instance of the <code><a href="../../../reference/android/view/Menu.html">Menu</a></code> you populate and
will not call <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code>
again unless the menu is invalidated for some reason. However, you should use <code><a href="../../../reference/android/app/Activity.html#onCreateOptionsMenu(android.view.Menu)">onCreateOptionsMenu()</a></code> only to create the initial
menu state and not to make changes during the activity lifecycle.</p>

<p>If you want to modify the options menu based on 
events that occur during the activity lifecycle, you can do so in
the <code><a href="../../../reference/android/app/Activity.html#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code> method. This
method passes you the <code><a href="../../../reference/android/view/Menu.html">Menu</a></code> object as it currently exists so you can modify it,
such as add, remove, or disable items. (Fragments also provide an <code><a href="../../../reference/android/app/Fragment.html#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code> callback.)</p>

<p>On Android 2.3.x and lower, the system calls <code><a href="../../../reference/android/app/Activity.html#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code> each time the user opens the options menu (presses the <em>Menu</em>
button).</p>

<p>On Android 3.0 and higher, the options menu is considered to always be open when menu items are
presented in the action bar. When an event occurs and you want to perform a menu update, you must
call <code><a href="../../../reference/android/app/Activity.html#invalidateOptionsMenu()">invalidateOptionsMenu()</a></code> to request that the
system call <code><a href="../../../reference/android/app/Activity.html#onPrepareOptionsMenu(android.view.Menu)">onPrepareOptionsMenu()</a></code>.</p>

<p class="note"><strong>Note:</strong> 
You should never change items in the options menu based on the <code><a href="../../../reference/android/view/View.html">View</a></code> currently
in focus. When in touch mode (when the user is not using a trackball or d-pad), views
cannot take focus, so you should never use focus as the basis for modifying
items in the options menu. If you want to provide menu items that are context-sensitive to a <code><a href="../../../reference/android/view/View.html">View</a></code>, use a <a href="#context-menu">Context Menu</a>.</p>




<h2 id="context-menu">Creating Contextual Menus</h2>

<div class="figure" style="width:420px;margin-top:-1em">
  <img src="../../../images/ui/menu-context.png" alt="" />
  <p class="img-caption"><strong>Figure 3.</strong> Screenshots of a floating context menu (left)
and the contextual action bar (right).</p>
</div>

<p>A contextual menu offers actions that affect a specific item or context frame in the UI. You
can provide a context menu for any view, but they are most often used for items in a <code><a href="../../../reference/android/widget/ListView.html">ListView</a></code>, <code><a href="../../../reference/android/widget/GridView.html">GridView</a></code>, or other view collections in which
the user can perform direct actions on each item.</p>

<p>There are two ways to provide contextual actions:</p>
<ul>
  <li>In a <a href="#FloatingContextMenu">floating context menu</a>. A menu appears as a
floating list of menu items (similar to a dialog) when the user performs a long-click (press and
hold) on a view that declares support for a context menu. Users can perform a contextual
action on one item at a time.</li>

  <li>In the <a href="#CAB">contextual action mode</a>. This mode is a system implementation of
<code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code> that displays a <em>contextual action bar</em> at the top of the
screen with action items that affect the selected item(s). When this mode is active, users
can perform an action on multiple items at once (if your app allows it).</li>
</ul>

<p class="note"><strong>Note:</strong> The contextual action mode is available on Android 3.0 (API
level 11) and higher and is the preferred technique for displaying contextual actions when
available. If your app supports versions lower than 3.0 then you should fall back to a floating
context menu on those devices.</p>


<h3 id="FloatingContextMenu">Creating a floating context menu</h3>

<p>To provide a floating context menu:</p>
<ol>
  <li>Register the <code><a href="../../../reference/android/view/View.html">View</a></code> to which the context menu should be associated by
calling <code><a href="../../../reference/android/app/Activity.html#registerForContextMenu(android.view.View)">registerForContextMenu()</a></code> and pass
it the <code><a href="../../../reference/android/view/View.html">View</a></code>.
  <p>If your activity uses a <code><a href="../../../reference/android/widget/ListView.html">ListView</a></code> or <code><a href="../../../reference/android/widget/GridView.html">GridView</a></code> and
you want each item to provide the same context menu, register all items for a context menu by
passing the <code><a href="../../../reference/android/widget/ListView.html">ListView</a></code> or <code><a href="../../../reference/android/widget/GridView.html">GridView</a></code> to <code><a href="../../../reference/android/app/Activity.html#registerForContextMenu(android.view.View)">registerForContextMenu()</a></code>.</p>
</li>

  <li>Implement the <code><a href="../../../reference/android/view/View.OnCreateContextMenuListener.html#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code> method
in your <code><a href="../../../reference/android/app/Activity.html">Activity</a></code> or <code><a href="../../../reference/android/app/Fragment.html">Fragment</a></code>.
  <p>When the registered view receives a long-click event, the system calls your <code><a href="../../../reference/android/view/View.OnCreateContextMenuListener.html#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code>
method. This is where you define the menu items, usually by inflating a menu resource. For
example:</p>
<pre>
&#64;Override
public void onCreateContextMenu(ContextMenu menu, View v,
                                ContextMenuInfo menuInfo) {
    super.onCreateContextMenu(menu, v, menuInfo);
    MenuInflater inflater = getMenuInflater();
    inflater.inflate(R.menu.context_menu, menu);
}
</pre>

<p><code><a href="../../../reference/android/view/MenuInflater.html">MenuInflater</a></code> allows you to inflate the context menu from a <a
href="../../../guide/topics/resources/menu-resource.html">menu resource</a>. The callback method
parameters include the <code><a href="../../../reference/android/view/View.html">View</a></code>
that the user selected and a <code><a href="../../../reference/android/view/ContextMenu.ContextMenuInfo.html">ContextMenu.ContextMenuInfo</a></code> object that provides
additional information about the item selected. If your activity has several views that each provide
a different context menu, you might use these parameters to determine which context menu to
inflate.</p>
</li>

<li>Implement <code><a href="../../../reference/android/app/Activity.html#onContextItemSelected(android.view.MenuItem)">onContextItemSelected()</a></code>.
  <p>When the user selects a menu item, the system calls this method so you can perform the
appropriate action. For example:</p>

<pre>
&#64;Override
public boolean onContextItemSelected(MenuItem item) {
    AdapterContextMenuInfo info = (AdapterContextMenuInfo) item.getMenuInfo();
    switch (item.getItemId()) {
        case R.id.edit:
            editNote(info.id);
            return true;
        case R.id.delete:
            deleteNote(info.id);
            return true;
        default:
            return super.onContextItemSelected(item);
    }
}
</pre>

<p>The <code><a href="../../../reference/android/view/MenuItem.html#getItemId()">getItemId()</a></code> method queries the ID for
the selected menu item, which you should assign to each menu item in XML using the <code>android:id</code> attribute, as shown in the section about <a href="#xml">Defining a Menu in
XML</a>.</p>

<p>When you successfully handle a menu item, return <code>true</code>. If you don't handle the menu item,
you should pass the menu item to the superclass implementation. If your activity includes fragments,
the activity receives this callback first. By calling the superclass when unhandled, the system
passes the event to the respective callback method in each fragment, one at a time (in the order
each fragment was added) until <code>true</code> or <code>false</code> is returned. (The default
implementation for <code><a href="../../../reference/android/app/Activity.html">Activity</a></code> and <code>android.app.Fragment</code> return <code>false</code>, so you should always call the superclass when unhandled.)</p>
</li>
</ol>


<h3 id="CAB">Using the contextual action mode</h3>

<p>The contextual action mode is a system implementation of <code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code> that
focuses user interaction toward performing contextual actions. When a
user enables this mode by selecting an item, a <em>contextual action bar</em> appears at the top of
the screen to present actions the user can perform on the currently selected item(s). While this
mode is enabled, the user can select multiple items (if you allow it), deselect items, and continue
to navigate within the activity (as much as you're willing to allow). The action mode is disabled
and the contextual action bar disappears when the user deselects all items, presses the BACK button,
or selects the <em>Done</em> action on the left side of the bar.</p>

<p class="note"><strong>Note:</strong> The contextual action bar is not necessarily
associated with the <a href="../../../guide/topics/ui/actionbar.html">action bar</a>. They operate
independently, even though the contextual action bar visually overtakes the action bar
position.</p>

<p>If you're developing for Android 3.0 (API level 11) or higher, you
should usually use the contextual action mode to present contextual actions, instead of the <a
href="#FloatingContextMenu">floating context menu</a>.</p>

<p>For views that provide contextual actions, you should usually invoke the contextual action mode
upon one of two events (or both):</p>
<ul>
  <li>The user performs a long-click on the view.</li>
  <li>The user selects a checkbox or similar UI component within the view.</li>
</ul>

<p>How your application invokes the contextual action mode and defines the behavior for each
action depends on your design. There are basically two designs:</p>
<ul>
  <li>For contextual actions on individual, arbitrary views.</li>
  <li>For batch contextual actions on groups of items in a <code><a href="../../../reference/android/widget/ListView.html">ListView</a></code> or <code><a href="../../../reference/android/widget/GridView.html">GridView</a></code> (allowing the user to select multiple
items and perform an action on them all).</li>
</ul>

<p>The following sections describe the setup required for each scenario.</p>


<h4 id="CABforViews">Enabling the contextual action mode for individual views</h4>

<p>If you want to invoke the contextual action mode only when the user selects specific
views, you should:</p>
<ol>
  <li>Implement the <code><a href="../../../reference/android/view/ActionMode.Callback.html">ActionMode.Callback</a></code> interface. In its callback methods, you
can specify the actions for the contextual action bar, respond to click events on action items, and
handle other lifecycle events for the action mode.</li>
  <li>Call <code><a href="../../../reference/android/app/Activity.html#startActionMode(android.view.ActionMode.Callback)">startActionMode()</a></code> when you want to show the
bar (such as when the user long-clicks the view).</li>
</ol>

<p>For example:</p>

<ol>
  <li>Implement the <code><a href="../../../reference/android/view/ActionMode.Callback.html">ActionMode.Callback</a></code> interface:
<pre>
private ActionMode.Callback mActionModeCallback = new ActionMode.Callback() {

    // Called when the action mode is created; startActionMode() was called
    &#64;Override
    public boolean onCreateActionMode(ActionMode mode, Menu menu) {
        // Inflate a menu resource providing context menu items
        MenuInflater inflater = mode.getMenuInflater();
        inflater.inflate(R.menu.context_menu, menu);
        return true;
    }

    // Called each time the action mode is shown. Always called after onCreateActionMode, but
    // may be called multiple times if the mode is invalidated.
    &#64;Override
    public boolean onPrepareActionMode(ActionMode mode, Menu menu) {
        return false; // Return false if nothing is done
    }

    // Called when the user selects a contextual menu item
    &#64;Override
    public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
        switch (item.getItemId()) {
            case R.id.menu_share:
                shareCurrentItem();
                mode.finish(); // Action picked, so close the CAB
                return true;
            default:
                return false;
        }
    }

    // Called when the user exits the action mode
    &#64;Override
    public void onDestroyActionMode(ActionMode mode) {
        mActionMode = null;
    }
};
</pre>

<p>Notice that these event callbacks are almost exactly the same as the callbacks for the <a
href="#options-menu">options menu</a>, except each of these also pass the <code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code> object associated with the event. You can use <code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code> APIs to make various changes to the CAB, such as revise the title and
subtitle with <code><a href="../../../reference/android/view/ActionMode.html#setTitle(int)">setTitle()</a></code> and <code><a href="../../../reference/android/view/ActionMode.html#setSubtitle(int)">setSubtitle()</a></code> (useful to indicate how many items are
selected).</p>

<p>Also notice that the above sample sets the <code>mActionMode</code> variable null when the
action mode is destroyed. In the next step, you'll see how it's initialized and how saving
the member variable in your activity or fragment can be useful.</p>
</li>

  <li>Call <code><a href="../../../reference/android/app/Activity.html#startActionMode(android.view.ActionMode.Callback)">startActionMode()</a></code> to enable the contextual
action mode when appropriate, such as in response to a long-click on a <code><a href="../../../reference/android/view/View.html">View</a></code>:</p>

<pre>
someView.setOnLongClickListener(new View.OnLongClickListener() {
    // Called when the user long-clicks on someView
    public boolean onLongClick(View view) {
        if (mActionMode != null) {
            return false;
        }

        // Start the CAB using the ActionMode.Callback defined above
        mActionMode = getActivity().startActionMode(mActionModeCallback);
        view.setSelected(true);
        return true;
    }
});
</pre>

<p>When you call <code><a href="../../../reference/android/app/Activity.html#startActionMode(android.view.ActionMode.Callback)">startActionMode()</a></code>, the system returns
the <code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code> created. By saving this in a member variable, you can
make changes to the contextual action bar in response to other events. In the above sample, the
<code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code> is used to ensure that the <code><a href="../../../reference/android/view/ActionMode.html">ActionMode</a></code> instance
is not recreated if it's already active, by checking whether the member is null before starting the
action mode.</p>
</li>
</ol>



<h4 id="CABforListView">Enabling batch contextual actions in a ListView or GridView</h4>

<p>If you have a collection of items in a <code><a href="../../../reference/android/widget/ListView.html">ListView</a></code> or <code><a href="../../../reference/android/widget/GridView.html">GridView</a></code> (or another extension of <code><a href="../../../reference/android/widget/AbsListView.html">AbsListView</a></code>) and want to
allow users to perform batch actions, you should:</p>

<ul>
  <li>Implement the <code><a href="../../../reference/android/widget/AbsListView.MultiChoiceModeListener.html">AbsListView.MultiChoiceModeListener</a></code> interface and set it
for the view group with <code><a href="../../../reference/android/widget/AbsListView.html#setMultiChoiceModeListener(android.widget.AbsListView.MultiChoiceModeListener)">setMultiChoiceModeListener()</a></code>. In the listener's callback methods, you can specify the actions
for the contextual action bar, respond to click events on action items, and handle other callbacks
inherited from the <code><a href="../../../reference/android/view/ActionMode.Callback.html">ActionMode.Callback</a></code> interface.</li>

  <li>Call <code><a href="../../../reference/android/widget/AbsListView.html#setChoiceMode(int)">setChoiceMode()</a></code> with the <code><a href="../../../reference/android/widget/AbsListView.html#CHOICE_MODE_MULTIPLE_MODAL">CHOICE_MODE_MULTIPLE_MODAL</a></code> argument.</li>
</ul>

<p>For example:</p>

<pre>
ListView listView = getListView();
listView.setChoiceMode(ListView.CHOICE_MODE_MULTIPLE_MODAL);
listView.setMultiChoiceModeListener(new MultiChoiceModeListener() {

    &#64;Override
    public void onItemCheckedStateChanged(ActionMode mode, int position,
                                          long id, boolean checked) {
        // Here you can do something when items are selected/de-selected,
        // such as update the title in the CAB
    }

    &#64;Override
    public boolean onActionItemClicked(ActionMode mode, MenuItem item) {
        // Respond to clicks on the actions in the CAB
        switch (item.getItemId()) {
            case R.id.menu_delete:
                deleteSelectedItems();
                mode.finish(); // Action picked, so close the CAB
                return true;
            default:
                return false;
        }
    }

    &#64;Override
    public boolean onCreateActionMode(ActionMode mode, Menu menu) {
        // Inflate the menu for the CAB
        MenuInflater inflater = mode.getMenuInflater();
        inflater.inflate(R.menu.context, menu);
        return true;
    }

    &#64;Override
    public void onDestroyActionMode(ActionMode mode) {
        // Here you can make any necessary updates to the activity when
        // the CAB is removed. By default, selected items are deselected/unchecked.
    }

    &#64;Override
    public boolean onPrepareActionMode(ActionMode mode, Menu menu) {
        // Here you can perform updates to the CAB due to
        // an <code><a href="../../../reference/android/view/ActionMode.html#invalidate()">invalidate()</a></code> request
        return false;
    }
});
</pre>

<p>That's it. Now when the user selects an item with a long-click, the system calls the <code><a href="../../../reference/android/view/ActionMode.Callback.html#onCreateActionMode(android.view.ActionMode, android.view.Menu)">onCreateActionMode()</a></code>
method and displays the contextual action bar with the specified actions. While the contextual
action bar is visible, users can select additional items.</p>

<p>In some cases in which the contextual actions provide common action items, you might
want to add a checkbox or a similar UI element that allows users to select items, because they
might not discover the long-click behavior. When a user selects the checkbox, you
can invoke the contextual action mode by setting the respective list item to the checked
state with <code><a href="../../../reference/android/widget/AbsListView.html#setItemChecked(int, boolean)">setItemChecked()</a></code>.</p>




<h2 id="PopupMenu">Creating a Popup Menu</h2>

<div class="figure" style="width:220px">
<img src="../../../images/ui/popupmenu.png" alt="" />
<p><strong>Figure 4.</strong> A popup menu in the Gmail app, anchored to the overflow
button at the top-right.</p>
</div>

<p>A <code><a href="../../../reference/android/widget/PopupMenu.html">PopupMenu</a></code> is a modal menu anchored to a <code><a href="../../../reference/android/view/View.html">View</a></code>.
It appears below the anchor view if there is room, or above the view otherwise. It's useful for:</p>
<ul>
  <li>Providing an overflow-style menu for actions that <em>relate to</em> specific content (such as
Gmail's email headers, shown in figure 4).
    <p class="note"><strong>Note:</strong> This is not the same as a context menu, which is
generally for actions that <em>affect</em> selected content. For actions that affect selected
content, use the <a href="#CAB">contextual action mode</a> or <a
href="#FloatingContextMenu">floating context menu</a>.</p></li>
  <li>Providing a second part of a command sentence (such as a button marked "Add"
that produces a popup menu with different "Add" options).</li>
  <li>Providing a drop-down similar to <code><a href="../../../reference/android/widget/Spinner.html">Spinner</a></code> that does not retain
a persistent selection.</li>
</ul>


<p class="note"><strong>Note:</strong> <code><a href="../../../reference/android/widget/PopupMenu.html">PopupMenu</a></code> is available with API
level 11 and higher.</p>

<p>If you <a href="#xml">define your menu in XML</a>, here's how you can show the popup menu:</p>
<ol>
  <li>Instantate a <code><a href="../../../reference/android/widget/PopupMenu.html">PopupMenu</a></code> with its constructor, which takes the
current application <code><a href="../../../reference/android/content/Context.html">Context</a></code> and the <code><a href="../../../reference/android/view/View.html">View</a></code> to which the
menu should be anchored.</li>
  <li>Use <code><a href="../../../reference/android/view/MenuInflater.html">MenuInflater</a></code> to inflate your menu resource into the <code><a href="../../../reference/android/view/Menu.html">Menu</a></code> object returned by <code><a href="../../../reference/android/widget/PopupMenu.html#getMenu()">PopupMenu.getMenu()</a></code>. On API level 14 and above, you can use
<code><a href="../../../reference/android/widget/PopupMenu.html#inflate(int)">PopupMenu.inflate()</a></code> instead.</li>
  <li>Call <code><a href="../../../reference/android/widget/PopupMenu.html#show()">PopupMenu.show()</a></code>.</li>
</ol>

<p>For example, here's a button with the <code><a href="../../../reference/android/R.attr.html#onClick">android:onClick</a></code> attribute
that shows a popup menu:</p>

<pre>
&lt;ImageButton
    android:layout_width="wrap_content" 
    android:layout_height="wrap_content" 
    android:src="@drawable/ic_overflow_holo_dark"
    android:contentDescription="@string/descr_overflow_button"
    android:onClick="showPopup" />
</pre>

<p>The activity can then show the popup menu like this:</p>

<pre>
public void showPopup(View v) {
    PopupMenu popup = new PopupMenu(this, v);
    MenuInflater inflater = popup.getMenuInflater();
    inflater.inflate(R.menu.actions, popup.getMenu());
    popup.show();
}
</pre>

<p>In API level 14 and higher, you can combine the two lines that inflate the menu with <code><a href="../../../reference/android/widget/PopupMenu.html#inflate(int)">PopupMenu.inflate()</a></code>.</p>

<p>The menu is dismissed when the user selects an item or touches outside the menu
area. You can listen for the dismiss event using <code><a href="../../../reference/android/widget/PopupMenu.OnDismissListener.html">PopupMenu.OnDismissListener</a></code>.</p>

<h3 id="PopupEvents">Handling click events</h3>

<p>To perform an
action when the user selects a menu item, you must implement the <code><a href="../../../reference/android/widget/PopupMenu.OnMenuItemClickListener.html">PopupMenu.OnMenuItemClickListener</a></code> interface and register it with your <code><a href="../../../reference/android/widget/PopupMenu.html">PopupMenu</a></code> by calling <code><a href="../../../reference/android/widget/PopupMenu.html#setOnMenuItemClickListener(android.widget.PopupMenu.OnMenuItemClickListener)">setOnMenuItemclickListener()</a></code>. When the user selects an item, the system calls the <code><a href="../../../reference/android/widget/PopupMenu.OnMenuItemClickListener.html#onMenuItemClick(android.view.MenuItem)">onMenuItemClick()</a></code> callback in
your interface.</p>

<p>For example:</p>

<pre>
public void showMenu(View v) {
    PopupMenu popup = new PopupMenu(this, v);

    // This activity implements OnMenuItemClickListener
    popup.setOnMenuItemClickListener(this);
    popup.inflate(R.menu.actions);
    popup.show();
}

&#64;Override
public boolean onMenuItemClick(MenuItem item) {
    switch (item.getItemId()) {
        case R.id.archive:
            archive(item);
            return true;
        case R.id.delete:
            delete(item);
            return true;
        default:
            return false;
    }
}
</pre>


<h2 id="groups">Creating Menu Groups</h2>

<p>A menu group is a collection of menu items that share certain traits. With a group, you
can:</p>
<ul>
  <li>Show or hide all items with <code><a href="../../../reference/android/view/Menu.html#setGroupVisible(int, boolean)">setGroupVisible()</a></code></li>
  <li>Enable or disable all items with <code><a href="../../../reference/android/view/Menu.html#setGroupEnabled(int, boolean)">setGroupEnabled()</a></code></li>
  <li>Specify whether all items are checkable with <code><a href="../../../reference/android/view/Menu.html#setGroupCheckable(int, boolean, boolean)">setGroupCheckable()</a></code></li>
</ul>

<p>You can create a group by nesting <code>&lt;item&gt;</code> elements inside a <code>&lt;group&gt;</code>
element in your menu resource or by specifying a group ID with the <code><a href="../../../reference/android/view/Menu.html#add(int, int, int, int)">add()</a></code> method.</p>

<p>Here's an example menu resource that includes a group:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;item android:id="@+id/menu_save"
          android:icon="@drawable/menu_save"
          android:title="@string/menu_save" /&gt;
    &lt;!-- menu group --&gt;
    &lt;group android:id="@+id/group_delete"&gt;
        &lt;item android:id="@+id/menu_archive"
              android:title="@string/menu_archive" /&gt;
        &lt;item android:id="@+id/menu_delete"
              android:title="@string/menu_delete" /&gt;
    &lt;/group&gt;
&lt;/menu&gt;
</pre>

<p>The items that are in the group appear at the same level as the first item&mdash;all three items
in the menu are siblings. However, you can modify the traits of the two
items in the group by referencing the group ID and using the methods listed above. The system
will also never separate grouped items. For example, if you declare <code>android:showAsAction="ifRoom"</code> for each item, they will either both appear in the action
bar or both appear in the action overflow.</p>


<h3 id="checkable">Using checkable menu items</h3>

<div class="figure" style="width:200px">
  <img src="../../../images/radio_buttons.png" height="333" alt="" />
  <p class="img-caption"><strong>Figure 5.</strong> Screenshot of a submenu with checkable
items.</p>
</div>

<p>A menu can be useful as an interface for turning options on and off, using a checkbox for
stand-alone options, or radio buttons for groups of
mutually exclusive options. Figure 5 shows a submenu with items that are checkable with radio
buttons.</p>

<p class="note"><strong>Note:</strong> Menu items in the Icon Menu (from the options menu) cannot
display a checkbox or radio button. If you choose to make items in the Icon Menu checkable,
you must manually indicate the checked state by swapping the icon and/or text
each time the state changes.</p>

<p>You can define the checkable behavior for individual menu items using the <code>android:checkable</code> attribute in the <code>&lt;item&gt;</code> element, or for an entire group with
the <code>android:checkableBehavior</code> attribute in the <code>&lt;group&gt;</code> element. For
example, all items in this menu group are checkable with a radio button:</p>

<pre>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;menu xmlns:android="http://schemas.android.com/apk/res/android"&gt;
    &lt;group android:checkableBehavior="single"&gt;
        &lt;item android:id="@+id/red"
              android:title="@string/red" /&gt;
        &lt;item android:id="@+id/blue"
              android:title="@string/blue" /&gt;
    &lt;/group&gt;
&lt;/menu&gt;
</pre>

<p>The <code>android:checkableBehavior</code> attribute accepts either:
<dl>
  <dt><code>single</code></dt>
    <dd>Only one item from the group can be checked (radio buttons)</dd>
  <dt><code>all</code></dt>
    <dd>All items can be checked (checkboxes)</dd>
  <dt><code>none</code></dt>
    <dd>No items are checkable</dd>
</dl>

<p>You can apply a default checked state to an item using the <code>android:checked</code> attribute in
the <code>&lt;item&gt;</code> element and change it in code with the <code><a href="../../../reference/android/view/MenuItem.html#setChecked(boolean)">setChecked()</a></code> method.</p>

<p>When a checkable item is selected, the system calls your respective item-selected callback method
(such as <code><a href="../../../reference/android/app/Activity.html#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code>). It
is here that you must set the state of the checkbox, because a checkbox or radio button does not
change its state automatically. You can query the current state of the item (as it was before the
user selected it) with <code><a href="../../../reference/android/view/MenuItem.html#isChecked()">isChecked()</a></code> and then set the checked state with
<code><a href="../../../reference/android/view/MenuItem.html#setChecked(boolean)">setChecked()</a></code>. For example:</p>

<pre>
&#64;Override
public boolean onOptionsItemSelected(MenuItem item) {
    switch (item.getItemId()) {
        case R.id.vibrate:
        case R.id.dont_vibrate:
            if (item.isChecked()) item.setChecked(false);
            else item.setChecked(true);
            return true;
        default:
            return super.onOptionsItemSelected(item);
    }
}
</pre>

<p>If you don't set the checked state this way, then the visible state of the item (the checkbox or
radio button) will not
change when the user selects it. When you do set the state, the activity preserves the checked state
of the item so that when the user opens the menu later, the checked state that you
set is visible.</p>

<p class="note"><strong>Note:</strong>
Checkable menu items are intended to be used only on a per-session basis and not saved after the
application is destroyed. If you have application settings that you would like to save for the user,
you should store the data using <a
href="../../../guide/topics/data/data-storage.html#pref">Shared Preferences</a>.</p>



<h2 id="intents">Adding Menu Items Based on an Intent</h2>

<p>Sometimes you'll want a menu item to launch an activity using an <code><a href="../../../reference/android/content/Intent.html">Intent</a></code>
(whether it's an activity in your application or another application). When you know the intent you
want to use and have a specific menu item that should initiate the intent, you can execute the
intent with <code><a href="../../../reference/android/app/Activity.html#startActivity(android.content.Intent)">startActivity()</a></code> during the
appropriate on-item-selected callback method (such as the <code><a href="../../../reference/android/app/Activity.html#onOptionsItemSelected(android.view.MenuItem)">onOptionsItemSelected()</a></code> callback).</p>

<p>However, if you are not certain that the user's device
contains an application that handles the intent, then adding a menu item that invokes it can result
in a non-functioning menu item, because the intent might not resolve to an
activity. To solve this, Android lets you dynamically add menu items to your menu
when Android finds activities on the device that handle your intent.</p>

<p>To add menu items based on available activities that accept an intent:</p>
<ol>
  <li>Define an
intent with the category <code><a href="../../../reference/android/content/Intent.html#CATEGORY_ALTERNATIVE">CATEGORY_ALTERNATIVE</a></code> and/or
<code><a href="../../../reference/android/content/Intent.html#CATEGORY_SELECTED_ALTERNATIVE">CATEGORY_SELECTED_ALTERNATIVE</a></code>, plus any other requirements.</li>
  <li>Call <code><a href="../../../reference/android/view/Menu.html#addIntentOptions(int, int, int, android.content.ComponentName, android.content.Intent[], android.content.Intent, int, android.view.MenuItem[])">Menu.addIntentOptions()</a></code>. Android then searches for any applications that can perform the intent
and adds them to your menu.</li>
</ol>

<p>If there are no applications installed
that satisfy the intent, then no menu items are added.</p>

<p class="note"><strong>Note:</strong>
<code><a href="../../../reference/android/content/Intent.html#CATEGORY_SELECTED_ALTERNATIVE">CATEGORY_SELECTED_ALTERNATIVE</a></code> is used to handle the currently
selected element on the screen. So, it should only be used when creating a Menu in <code><a href="../../../reference/android/app/Activity.html#onCreateContextMenu(android.view.ContextMenu, android.view.View, android.view.ContextMenu.ContextMenuInfo)">onCreateContextMenu()</a></code>.</p>

<p>For example:</p>

<pre>
&#64;Override
public boolean onCreateOptionsMenu(Menu menu){
    super.onCreateOptionsMenu(menu);

    // Create an Intent that describes the requirements to fulfill, to be included
    // in our menu. The offering app must include a category value of Intent.CATEGORY_ALTERNATIVE.
    Intent intent = new Intent(null, dataUri);
    intent.addCategory(Intent.CATEGORY_ALTERNATIVE);

    // Search and populate the menu with acceptable offering applications.
    menu.addIntentOptions(
         R.id.intent_group,  // Menu group to which new items will be added
         0,      // Unique item ID (none)
         0,      // Order for the items (none)
         this.getComponentName(),   // The current activity name
         null,   // Specific items to place first (none)
         intent, // Intent created above that describes our requirements
         0,      // Additional flags to control items (none)
         null);  // Array of MenuItems that correlate to specific items (none)

    return true;
}</pre>

<p>For each activity found that provides an intent filter matching the intent defined, a menu
item is added, using the value in the intent filter's <code>android:label</code> as the
menu item title and the application icon as the menu item icon. The
<code><a href="../../../reference/android/view/Menu.html#addIntentOptions(int, int, int, android.content.ComponentName, android.content.Intent[], android.content.Intent, int, android.view.MenuItem[])">addIntentOptions()</a></code> method returns the number of menu items added.</p>

<p class="note"><strong>Note:</strong> When you call <code><a href="../../../reference/android/view/Menu.html#addIntentOptions(int, int, int, android.content.ComponentName, android.content.Intent[], android.content.Intent, int, android.view.MenuItem[])">addIntentOptions()</a></code>, it overrides any and all menu items by the menu group specified in the first
argument.</p>


<h3 id="AllowingToAdd">Allowing your activity to be added to other menus</h3>

<p>You can also offer the services of your activity to other applications, so your
application can be included in the menu of others (reverse the roles described above).</p>

<p>To be included in other application menus, you need to define an intent
filter as usual, but be sure to include the <code><a href="../../../reference/android/content/Intent.html#CATEGORY_ALTERNATIVE">CATEGORY_ALTERNATIVE</a></code>
and/or <code><a href="../../../reference/android/content/Intent.html#CATEGORY_SELECTED_ALTERNATIVE">CATEGORY_SELECTED_ALTERNATIVE</a></code> values for the intent filter
category. For example:</p>
<pre>
&lt;intent-filter label="&#64;string/resize_image">
    ...
    &lt;category android:name="android.intent.category.ALTERNATIVE" />
    &lt;category android:name="android.intent.category.SELECTED_ALTERNATIVE" />
    ...
&lt;/intent-filter>
</pre>

<p>Read more about writing intent filters in the
<a href="/guide/components/intents-filters.html">Intents and Intent Filters</a> document.</p>

<p>For a sample application using this technique, see the 
<a href="../../../resources/samples/NotePad/src/com/example/android/notepad/NoteEditor.html">Note
Pad</a> sample code.</p>

    </div>
      
      <div class="content-footer layout-content-row" 
                    itemscope itemtype="http://schema.org/SiteNavigationElement">
        <div class="layout-content-col col-8" style="padding-top:4px">
          
            <div class="g-plusone" data-size="medium"></div>
          
        </div>
        
        <div class="paging-links layout-content-col col-4">
          
        </div>
        
      </div>
      
      
      

  </div> <!-- end jd-content -->

<div id="footer" class="wrap" >
        

  <div id="copyright">
    
  Except as noted, this content is 
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and 
  restrictions, see the <a href="../../../license.html">Content 
  License</a>.
  </div>


  <div id="footerlinks">
    
  <p>
    <a href="../../../about/index.html">About Android</a>&nbsp;&nbsp;|&nbsp;
    <a href="../../../legal.html">Legal</a>&nbsp;&nbsp;|&nbsp;
    <a href="../../../support.html">Support</a>
  </p>
  </div>

</div> <!-- end footer -->
</div><!-- end doc-content -->

</div> <!-- end body-content --> 






</body>
</html>



