<!DOCTYPE html>












































































<html>

  <head>


<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width" />

<link rel="shortcut icon" type="image/x-icon" href="../../../favicon.ico" />
<title>Android NDK | Android Developers</title>

<!-- STYLESHEETS -->
<link rel="stylesheet"
href="http://fonts.googleapis.com/css?family=Roboto:regular,medium,thin,italic,mediumitalic,bold" title="roboto">
<link href="../../../assets/css/default.css" rel="stylesheet" type="text/css">



<!-- JAVASCRIPT -->
<script src="http://www.google.com/jsapi" type="text/javascript"></script>
<script src="../../../assets/js/android_3p-bundle.js" type="text/javascript"></script>
<script type="text/javascript">
  var toRoot = "../../../";
  var devsite = false;
</script>
<script src="../../../assets/js/docs.js" type="text/javascript"></script>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-5831155-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body class="gc-documentation 
  develop" itemscope itemtype="http://schema.org/CreativeWork">
  <a name="top"></a>

<a name="top"></a>

    <!-- Header -->
    <div id="header">
        <div class="wrap" id="header-wrap">
          <div class="col-3 logo">
          <a href="../../../index.html">
            <img src="../../../assets/images/dac_logo.png" width="123" height="25" alt="Android Developers" />
          </a>
          <div class="btn-quicknav" id="btn-quicknav">
          	<a href="#" class="arrow-inactive">Quicknav</a>
			      <a href="#" class="arrow-active">Quicknav</a>
          </div>
          </div>
            <ul class="nav-x col-9">
                <li class="design">
                  <a href="../../../design/index.html"
                  zh-tw-lang="設計"
                  zh-cn-lang="设计"
                  ru-lang="Проектирование"
                  ko-lang="디자인"
                  ja-lang="設計"
                  es-lang="Diseñar"               
                  >Design</a></li>
                <li class="develop"><a href="../../../develop/index.html"
                  zh-tw-lang="開發"
                  zh-cn-lang="开发"
                  ru-lang="Разработка"
                  ko-lang="개발"
                  ja-lang="開発"
                  es-lang="Desarrollar"               
                  >Develop</a></li>
                <li class="distribute last"><a href="../../../distribute/index.html"
                  zh-tw-lang="發佈"
                  zh-cn-lang="分发"
                  ru-lang="Распространение"
                  ko-lang="배포"
                  ja-lang="配布"
                  es-lang="Distribuir"               
                  >Distribute</a></li>
            </ul>
            
            <!-- New Search -->
            <div class="menu-container">
            <div class="moremenu">
    <div id="more-btn"></div>
  </div>
  <div class="morehover" id="moremenu">
    <div class="top"></div>
    <div class="mid">
      <div class="header">Links</div>
      <ul>
        <li><a href="https://play.google.com/apps/publish/">Google Play Developer Console</a></li>
        <li><a href="http://android-developers.blogspot.com/">Android Developers Blog</a></li>
        <li><a href="../../../about/index.html">About Android</a></li>
      </ul>
      <div class="header">Android Sites</div>
      <ul>
        <li><a href="http://www.android.com">Android.com</a></li>
        <li class="active"><a>Android Developers</a></li>
        <li><a href="http://source.android.com">Android Open Source Project</a></li>
      </ul>
      
      
      
      


      <br class="clearfix" />
    </div>
    <div class="bottom"></div>
  </div>
  <div class="search" id="search-container">
    <div class="search-inner">
      <div id="search-btn"></div>
      <div class="left"></div>
      <form onsubmit="return submit_search()">
        <input id="search_autocomplete" type="text" value="" autocomplete="off" name="q"
onfocus="search_focus_changed(this, true)" onblur="search_focus_changed(this, false)"
onkeydown="return search_changed(event, true, '../../../')" 
onkeyup="return search_changed(event, false, '../../../')" />
      </form>
      <div class="right"></div>
        <a class="close hide">close</a>
        <div class="left"></div>
        <div class="right"></div>
    </div>
  </div>

  <div class="search_filtered_wrapper reference">
    <div class="suggest-card reference no-display">
      <ul class="search_filtered">
      </ul>
    </div>
  </div>

  <div class="search_filtered_wrapper docs">
    <div class="suggest-card dummy no-display">&nbsp;</div>
    <div class="suggest-card develop no-display">
      <ul class="search_filtered">
      </ul>
      <div class="child-card guides no-display">
      </div>
      <div class="child-card training no-display">
      </div>
    </div>
    <div class="suggest-card design no-display">
      <ul class="search_filtered">
      </ul>
    </div>
    <div class="suggest-card distribute no-display">
      <ul class="search_filtered">
      </ul>
    </div>
  </div>

  </div>
  <!-- /New Search>
          
          
          <!-- Expanded quicknav -->
           <div id="quicknav" class="col-9">
                <ul>
                    <li class="design">
                      <ul>
                        <li><a href="../../../design/index.html">Get Started</a></li>
                        <li><a href="../../../design/style/index.html">Style</a></li>
                        <li><a href="../../../design/patterns/index.html">Patterns</a></li>
                        <li><a href="../../../design/building-blocks/index.html">Building Blocks</a></li>
                        <li><a href="../../../design/downloads/index.html">Downloads</a></li>
                        <li><a href="../../../design/videos/index.html">Videos</a></li>
                      </ul>
                    </li>
                    <li class="develop">
                      <ul>
                        <li><a href="../../../training/index.html"
                          zh-tw-lang="訓練課程"
                          zh-cn-lang="培训"
                          ru-lang="Курсы"
                          ko-lang="교육"
                          ja-lang="トレーニング"
                          es-lang="Capacitación"               
                          >Training</a></li>
                        <li><a href="../../../guide/components/index.html"
                          zh-tw-lang="API 指南"
                          zh-cn-lang="API 指南"
                          ru-lang="Руководства по API"
                          ko-lang="API 가이드"
                          ja-lang="API ガイド"
                          es-lang="Guías de la API"               
                          >API Guides</a></li>
                        <li><a href="../../../reference/packages.html"
                          zh-tw-lang="參考資源"
                          zh-cn-lang="参考"
                          ru-lang="Справочник"
                          ko-lang="참조문서"
                          ja-lang="リファレンス"
                          es-lang="Referencia"               
                          >Reference</a></li>
                        <li><a href="../../../tools/index.html"
                          zh-tw-lang="相關工具"
                          zh-cn-lang="工具"
                          ru-lang="Инструменты"
                          ko-lang="도구"
                          ja-lang="ツール"
                          es-lang="Herramientas"               
                          >Tools</a>
                          <ul><li><a href="../../../sdk/index.html">Get the SDK</a></li></ul>
                        </li>
                        <li><a href="../../../google/index.html">Google Services</a>
                        </li>
                        
                      </ul>
                    </li>
                    <li class="distribute last">
                      <ul>
                        <li><a href="../../../distribute/index.html">Google Play</a></li>
                        <li><a href="../../../distribute/googleplay/publish/index.html">Publishing</a></li>
                        <li><a href="../../../distribute/googleplay/promote/index.html">Promoting</a></li>
                        <li><a href="../../../distribute/googleplay/quality/index.html">App Quality</a></li>
                        <li><a href="../../../distribute/googleplay/spotlight/index.html">Spotlight</a></li>
                        <li><a href="../../../distribute/open.html">Open Distribution</a></li>
                      </ul>
                    </li>
                </ul>
          </div>
          <!-- /Expanded quicknav -->
        </div>
    </div>
    <!-- /Header -->
    
    
  <div id="searchResults" class="wrap" style="display:none;">
          <h2 id="searchTitle">Results</h2>
          <div id="leftSearchControl" class="search-control">Loading...</div>
  </div>
    
    
  
    <!-- Secondary x-nav -->
    <div id="nav-x">
        <div class="wrap">
            <ul class="nav-x col-9 develop" style="width:100%">
                <li class="training"><a href="../../../training/index.html"
                  zh-tw-lang="訓練課程"
                  zh-cn-lang="培训"
                  ru-lang="Курсы"
                  ko-lang="교육"
                  ja-lang="トレーニング"
                  es-lang="Capacitación"               
                  >Training</a></li>
                <li class="guide"><a href="../../../guide/components/index.html"
                  zh-tw-lang="API 指南"
                  zh-cn-lang="API 指南"
                  ru-lang="Руководства по API"
                  ko-lang="API 가이드"
                  ja-lang="API ガイド"
                  es-lang="Guías de la API"               
                  >API Guides</a></li>
                <li class="reference"><a href="../../../reference/packages.html"
                  zh-tw-lang="參考資源"
                  zh-cn-lang="参考"
                  ru-lang="Справочник"
                  ko-lang="참조문서"
                  ja-lang="リファレンス"
                  es-lang="Referencia"               
                  >Reference</a></li>
                <li class="tools"><a href="../../../tools/index.html"
                  zh-tw-lang="相關工具"
                  zh-cn-lang="工具"
                  ru-lang="Инструменты"
                  ko-lang="도구"
                  ja-lang="ツール"
                  es-lang="Herramientas"
                  >Tools</a></li>
                <li class="google"><a href="../../../google/index.html"
                  >Google Services</a>
                </li>
                
            </ul>
        </div>
        
    </div>
    <!-- /Sendondary x-nav -->
  




  

  <div class="wrap clearfix" id="body-content">
    <div class="col-3" id="side-nav" itemscope itemtype="http://schema.org/SiteNavigationElement">
      <div id="devdoc-nav" class="scroll-pane">
<a class="totop" href="#top" data-g-event="left-nav-top">to top</a>
<ul id="nav">

  <li class="nav-section">
    <div class="nav-section-header empty">
        <a href="../../../tools/index.html"><span class="en">Developer Tools</span></a>
    </div>
  </li>

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../sdk/index.html"><span class="en">Download</span></a></div>
    <ul>
      <li><a href="../../../sdk/installing/bundle.html">
          <span class="en">Setting Up the ADT Bundle</span></a></li>

      <li class="nav-section">
        <div class="nav-section-header">
          <a href="../../../sdk/installing/index.html"><span class="en">Setting Up
    an Existing IDE</span></a></div>
        <ul>
          <li><a href="../../../sdk/installing/installing-adt.html">
              <span class="en">Installing the Eclipse Plugin</span></a></li>
        <li><a href="../../../sdk/installing/adding-packages.html">
            <span class="en">Adding Platforms and Packages</span></a></li>
        </ul>
      </li>

      <li class="nav-section">
        <div class="nav-section-header">
          <a href="../../../sdk/installing/studio.html">Android Studio</a>
        </div>
        <ul>
          <li><a href="../../../sdk/installing/migrate.html">
              Migrating from Eclipse</a></li>
          <li><a href="../../../sdk/installing/studio-tips.html">
              Tips and Tricks</a></li>
        </ul>
      </li>
      <li><a href="../../../sdk/exploring.html">
          <span class="en">Exploring the SDK</span></a></li>
      <li><a href="../../../tools/sdk/ndk/index.html">Download the NDK</a>
      </li>
    </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header">
        <a href="../../../tools/workflow/index.html"><span class="en">Workflow</span></a>
    </div>
    <ul>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../tools/devices/index.html"><span class="en">Setting Up Virtual Devices</span></a></div>
        <ul>
          <li><a href="../../../tools/devices/managing-avds.html"><span class="en">With AVD Manager</span></a></li>
          <li><a href="../../../tools/devices/managing-avds-cmdline.html"><span class="en">From the Command Line</span></a></li>
          <li><a href="../../../tools/devices/emulator.html"><span class="en">Using the Emulator</span></a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../tools/device.html"><span class="en">Using Hardware Devices</span></a></div>
        <ul>
          <li><a href="../../../tools/extras/oem-usb.html"><span
            class="en">USB Drivers</span></a></li>
        </ul>
      </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../tools/projects/index.html"><span class="en">Setting Up Projects</span></a></div>
        <ul>
          <li><a href="../../../tools/projects/projects-eclipse.html"><span class="en">From Eclipse with ADT</span></a></li>
          <li><a href="../../../tools/projects/projects-cmdline.html"><span class="en">From the Command Line</span></a></li>
          <li><a href="../../../tools/projects/templates.html"><span class="en">Using Code Templates</span></a></li>
        </ul>
      </li>


      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../tools/building/index.html"><span class="en">Building and Running</span></a></div>
        <ul>
          <li><a href="../../../tools/building/building-eclipse.html"><span class="en">From Eclipse with ADT</span></a></li>
          <li><a href="../../../tools/building/building-cmdline.html"><span class="en">From the Command Line</span></a></li>
        </ul>
      </li>


  <li class="nav-section">
        <div class="nav-section-header"><a href="../../../tools/testing/index.html">
            <span class="en">Testing</span>
          </a></div>
        <ul>
          <li>
            <a href="../../../tools/testing/testing_android.html">
            <span class="en">Fundamentals</span></a>
          </li>
          <li><a href="../../../tools/testing/testing_eclipse.html">
            <span class="en">From Eclipse</span></a>
          </li>
          <li><a href="../../../tools/testing/testing_otheride.html">
            <span class="en">From Other IDEs</span></a>
          </li>
          <li>
            <a href="../../../tools/testing/activity_testing.html">
            <span class="en">Activity Testing</span></a>
          </li>
          <li>
            <a href="../../../tools/testing/service_testing.html">
            <span class="en">Service Testing</span></a>
          </li>
          <li>
            <a href="../../../tools/testing/contentprovider_testing.html">
            <span class="en">Content Provider Testing</span></a>
          </li>
          <li>
            <a href="../../../tools/testing/testing_accessibility.html">
            <span class="en">Accessibility Testing</span></a>
          </li>
           <li>
            <a href="../../../tools/testing/testing_ui.html">
            <span class="en">UI Testing</span></a>
          </li>
          <li>
            <a href="../../../tools/testing/what_to_test.html">
            <span class="en">What To Test</span></a>
          </li>
          <li>
            <a href="../../../tools/testing/activity_test.html">
            <span class="en">Activity Testing Tutorial</span></a>
          </li>
        </ul>
  </li><!-- end of testing -->

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../tools/debugging/index.html"><span class="en">Debugging</span></a></div>
    <ul>
      <li><a href="../../../tools/debugging/debugging-projects.html"><span class="en">From Eclipse with ADT</span></a></li>
      <li><a href="../../../tools/debugging/debugging-projects-cmdline.html"><span class="en">From Other IDEs</span></a></li>
      <li><a href="../../../tools/debugging/ddms.html"><span class="en">Using DDMS</span></a></li>
      <li><a href="../../../tools/debugging/debugging-log.html"><span class="en">Reading and Writing Logs</span></a></li>
      <li><a href="../../../tools/debugging/improving-w-lint.html"><span class="en">Improving Your Code with lint</span></a></li>
      <li><a href="../../../tools/debugging/debugging-ui.html"><span class="en">Optimizing your UI</span></a></li>
      <li><a href="../../../tools/debugging/debugging-tracing.html"><span class="en">Profiling with Traceview and dmtracedump</span></a></li>
      <li><a href="../../../tools/debugging/systrace.html"><span class="en">Analysing Display and Performance with Systrace</span></a></li>
      <li><a href="../../../tools/debugging/debugging-memory.html">Investigating Your RAM Usage</a></li>
      <li><a href="../../../tools/debugging/debugging-devtools.html"><span class="en">Using the Dev Tools App</span></a></li>
    </ul>
  </li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../tools/publishing/publishing_overview.html"><span class="en">Publishing</span></a></div>
        <ul>
          <li><a href="../../../tools/publishing/preparing.html"><span class="en">Preparing for Release</span></a></li>
          <li><a href="../../../tools/publishing/versioning.html"><span class="en">Versioning Your Apps</span></a></li>
          <li><a href="../../../tools/publishing/app-signing.html"><span class="en">Signing Your Apps</span></a></li>
        </ul>
      </li>
    </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../tools/support-library/index.html"><span
class="en">Support Library</span></a></div>
    <ul>
      <li><a href="../../../tools/support-library/features.html">Features</a></li>
      <li><a href="../../../tools/support-library/setup.html">Setup</a></li>
    </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../tools/help/index.html"><span
class="en">Tools Help</span></a></div>
    <ul>
      <li><a href="../../../tools/help/adb.html">adb</a></li>
      <li><a href="../../../tools/help/adt.html">ADT</a></li>
      <li><a href="../../../tools/help/android.html">android</a></li>
      <li><a href="../../../tools/help/avd-manager.html">AVD Manager</a></li>
      <li><a href="../../../tools/help/bmgr.html">bmgr</a>
      <li><a href="../../../tools/help/monitor.html">Device Monitor</a></li>
      <li><a href="../../../tools/help/dmtracedump.html">dmtracedump</a></li>
      <li><a href="../../../tools/help/draw9patch.html">Draw 9-Patch</a></li>
      <li><a href="../../../tools/help/emulator.html">Emulator</a></li>
      <li><a href="../../../tools/help/etc1tool.html">etc1tool</a></li>
      <li><a href="../../../tools/help/hierarchy-viewer.html">Hierarchy Viewer</a></li>
      <li><a href="../../../tools/help/hprof-conv.html">hprof-conv</a></li>
      <li><a href="../../../tools/help/jobb.html">jobb</a></li>
      <li><a href="../../../tools/help/lint.html">lint</span></a></li>
      <li><a href="../../../tools/help/logcat.html">logcat</a></li>
      <li><a href="../../../tools/help/mksdcard.html">mksdcard</a></li>
      <li><a href="../../../tools/help/monkey.html">monkey</a></li>
      <li class="nav-section">
        <div class="nav-section-header"><a href="../../../tools/help/monkeyrunner_concepts.html"><span class="en">monkeyrunner</span></a></div>
        <ul>
          <li><a href="../../../tools/help/MonkeyDevice.html"><span
class="en">MonkeyDevice</span></a></li>
          <li><a href="../../../tools/help/MonkeyImage.html"><span
class="en">MonkeyImage</span></a></li>
          <li><a href="../../../tools/help/MonkeyRunner.html"><span
class="en">MonkeyRunner</span></a></li>
        </ul>
      </li>
       <li><a href="../../../tools/help/proguard.html">ProGuard</a></li>
       <li><a href="../../../tools/help/sdk-manager.html">SDK Manager</a></li>
       <li><a href="../../../tools/help/systrace.html">Systrace</a></li>
       <li><a href="../../../tools/help/gltracer.html">Tracer for OpenGL ES</a></li>
       <li><a href="../../../tools/help/traceview.html">Traceview</a></li>
       <li class="nav-section">
          <div class="nav-section-header"><a href="../../../tools/help/uiautomator/index.html"><span class="en">uiautomator</span></a></div>
          <ul>
             <li><a href="../../../tools/help/uiautomator/Configurator.html"><span class="en">Configurator</span></a></li>
             <li><a href="../../../tools/help/uiautomator/IAutomationSupport.html"><span class="en">IAutomationSupport</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiAutomatorTestCase.html"><span class="en">UiAutomatorTestCase</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiCollection.html"><span class="en">UiCollection</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiDevice.html"><span class="en">UiDevice</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiObject.html"><span class="en">UiObject</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiObjectNotFoundException.html"><span class="en">UiObjectNotFoundException</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiScrollable.html"><span class="en">UiScrollable</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiSelector.html"><span class="en">UiSelector</span></a></li>
             <li><a href="../../../tools/help/uiautomator/UiWatcher.html"><span class="en">UiWatcher</span></a></li>
          </ul>
       </li>
       <li><a href="../../../tools/help/zipalign.html">zipalign</a></li>
    </ul>
  </li>

  <li class="nav-section">
    <div class="nav-section-header"><a href="../../../tools/revisions/index.html"><span class="en">Revisions</span></a></div>
    <ul>
      <li><a href="../../../tools/sdk/tools-notes.html">
        <span class="en">Tools</span>
      </a></li>
      <li><a href="../../../tools/sdk/eclipse-adt.html">
        <span class="en">ADT Plugin</span>
      </a></li>
      <!--
      <li><a href="../../../tools/sdk/addons.html"><span class="en">Add-ons</span></a></li>
      -->
      <li><a href="../../../tools/revisions/platforms.html"><span
class="en">Platforms</span></a></li>
    </ul>
  </li>


  <li class="nav-section">
    <div class="nav-section-header empty"><a href="../../../tools/samples/index.html"><span class="en">Samples</span></a></div>
  </li>


  <li class="nav-section">
    <div class="nav-section-header">
    <a href="../../../tools/adk/index.html">
      <span class="en">ADK</span></a>
    </div>
    <ul>
      <li><a href="../../../tools/adk/adk2.html">ADK 2012 Guide</a></li>
      <li><a href="../../../tools/adk/adk.html">ADK 2011 Guide</a></li>
    </ul>
  </li>

</ul><!-- nav -->

<script type="text/javascript">
<!--
    buildToggleLists();
    changeNavLang(getLangPref());
//-->
</script>

        
        
      </div>
    </div> <!-- end side-nav -->
    <script>
      $(document).ready(function() {
        scrollIntoView("devdoc-nav");
        });
    </script>





<div class="col-13" id="doc-col" >





<h1 itemprop="name">Android NDK</h1>

  <div id="jd-content" itemprop="description">







  <table class="download" id="download-table">
    <tr>
      <th>Platform</th>
      <th>Package</th>
      <th style="white-space:nowrap">Size (Bytes)</th>
      <th>MD5 Checksum</th>
  </tr>
  <tr>
    <td rowspan="2" style="white-space:nowrap">Windows 32-bit</td>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-windows-x86.zip">android-ndk-r9b-windows-x86.zip</a>
    </td>
    <td>455928388</td>
    <td>cfb9402ea08a1554186e85ed28cb4593</td>
  </tr>
  <tr>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-windows-x86-legacy-toolchains.zip">android-ndk-r9b-windows-x86-legacy-toolchains.zip</a>
    </td>
    <td>152568224</td>
    <td>00c8373b53ad9475f1bab1de4219b877</td>
  </tr>
  <tr>
    <td rowspan="2" style="white-space:nowrap">Windows 64-bit</td>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-windows-x86_64.zip">android-ndk-r9b-windows-x86_64.zip</a>
    </td>
    <td>479012553</td>
    <td>1ba6be7ebf4e9272d77031dd70f81e94</td>
  </tr>
  <tr>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-windows-x86_64-legacy-toolchains.zip">android-ndk-r9b-windows-x86_64-legacy-toolchains.zip</a>
    </td>
    <td>166961852</td>
    <td>6eee9459986e8b7f1032d62831dd775b</td>
  </tr>
  <tr>
    <td rowspan="2" style="white-space:nowrap">Mac OS X 32-bit</td>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-darwin-x86.tar.bz2">android-ndk-r9b-darwin-x86.tar.bz2</a>
    </td>
    <td>349307548</td>
    <td>b5fa7aa3b9fca5a5b0c46bdd970d284b</td>
  </tr>
  <tr>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-darwin-x86-legacy-toolchains.tar.bz2">android-ndk-r9b-darwin-x86-legacy-toolchains.tar.bz2</a>
    </td>
    <td>119394536</td>
    <td>be0a07bcea3695f7d93cbd1b880d3f75</td>
  </tr>
  <tr>
    <td rowspan="2"  style="white-space:nowrap">Mac OS X 64-bit</td>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-darwin-x86_64.tar.bz2">android-ndk-r9b-darwin-x86_64.tar.bz2</a>
    </td>
    <td>354748937</td>
    <td>710d80b6ff807f03e585f9aacee3bf09</td>
  </tr>
  <tr>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-darwin-x86_64-legacy-toolchains.tar.bz2">android-ndk-r9b-darwin-x86_64-legacy-toolchains.tar.bz2</a>
    </td>
    <td>122378495</td>
    <td>19c696a5b690b040409c68b21e9fcf46</td>
  </tr>

  <tr>
    <td rowspan="2" style="white-space:nowrap">Linux 32-bit (x86)</td>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-linux-x86.tar.bz2">android-ndk-r9b-linux-x86.tar.bz2</a>
    </td>
    <td>361394055</td>
    <td>d7f783deaeea6b60cb515d9427c01c2e</td>
  </tr>
  <tr>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-linux-x86-legacy-toolchains.tar.bz2">android-ndk-r9b-linux-x86-legacy-toolchains.tar.bz2</a>
    </td>
    <td>125676842</td>
    <td>bfc7a1e6baf856b4348d57abffc761d2</td>
  </tr>
  <tr>
    <td rowspan="2" style="white-space:nowrap">Linux 64-bit (x86)</td>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-linux-x86_64.tar.bz2">android-ndk-r9b-linux-x86_64.tar.bz2</a>
    </td>
    <td>366988131</td>
    <td>56c0999a2683d6711591843217f943e0</td>
  </tr>
  <tr>
    <td>
  <a onClick="return onDownload(this)"
     href="http://dl.google.com/android/ndk/android-ndk-r9b-linux-x86_64-legacy-toolchains.tar.bz2">android-ndk-r9b-linux-x86_64-legacy-toolchains.tar.bz2</a>
    </td>
    <td>127742633</td>
    <td>f41017d5888a8dc210d1703dcdf1def7</td>
  </tr>
  </table>
  
  
  <div id="tos" style="display:none;width:760px;height:0;margin:0 auto">

<div id="download" class="ndk" style="
z-index: 99;
width: 720px;
position: absolute;
margin: -70px 0;
padding: 14px;
background: white;
border: 1px solid #999;
box-shadow: -10px 10px 50px #888;
-moz-box-shadow: -10px 10px 50px #888;
-webkit-box-shadow: -10px 10px 50px #888;">
<p>Before installing the Android NDK, you must agree to the following terms and conditions.</p>
<div class="sdk-terms" style="width:auto" onfocus="this.blur()">
<h2 class="norule">Terms and Conditions</h2>
This is the Android Software Development Kit License Agreement

<h3>1. Introduction</h3>
1.1 The Android Software Development Kit (referred to in this License Agreement as the "SDK" and specifically including the Android system files, packaged APIs, and Google APIs add-ons) is licensed to you subject to the terms of this License Agreement. This License Agreement forms a legally binding contract between you and Google in relation to your use of the SDK.

1.2 “Android” means the Android software stack for devices, as made available under the Android Open Source Project, which is located at the following URL: http://source.android.com/, as updated from time to time.

1.3 "Google" means Google Inc., a Delaware corporation with principal place of business at 1600 Amphitheatre Parkway, Mountain View, CA 94043, United States.


<h3>2. Accepting this License Agreement</h3>
2.1 In order to use the SDK, you must first agree to this License Agreement. You may not use the SDK if you do not accept this License Agreement.

2.2 By clicking to accept, you hereby agree to the terms of this License Agreement.

2.3 You may not use the SDK and may not accept the License Agreement if you are a person barred from receiving the SDK under the laws of the United States or other countries including the country in which you are resident or from which you use the SDK.

2.4 If you are agreeing to be bound by this License Agreement on behalf of your employer or other entity, you represent and warrant that you have full legal authority to bind your employer or such entity to this License Agreement. If you do not have the requisite authority, you may not accept the License Agreement or use the SDK on behalf of your employer or other entity.


<h3>3. SDK License from Google</h3>
3.1 Subject to the terms of this License Agreement, Google grants you a limited, worldwide, royalty-free, non-assignable and non-exclusive license to use the SDK solely to develop applications to run on the Android platform.

3.2 You agree that Google or third parties own all legal right, title and interest in and to the SDK, including any Intellectual Property Rights that subsist in the SDK. "Intellectual Property Rights" means any and all rights under patent law, copyright law, trade secret law, trademark law, and any and all other proprietary rights. Google reserves all rights not expressly granted to you.

3.3 You may not use the SDK for any purpose not expressly permitted by this License Agreement.  Except to the extent required by applicable third party licenses, you may not: (a) copy (except for backup purposes), modify, adapt, redistribute, decompile, reverse engineer, disassemble, or create derivative works of the SDK or any part of the SDK; or (b) load any part of the SDK onto a mobile handset or any other hardware device except a personal computer, combine any part of the SDK with other software, or distribute any software or device incorporating a part of the SDK.

3.4 You agree that you will not take any actions that may cause or result in the fragmentation of Android, including but not limited to distributing, participating in the creation of, or promoting in any way a software development kit derived from the SDK.

3.5 Use, reproduction and distribution of components of the SDK licensed under an open source software license are governed solely by the terms of that open source software license and not this License Agreement.

3.6 You agree that the form and nature of the SDK that Google provides may change without prior notice to you and that future versions of the SDK may be incompatible with applications developed on previous versions of the SDK. You agree that Google may stop (permanently or temporarily) providing the SDK (or any features within the SDK) to you or to users generally at Google's sole discretion, without prior notice to you.

3.7 Nothing in this License Agreement gives you a right to use any of Google's trade names, trademarks, service marks, logos, domain names, or other distinctive brand features.

3.8 You agree that you will not remove, obscure, or alter any proprietary rights notices (including copyright and trademark notices) that may be affixed to or contained within the SDK.


<h3>4. Use of the SDK by You</h3>
4.1 Google agrees that it obtains no right, title or interest from you (or your licensors) under this License Agreement in or to any software applications that you develop using the SDK, including any intellectual property rights that subsist in those applications.

4.2 You agree to use the SDK and write applications only for purposes that are permitted by (a) this License Agreement and (b) any applicable law, regulation or generally accepted practices or guidelines in the relevant jurisdictions (including any laws regarding the export of data or software to and from the United States or other relevant countries).

4.3 You agree that if you use the SDK to develop applications for general public users, you will protect the privacy and legal rights of those users. If the users provide you with user names, passwords, or other login information or personal information, you must make the users aware that the information will be available to your application, and you must provide legally adequate privacy notice and protection for those users. If your application stores personal or sensitive information provided by users, it must do so securely. If the user provides your application with Google Account information, your application may only use that information to access the user's Google Account when, and for the limited purposes for which, the user has given you permission to do so.

4.4 You agree that you will not engage in any activity with the SDK, including the development or distribution of an application, that interferes with, disrupts, damages, or accesses in an unauthorized manner the servers, networks, or other properties or services of any third party including, but not limited to, Google or any mobile communications carrier.

4.5 You agree that you are solely responsible for (and that Google has no responsibility to you or to any third party for) any data, content, or resources that you create, transmit or display through Android and/or applications for Android, and for the consequences of your actions (including any loss or damage which Google may suffer) by doing so.

4.6 You agree that you are solely responsible for (and that Google has no responsibility to you or to any third party for) any breach of your obligations under this License Agreement, any applicable third party contract or Terms of Service, or any applicable law or regulation, and for the consequences (including any loss or damage which Google or any third party may suffer) of any such breach.


<h3>5. Your Developer Credentials</h3>
5.1 You agree that you are responsible for maintaining the confidentiality of any developer credentials that may be issued to you by Google or which you may choose yourself and that you will be solely responsible for all applications that are developed under your developer credentials.


<h3>6. Privacy and Information</h3>
6.1 In order to continually innovate and improve the SDK, Google may collect certain usage statistics from the software including but not limited to a unique identifier, associated IP address, version number of the software, and information on which tools and/or services in the SDK are being used and how they are being used. Before any of this information is collected, the SDK will notify you and seek your consent. If you withhold consent, the information will not be collected.

6.2 The data collected is examined in the aggregate to improve the SDK and is maintained in accordance with Google's Privacy Policy.


<h3>7. Third Party Applications</h3>
7.1 If you use the SDK to run applications developed by a third party or that access data, content or resources provided by a third party, you agree that Google is not responsible for those applications, data, content, or resources. You understand that all data, content or resources which you may access through such third party applications are the sole responsibility of the person from which they originated and that Google is not liable for any loss or damage that you may experience as a result of the use or access of any of those third party applications, data, content, or resources.

7.2 You should be aware the data, content, and resources presented to you through such a third party application may be protected by intellectual property rights which are owned by the providers (or by other persons or companies on their behalf). You may not modify, rent, lease, loan, sell, distribute or create derivative works based on these data, content, or resources (either in whole or in part) unless you have been specifically given permission to do so by the relevant owners.

7.3 You acknowledge that your use of such third party applications, data, content, or resources may be subject to separate terms between you and the relevant third party. In that case, this License Agreement does not affect your legal relationship with these third parties.


<h3>8. Using Android APIs</h3>
8.1 Google Data APIs

8.1.1 If you use any API to retrieve data from Google, you acknowledge that the data may be protected by intellectual property rights which are owned by Google or those parties that provide the data (or by other persons or companies on their behalf). Your use of any such API may be subject to additional Terms of Service. You may not modify, rent, lease, loan, sell, distribute or create derivative works based on this data (either in whole or in part) unless allowed by the relevant Terms of Service.

8.1.2 If you use any API to retrieve a user's data from Google, you acknowledge and agree that you shall retrieve data only with the user's explicit consent and only when, and for the limited purposes for which, the user has given you permission to do so.


<h3>9. Terminating this License Agreement</h3>
9.1 This License Agreement will continue to apply until terminated by either you or Google as set out below.

9.2 If you want to terminate this License Agreement, you may do so by ceasing your use of the SDK and any relevant developer credentials.

9.3 Google may at any time, terminate this License Agreement with you if:
(A) you have breached any provision of this License Agreement; or
(B) Google is required to do so by law; or
(C) the partner with whom Google offered certain parts of SDK (such as APIs) to you has terminated its relationship with Google or ceased to offer certain parts of the SDK to you; or
(D) Google decides to no longer provide the SDK or certain parts of the SDK to users in the country in which you are resident or from which you use the service, or the provision of the SDK or certain SDK services to you by Google is, in Google's sole discretion, no longer commercially viable.

9.4 When this License Agreement comes to an end, all of the legal rights, obligations and liabilities that you and Google have benefited from, been subject to (or which have accrued over time whilst this License Agreement has been in force) or which are expressed to continue indefinitely, shall be unaffected by this cessation, and the provisions of paragraph 14.7 shall continue to apply to such rights, obligations and liabilities indefinitely.


<h3>10. DISCLAIMER OF WARRANTIES</h3>
10.1 YOU EXPRESSLY UNDERSTAND AND AGREE THAT YOUR USE OF THE SDK IS AT YOUR SOLE RISK AND THAT THE SDK IS PROVIDED "AS IS" AND "AS AVAILABLE" WITHOUT WARRANTY OF ANY KIND FROM GOOGLE.

10.2 YOUR USE OF THE SDK AND ANY MATERIAL DOWNLOADED OR OTHERWISE OBTAINED THROUGH THE USE OF THE SDK IS AT YOUR OWN DISCRETION AND RISK AND YOU ARE SOLELY RESPONSIBLE FOR ANY DAMAGE TO YOUR COMPUTER SYSTEM OR OTHER DEVICE OR LOSS OF DATA THAT RESULTS FROM SUCH USE.

10.3 GOOGLE FURTHER EXPRESSLY DISCLAIMS ALL WARRANTIES AND CONDITIONS OF ANY KIND, WHETHER EXPRESS OR IMPLIED, INCLUDING, BUT NOT LIMITED TO THE IMPLIED WARRANTIES AND CONDITIONS OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT.


<h3>11. LIMITATION OF LIABILITY</h3>
11.1 YOU EXPRESSLY UNDERSTAND AND AGREE THAT GOOGLE, ITS SUBSIDIARIES AND AFFILIATES, AND ITS LICENSORS SHALL NOT BE LIABLE TO YOU UNDER ANY THEORY OF LIABILITY FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL OR EXEMPLARY DAMAGES THAT MAY BE INCURRED BY YOU, INCLUDING ANY LOSS OF DATA, WHETHER OR NOT GOOGLE OR ITS REPRESENTATIVES HAVE BEEN ADVISED OF OR SHOULD HAVE BEEN AWARE OF THE POSSIBILITY OF ANY SUCH LOSSES ARISING.


<h3>12. Indemnification</h3>
12.1 To the maximum extent permitted by law, you agree to defend, indemnify and hold harmless Google, its affiliates and their respective directors, officers, employees and agents from and against any and all claims, actions, suits or proceedings, as well as any and all losses, liabilities, damages, costs and expenses (including reasonable attorneys fees) arising out of or accruing from (a) your use of the SDK, (b) any application you develop on the SDK that infringes any copyright, trademark, trade secret, trade dress, patent or other intellectual property right of any person or defames any person or violates their rights of publicity or privacy, and (c) any non-compliance by you with this License Agreement.


<h3>13. Changes to the License Agreement</h3>
13.1 Google may make changes to the License Agreement as it distributes new versions of the SDK. When these changes are made, Google will make a new version of the License Agreement available on the website where the SDK is made available.


<h3>14. General Legal Terms</h3>
14.1 This License Agreement constitutes the whole legal agreement between you and Google and governs your use of the SDK (excluding any services which Google may provide to you under a separate written agreement), and completely replaces any prior agreements between you and Google in relation to the SDK.

14.2 You agree that if Google does not exercise or enforce any legal right or remedy which is contained in this License Agreement (or which Google has the benefit of under any applicable law), this will not be taken to be a formal waiver of Google's rights and that those rights or remedies will still be available to Google.

14.3 If any court of law, having the jurisdiction to decide on this matter, rules that any provision of this License Agreement is invalid, then that provision will be removed from this License Agreement without affecting the rest of this License Agreement. The remaining provisions of this License Agreement will continue to be valid and enforceable.

14.4 You acknowledge and agree that each member of the group of companies of which Google is the parent shall be third party beneficiaries to this License Agreement and that such other companies shall be entitled to directly enforce, and rely upon, any provision of this License Agreement that confers a benefit on (or rights in favor of) them. Other than this, no other person or company shall be third party beneficiaries to this License Agreement.

14.5 EXPORT RESTRICTIONS. THE SDK IS SUBJECT TO UNITED STATES EXPORT LAWS AND REGULATIONS. YOU MUST COMPLY WITH ALL DOMESTIC AND INTERNATIONAL EXPORT LAWS AND REGULATIONS THAT APPLY TO THE SDK. THESE LAWS INCLUDE RESTRICTIONS ON DESTINATIONS, END USERS AND END USE.

14.6 The rights granted in this License Agreement may not be assigned or transferred by either you or Google without the prior written approval of the other party. Neither you nor Google shall be permitted to delegate their responsibilities or obligations under this License Agreement without the prior written approval of the other party.

14.7 This License Agreement, and your relationship with Google under this License Agreement, shall be governed by the laws of the State of California without regard to its conflict of laws provisions. You and Google agree to submit to the exclusive jurisdiction of the courts located within the county of Santa Clara, California to resolve any legal matter arising from this License Agreement. Notwithstanding this, you agree that Google shall still be allowed to apply for injunctive remedies (or an equivalent type of urgent legal relief) in any jurisdiction.


<em>November 13, 2012</em>
</div>



<div id="sdk-terms-form">
<p>
<input id="agree" type="checkbox" name="agree" value="1" onclick="onAgreeChecked()" />
<label id="agreeLabel" for="agree">I have read and agree with the above terms and conditions</label>
</p>
<p><a href="" class="button disabled ndk" id="downloadForRealz" onclick="return onDownloadNdkForRealz(this);"></a></p>
</div>



</div>
</div>










 <div id="qv-wrapper">
    <div id="qv">
      <h2>In this document</h2>

      <ol>
        <li><a href="#Downloads">Downloads</a></li>
        <li><a href="#Revisions">Revisions</a></li>
        <li><a href="#Reqs">System and Software Requirements</a></li>
        <li><a href="#Installing">Installing the NDK</a></li>
        <li><a href="#GetStarted">Getting Started with the NDK</a>
          <ol>
            <li><a href="#Using">Using the NDK</a></li>
          </ol>
        </li>
        <li><a href="#Contents">Contents of the NDK</a>
          <ol>
            <li><a href="#Tools">Development tools</a></li>
            <li><a href="#Docs">Documentation</a></li>
            <li><a href="#Samples">Sample apps</a></li>
          </ol>
        </li>
      </ol>
    </div>
  </div>

  <p>The NDK is a toolset that allows you to implement parts
  of your app using native-code languages such as C and C++. For certain types of apps,
  this can be helpful so you can reuse existing code libraries written in these
  languages, but most apps do not need the Android NDK.</p>

  <p>Before downloading the NDK, you should understand that <strong>the NDK
   will not benefit most apps</strong>. As a developer, you need to balance its benefits
  against its drawbacks. Notably, using native code on Android
  generally does not result in a noticable performance improvement,
  but it always increases your app complexity. In general, you should only use the NDK
  if it is essential to your app&mdash;never because you simply prefer to program in C/C++.</p>

  <p>Typical good candidates for the NDK are self-contained, CPU-intensive operations that don't
  allocate much memory, such as signal processing, physics simulation, and so on. When examining
  whether or not you should develop in native code, think about your requirements and see if the
  Android framework APIs provide the functionality that you need.</p>


<h2 id="Downloads">Downloads</h2>


<script>
$('#Downloads').after($('#download-table'));
</script>


<p>With NDK revision 9 and higher, the release packages have been split to reduce download size.
  The first download for each platform contains the default NDK toolchain. The second download
  contains legacy NDK toolchains for that platform, which is only required if you are not using
  the current, recommended toolchain for your NDK builds.</p>



<h2 id="Revisions">Revisions</h2>

<p>The following sections provide information about releases of the NDK.</p>

<div class="toggle-content opened">
  <p>
    <a href="#" onclick="return toggleContent(this)"> <img
      src="../../../assets/images/triangle-opened.png" class="toggle-content-img" alt=""
    >Android NDK, Revision 9b</a> <em>(October 2013)</em>
  </p>
  <div class="toggle-content-toggleme">
    <dl>
      <dt>Important changes:</dt>
      <dd>
      <ul>
        <li>Updated <code>include/android/*h</code> and <code>math.h</code> for all Android API levels up to
          18, including the addition of levels 13, 15, 16 and 17.
          For information on added APIs, see commit messages for Changes
          <a href="https://android-review.googlesource.com/68012">68012</a> and
          <a href="https://android-review.googlesource.com/68014">68014</a>.
          (Issues <a href="http://b.android.com/47150">47150</a>,
           <a href="http://b.android.com/58528">58528</a>, and
           <a href="http://b.android.com/38423">38423</a>)</li>
        <li>Added support for API level 19, including Renderscript binding.</li>
        <li>Added support for <code>-mhard-float</code> in the existing armeabi-v7a ABI. For more
          information and current restrictions on Clang, see
          <code>tests/device/hard-float/jni/Android.mk</code>.</li>
        <li>Migrated from GNU Compiler Collection (GCC) 4.8 to 4.8.2, and added diagnostic color
          support. To enable diagnostic colors, set <code>-fdiagnostics-color=auto</code>,
          <code>-fdiagnostics-color=always,</code> or export <code>GCC_COLORS</code> as shown below:
<pre>
GCC_COLORS='error=01;31:warning=01;35:note=01;36:caret=01;32:locus=01:quote=01'
</pre>
          For more information, see
          <a href="http://gcc.gnu.org/onlinedocs/gcc/Language-Independent-Options.html">GCC
          Language Independent Options</a>.
        </li>
        <li>Added two new samples to demonstrate OpenGL ES 3.0 features: Teapot and MoreTeapots.
          These samples run on devices with Android 4.1 (API level 16) and higher.</li>
        <li>Deprecated GCC 4.7 and Clang 3.2 support, which will be removed in the next
          release.</li>
      </ul>
      </dd>

      <dt>Important bug fixes:</dt>
      <dd>
      <ul>
        <li>Fixed problem with ARM GCC 4.6 <code>thumb2</code> failing to generate 16-bit relative jump
          tables. (<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=48328">GCC Issue</a>)</li>
        <li>Fixed GCC 4.8 internal compiler error (ICE) on
          <code>g++.dg/cpp0x/lambda/lambda-defarg3.C</code>.
          (<a href="https://android-review.googlesource.com/62770">Change 62770</a>,
          <a href="http://gcc.gnu.org/ml/gcc/2013-07/msg00424.html">GCC Issue</a>)</li>
        <li>Fixed a problem with Windows 32-bit <code>*-gdb.exe</code> executables failing to launch.
          (<a href="http://b.android.com/58975">Issue 58975</a>)</li>
        <li>Fixed GCC 4.8 ICE when building bullet library. The error message is as follows:
          <pre>internal compiler error: verify_flow_info failed</pre>
          (<a href="http://b.android.com/58916">Issue 58916</a>,
           <a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=58165">GCC Issue</a>)</li>
        <li>Modified GDB/ARM build to skip <code>ARM.exidx</code> data for unwinding in prologue code and
          added a command (<code>set arm exidx-unwinding</code>) to control exidx-based stack unwinding.
          (<a href="http://b.android.com/55826">Issue 55826</a>)</li>
        <li>Fixed Clang 3.3 MIPS compiler problem where HI and LO registers are incorrectly
          reused.</li>
        <li>Fixed issue with MIPS 4.7 ICE in <code>dbx_reg_number</code>. The error message is as follows:
<pre>
external/icu4c/i18n/decimfmt.cpp:1322:1:
internal compiler error: in dbx_reg_number, at dwarf2out.c:10185
</pre>
          (<a href="http://gcc.gnu.org/ml/gcc-patches/2012-12/msg00830.html">GCC Patch</a>)

        </li>

      </ul>
      </dd>

      <dt>Other bug fixes:</dt>
      <dd>
      <ul>
        <li>Header fixes
          <ul>
            <li>Fixed the ARM <code>WCHAR_MIN</code> and <code>WCHAR_MAX</code> to be unsigned according to
              spec (the X86/MIPS versions are signed). Define <code>_WCHAR_IS_ALWAYS_SIGNED</code> to
              restore old behavior. (<a href="http://b.android.com/57749">Issue 57749</a>)</li>
            <li>Fixed <code>include/netinet/tcp.h</code> to contain <code>TCP_INFO</code> state enum.
              (<a href="http://b.android.com/38881">Issue 38881</a>)</li>
            <li>Fixed the <code>cdefs_elh.h</code> macro <code>_C_LABEL_STRING</code> to stop generating
               warnings in the GCC 4.8 toolchain when using c++11 mode.
              (<a href="http://b.android.com/58135">Issue 58135</a>,
               <a href="http://b.android.com/58652">Issue 58652</a>)</li>
            <li>Removed non-existent functions <code>imaxabs</code> and <code>imaxdiv</code> from header
              <code>inttypes.h</code>.</li>
            <li>Fixed issue with <code>pthread_exit()</code> return values and <code>pthread_self()</code>.
                 (<a href="http://b.android.com/60686">Issue 60686</a>)</li>
            <li>Added missing <code>mkdtemp()</code> function, which already exists in <code>bionic</code>
              header <code>stdlib.h</code>.</li>
          </ul>
        </li>
        <li>Fixed problem building <code>samples/gles3jni</code> with Clang on Android API level 11.</li>
        <li>Fixed MCLinker to allow multiple occurrences of the following options:
          <code>-gc-sections</code> and <code>--eh-frame-hdr</code>.</li>
        <li>Fixed MCLinker to accept the <code>--no-warn-mismatch</code> option.</li>
        <li>Modified <code>cpu-features</code> option to not assume all VFPv4 devices support IDIV.
          Now this option only adds IDIV to white-listed devices, including Nexus 4.
          (<a href="http://b.android.com/57637">Issue 57637</a>)</li>
        <li>Fixed problem with <code>android_native_app_glue.c</code> erroneously logging errors on event
          predispatch operations.</li>
        <li>Fixed all operations on <code>gabi++</code> terminate and unexpected_handler to be
          thread-safe.</li>
        <li>Fixed several issues with Clang <code>-integrated-as</code> option so it can pass
          tests for <code>ssax-instructions</code> and <code>fenv</code>.</li>
        <li>Fixed GCC 4.6/4.7/4.8 compiler to pass the linker option <code>--eh-frame-hdr</code> even
          for static executables. For more information, see the
          <a href="http://gcc.gnu.org/ml/gcc-patches/2012-09/msg00969.html">GCC patch</a>.</li>
        <li>Fixed extra apostrophe in <code>CPU-ARCH-ABIS.html</code>. For more information, see
          <code>NDK-DEPENDS.html</code>. (<a href="http://b.android.com/60142">Issue 60142</a>)</li>
        <li>Fixed extra quotes in ndk-build output on Windows.
          (<a href="http://b.android.com/60649">Issue 60649</a>)</li>
        <li>Fixed Clang 3.3 to compile ARM's built-in, atomic operations such as
          <code>__atomic_fetch_add</code>, <code>__atomic_fetch_sub</code>, and <code>__atomic_fetch_or</code>.
          </li>
        <li>Fixed Clang 3.3 ICE with customized <code>vfprintf</code>.
          (<a href="http://llvm.org/bugs/show_bug.cgi?id=16344">Clang issue</a>)
        </li>
      </ul>
      </dd>

      <dt>Other changes:</dt>
      <dd>
      <ul>
        <li>Enabled OpenMP for all GCC builds. To use this feature, add the following flags to your
          build settings:
<pre>
LOCAL_CFLAGS += -fopenmp
LOCAL_LDFLAGS += -fopenmp
</pre>
          For code examples, see <code>tests/device/test-openmp</code></li>
        <li>Reduced the size of <code>ld.mcld</code> significantly (1.5MB vs. <code>ld.bfd</code> 3.5MB and
          <code>ld.gold</code> 7.5MB), resulting in a speed improvement of approximately 20%.</li>
        <li>Added <code>LOCAL_CONLYFLAGS</code> and <code>APP_CONLYFLAGS</code> to specify
          options applicable to C only but not C++. The existing <code>LOCAL_CFLAGS</code>
          and <code>APP_CFLAGS</code> are also used for C++ compilation (to save trouble of
          specifying most options twice), so options such as <code>-std=gnu99</code> may fail in
          g++ builds with a warning and clang++ builds with an error.</li>
        <li>Added <code>gabi++</code> array helper functions.</li>
        <li>Modified GCC builds so that all <code>libgcc.a</code> files are built with
          <code>-funwind-tables</code> to allow the stack to be unwound past previously blocked
          points, such as <code>__aeabi_idiv0</code>.</li>
        <li>Added Ingenic MXU support in MIPS GCC4.6/4.7/4.8 with new <code>-mmxu</code> option.</li>
        <li>Extended MIPS GCC4.6/4.7/4.8 <code>-mldc1-sdc1</code> to control ldxc1/sdxc1 too</li>
        <li>Added crazy linker. For more information, see
          <code>sources/android/crazy_linker/README.TXT</code>.</li>
        <li>Fixed <code>bitmap-plasma</code> to draw to full screen rather than a 200x200 pixel area.</li>
        <li>Reduced linux and darwin toolchain sizes by 25% by creating symlinks to identical files.
          </li>
      </ul>
      </dd>

    </dl>
  </div>
</div>


<div class="toggle-content closed">
  <p>
    <a href="#" onclick="return toggleContent(this)"> <img
      src="../../../assets/images/triangle-closed.png" class="toggle-content-img" alt=""
    >Android NDK, Revision 9</a> <em>(July 2013)</em>
  </p>
  <div class="toggle-content-toggleme">
    <dl>
      <dt>Important changes:</dt>
      <dd>
        <ul>
          <li>Added support for Android 4.3 (API level 18). For more information, see
            <code>STABLE-APIS.html</code> and new code examples in <code>samples/gles3jni/README</code>.
          <li>Added headers and libraries for OpenGL ES 3.0, which is supported by Android 4.3
            (API level 18) and higher.</li>
          <li>Added GNU Compiler Collection (GCC) 4.8 compiler to the NDK. Since GCC 4.6 is still
            the default, you must explicitly enable this option:
            <ul>
              <li>For <code>ndk-build</code> builds, export <code>NDK_TOOLCHAIN_VERSION=4.8</code> or
                add it in <code>Application.mk</code>.</li>
              <li>For standalone builds, use the <code>--toolchain=</code> option in
                <code>make-standalone-toolchain.sh</code>, for example:<br>
                <code>--toolchain=arm-linux-androideabi-4.8</code></li>
            </ul>
            <p class="note"><strong>Note:</strong>
            The <code>-Wunused-local-typedefs</code> option is enabled by <code>-Wall</code>. Be
            sure to add <code>__attribute__((unused))</code> if you use compile-time asserts like
            <code>sources/cxx-stl/stlport/stlport/stl/config/features.h</code>, line #311. For more
            information, see
            <a href="https://android-review.googlesource.com/#/c/55460">Change 55460</a></p>
            <p class="note"><strong>Note:</strong>
            In the GCC 4.7 release and later, ARM compilers generate unaligned access code by
            default for ARMv6 and higher build targets. You may need to add the
            <code>-mno-unaligned-access</code> build option when building for kernels that do not support
            this feature.</p>
          </li>
          <li>Added Clang 3.3 support. The <code>NDK_TOOLCHAIN_VERSION=clang</code> build option
            now picks Clang 3.3 by default.
            <p class="note"><strong>Note:</strong>
             Both GCC 4.4.3 and Clang 3.1 are deprecated, and will be removed from the next NDK
             release.</p></li>
          <li>Updated GNU Project Debugger (GDB) to support python 2.7.5.</li>
          <li>Added MCLinker to support Windows hosts. Since <code>ld.gold</code>
            is the default where available, you must add <code>-fuse-ld=mcld</code> in
            <code>LOCAL_LDFLAGS</code> or <code>APP_LDFLAGS</code> to enable MCLinker.</li>
          <li>Added <code>ndk-depends</code> tool which prints ELF library dependencies.
            For more information, see <code>NDK-DEPENDS.html</code>.
            (<a href="http://b.android.com/53486">Issue 53486</a>)</li>
        </ul>
      </dd>

      <dt>Important bug fixes:</dt>
      <dd>
        <ul>
          <li>Fixed potential event handling issue in <code>android_native_app_glue</code>.
            (<a href="http://b.android.com/41755">Issue 41755</a>)</li>
          <li>Fixed ARM/GCC-4.7 build to generate sufficient alignment for NEON load and store
            instructions VST and VLD.
            (<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=57271">GCC Issue 57271</a>)</li>
          <li>Fixed a GCC 4.4.3/4.6/4.7 internal compiler error (ICE) for a constant negative index
            value on a string literal.
            (<a href="http://b.android.com/54623">Issue 54623</a>)</li>
          <li>Fixed GCC 4.7 segmentation fault for constant initialization with an object address.
            (<a href="http://b.android.com/56508">Issue 56508</a>)</li>
          <li>Fixed GCC 4.6 ARM segmentation fault for <code>-O</code> values when using Boost
            1.52.0. (<a href="http://b.android.com/42891">Issue 42891</a>)
          <li>Fixed <code>libc.so</code> and <code>libc.a</code> to support the <code>wait4()</code> function.
            (<a href="http://b.android.com/19854">Issue 19854</a>)</li>
          <li>Updated the x86 libc.so and libc.a files to include the <code>clone()</code>
            function.</li>
          <li>Fixed <code>LOCAL_SHORT_COMMANDS</code> bug where the <code>linker.list</code> file is
            empty or not used.</li>
          <li>Fixed GCC MIPS build on Mac OS to use CFI directives, without which
            <code>ld.mcld --eh-frame-hdr</code> fails frequently.</li>
          <li>Fixed Clang 3.2 X86/MIPS internal compiler error in <code>llvm/lib/VMCore/Value.cpp</code>.
            (<a href="https://android-review.googlesource.com/#/c/59021">Change 59021</a>)</li>
          <li>Fixed GCC 4.7 64-bit Windows assembler crash. (Error: <code>out of memory allocating
            4294967280 bytes</code>).</li>
          <li>Updated <code>ndk-gdb</code> script so that the <code>--start</code> or <code>--launch</code> actions
            now wait for the GNU Debug Server, so that it can more reliably hit breakpoints set
            early in the execution path (such as breakpoints in JNI code).
            (<a href="http://b.android.com/41278">Issue 41278</a>)
            <p class="note"><strong>Note:</strong>
              This feature requires jdb and produces warning about pending breakpoints.
              Specify the <code>--nowait</code> option to restore previous behavior.
            </p>
          </li>
          <li>Fixed GDB crash when library list is empty.</li>
          <li>Fixed GDB crash when using a <code>stepi</code> command past a <code>bx pc</code> or
            <code>blx pc</code> Thumb instruction.
            (<a href="http://b.android.com/56962">Issue 56962</a>,
             <a href="http://b.android.com/36149">Issue 36149</a>)</li>
          <li>Fixed MIPS <code>gdbserver</code> to look for <code>DT_MIPS_RLD_MAP</code> instead of
            <code>DT_DEBUG</code>. (<a href="http://b.android.com/56586">Issue 56586</a>)</li>
          <li>Fixed a circular dependency in the ndk-build script, for example: If A-&gt;B and
            B-&gt;B, then B was dropped from build.
            (<a href="http://b.android.com/56690">Issue 56690</a>)</li>
        </ul>
      </dd>

      <dt>Other bug fixes:</dt>
      <dd>
        <ul>
          <li>Fixed the <code>ndk-build</code> script to enable you to specify a version of Clang as a
            command line option (e.g., <code>NDK_TOOLCHAIN_VERSION=clang3.2</code>). Previously, only
            specifying the version as an environment variable worked.</li>
          <li>Fixed gabi++ size of <code>_Unwind_Exception</code> to be 24 for MIPS build targets when
            using the Clang compiler.
            (<a href="https://android-review.googlesource.com/#/c/54141">Change 54141</a>)</li>
          <li>Fixed the <code>ndk-build</code> script to ensure that built libraries are actually
            removed from projects that include prebuilt static libraries when using the
            <code>ndk-build clean</code> command.
            (<a href="https://android-review.googlesource.com/#/c/54461">Change 54461</a>,
             <a href="https://android-review.googlesource.com/#/c/54480">Change 54480</a>)</li>
          <li>Modified the <code>NDK_ANALYZE=1</code> option to be less verbose.</li>
          <li>Fixed <code>gnu-libstdc++/Android.mk</code> to include a <code>backward/</code> path for builds
            that use backward compability.
            (<a href="http://b.android.com/53404">Issue 53404</a>)</li>
          <li>Fixed a problem where <code>stlport new</code> sometimes returned random values.</li>
          <li>Fixed <code>ndk-gdb</code> to match the order of <code>CPU_ABIS</code>, not <code>APP_ABIS</code>.
            (<a href="http://b.android.com/54033">Issue 54033</a>)</li>
          <li>Fixed a problem where the NDK 64-bit build on MacOSX choses the wrong path for
            compiler.
            (<a href="http://b.android.com/53769">Issue 53769</a>)</li>
          <li>Fixed build scripts to detect 64-bit Windows Vista.
            (<a href="http://b.android.com/54485">Issue 54485</a>)</li>
          <li>Fixed x86 <code>ntonl/swap32</code> error: <code>invalid 'asm': operand number
            out of range</code>.
            (<a href="http://b.android.com/54465">Issue 54465</a>,
             <a href="https://android-review.googlesource.com/#/c/57242">Change 57242</a>)</li>
          <li>Fixed <code>ld.gold</code> to merge string literals.</li>
          <li>Fixed <code>ld.gold</code> to handle large symbol alignment.</li>
          <li>Updated <code>ld.gold</code> to enable the <code>--sort-section=name</code> option.</li>
          <li>Fixed GCC 4.4.3/4.6/4.7 to suppress the <code>-export-dynamic</code> option for
            statically linked programs. GCC no longer adds an <code>.interp</code> section for statically
            linked programs.</li>
          <li>Fixed GCC 4.4.3 <code>stlport</code> compilation error about inconsistent <code>typedef</code>
            of <code>_Unwind_Control_Block</code>.
            (<a href="http://b.android.com/54426">Issue 54426</a>)</li>
          <li>Fixed <code>awk</code> scripts to handle <code>AndroidManifest.xml</code> files created on
            Windows which may contain trailing <code>\r</code> characters and cause build errors.
            (<a href="http://b.android.com/42548">Issue 42548</a>)</li>
          <li>Fixed <code>make-standalone-toolchain.sh</code> to probe the <code>prebuilts/</code>
            directory to detect if the host is 32 bit or 64 bit.</li>
          <li>Fixed the Clang 3.2 <code>-integrated-as</code> option.</li>
          <li>Fixed the Clang 3.2 ARM EHABI compact model <code>pr1</code> and <code>pr2</code> handler data.
            </li>
          <li>Added Clang <code>-mllvm -arm-enable-ehabi</code> option to fix the following Clang error:
            <pre>clang: for the -arm-enable-ehabi option: may only occur zero or one times!</pre>
            </li>
          <li>Fixed build failure when there is no <code>uses-sdk</code> element in application
            manifest. (<a href="http://b.android.com/57015">Issue 57015</a>)</li>
        </ul>

      </dd>
      <dt>Other changes:</dt>
      <dd>
        <ul>
          <li>Header Fixes
            <ul>
              <li>Modified headers to make <code>__set_errno</code> an inlined function, since
                <code>__set_errno</code> in <code>errno.h</code> is deprecated, and <code>libc.so</code> no longer
                exports it.</li>
              <li>Modified <code>elf.h</code> to include <code>stdint.h</code>.
                (<a href="http://b.android.com/55443">Issue 55443</a>)</li>
              <li>Fixed <code>sys/un.h</code> to be included independently of other headers.
                (<a href="http://b.android.com/53646">Issue 53646</a>)</li>
              <li>Fixed all of the <code>MotionEvent_getHistorical</code> API family to take the
                <code>const AInputEvent* motion_event</code>.
                (<a href="http://b.android.com/55873">Issue 55873</a>)</li>
              <li>Fixed <code>malloc_usable_size</code> to take <code>const void*</code>.
                (<a href="http://b.android.com/55725">Issue 55725</a>)</li>
              <li>Fixed stdint.h to be more compatible with C99.
                (<a href="https://android-review.googlesource.com/#/c/46821">Change 46821</a>)</li>
              <li>Modified <code>wchar.h</code> to not redefine <code>WCHAR_MAX</code> and
                <code>WCHAR_MIN</code></li>
              <li>Fixed <code>&lt;inttypes.h&gt;</code> declaration for pointer-related <code>PRI</code> and
                <code>SCN</code> macros. (<a href="http://b.android.com/57218">Issue 57218</a>)</li>
              <li>Changed the <code>sys/cdefs.h</code> header so that <code>__WCHAR_TYPE__</code> is 32-bit
                for API levels less than 9, which means that <code>wchat_t</code> is 32-bit for all
                API levels. To restore the previous behavior, define the <code>_WCHAR_IS_8BIT</code>
                boolean variable. (<a href="http://b.android.com/57267">Issue 57267</a>)</li>
            </ul>
          </li>
          <li>Added more formatting in NDK <code>docs/</code> and miscellaneous documentation fixes.
            </li>
          <li>Added support for a thin archive technique when building static libraries.
            (<a href="http://b.android.com/40303">Issue 40303</a>)</li>
          <li>Updated script <code>make-standalone-toolchain.sh</code> to support the <code>stlport</code>
            library in addition to <code>gnustl</code>, when you specify the option
            <code>--stl=stlport</code>. For more information, see <code>STANDALONE-TOOLCHAIN.html</code>.</li>
          <li>Updated the <code>make-standalone-toolchain.sh</code> script so that the
            <code>--llvm-version=</code> option creates the <code>$TOOLCHAIN_PREFIX-clang</code> and
            <code>$TOOLCHAIN_PREFIX-clang++</code> scripts in addition to <code>clang</code> and
            <code>clang++</code>, to avoid using the host's clang and clang++ definitions by accident.
            </li>
          <li>Added two flags to re-enable two optimizations in upstream Clang but disabled in
              NDK for better compatibility with code compiled by GCC:
            <ul>
              <li>Added a <code>-fcxx-missing-return-semantics</code> flag to re-enable <em>missing return
                semantics</em> in Clang 3.2+. Normally, all paths should terminate with a return
                statement for a value-returning function. If this is not the case, clang inserts
                an undefined instruction (or trap in debug mode) at the path without a return
                statement. If you are sure your code is correct, use this flag to allow the
                optimizer to take advantage of the undefined behavior. If you are not sure, do not
                use this flag. The caller may still receive a random incorrect value, but the
                optimizer will not exploit it and make your code harder to debug.</li>
              <li>Added a <code>-fglobal-ctor-const-promotion</code> flag to re-enable
                promoting global variables with static constructor to be constants. With this flag,
                the global variable optimization pass of LLVM tries to evaluate the global
                variables with static constructors and promote them to global constants. Although
                this optimization is correct, it may cause some incompatability with code compiled
                by GCC. For example, code may do <code>const_cast</code> to cast the constant to mutable
                and modify it. In GCC, the variable is in read-write and the code is run by
                accident. In Clang, the const variable is in read-only memory and may cause your
                application to crash.</li>
            </ul>
          </li>
          <li>Added <code>-mldc1-sdc1</code> to the MIPS GCC and Clang compilers. By default, compilers
            align 8-byte objects properly and emit the <code>ldc1</code> and <code>sdc1</code> instructions
            to move them around. If your app uses a custom allocator that does not always align
            with a new object's 8-byte boundary in the same way as the default allocator, your app
            may crash due to <code>ldc1</code> and <code>sdc1</code> operations on unaligned memory. In this
            case, use the <code>-mno-ldc1-sdc1</code> flag to workaround the problem.</li>
          <li>Downgraded the event severity from warning to info if <code>APP_PLATFORM_LEVEL</code> is
            larger than <code>APP_MIN_PLATFORM_LEVEL</code>. The <code>APP_PLATFORM_LEVEL</code> may be lower
            than <code>APP_PLATFORM</code> in <code>jni/Application.mk</code> because the NDK does not have
            headers for all levels. In this case, the actual level is shifted downwards. The
            <code>APP_MIN_PLATFORM_LEVEL</code> is specified by the <code>android:minSdkVersion</code> in
            your application's manifest.
            (<a href="http://b.android.com/39752">Issue 39752</a>)</li>
          <li>Added the <code>android_getCpuIdArm()</code> and <code>android_setCpuArm()</code> methods to
            <code>cpu-features.c</code>. This addition enables easier retrieval of the ARM CPUID
            information. (<a href="http://b.android.com/53689">Issue 53689</a>)</li>
          <li>Modified <code>ndk-build</code> to use GCC 4.7's <code>as/ld</code> for Clang compiling.
            <p class="note"><strong>Note:</strong>
              In GCC 4.7, <code>monotonic_clock</code> and <code>is_monotonic</code> have been renamed to
              <code>steady_clock</code> and <code>is_steady</code>, respectively.</p></li>
          <li>Added the following new warnings to the <code>ndk-build</code> script:
            <ul>
              <li>Added warnings if <code>LOCAL_LDLIBS/LDFLAGS</code> are used in static library
                modules.</li>
              <li>Added a warning if a configuration has no module to build.</li>
              <li>Added a warning for non-system libraries being used in
                <code>LOCAL_LDLIBS/LDFLAGS</code> of a shared library or executable modules.</li>
            </ul>
          </li>
          <li>Updated build scripts, so that if <code>APP_MODULES</code> is not defined and only static
            libraries are listed in <code>Android.mk</code>, the script force-builds all of them.
            (<a href="http://b.android.com/53502">Issue 53502</a>)</li>
          <li>Updated <code>ndk-build</code> to support absolute paths in <code>LOCAL_SRC_FILES</code>.</li>
          <li>Removed the <code>*-gdbtui</code> executables, which are duplicates of the <code>*-gdb</code>
            executables with the <code>-tui</code> option enabled.</li>
          <li>Updated the build scripts to warn you when the Edison Design Group (EDG) compiler
            front-end turns <code>_STLP_HAS_INCLUDE_NEXT</code> back on.
            (<a href="http://b.android.com/53646">Issue 53646</a>)</li>
          <li>Added the environment variable <code>NDK_LIBS_OUT</code> to allow overriding of the
            path for <code>libraries/gdbserver</code> from the default <code>$PROJECT/libs</code>.
            For more information, see <code>OVERVIEW.html</code>.</li>
          <li>Changed ndk-build script defaults to compile code with format string protection
            <code>-Wformat -Werror=format-security</code>. You may set
            <code>LOCAL_DISABLE_FORMAT_STRING_CHECKS=true</code> to disable it.
            For more information, see <code>ANDROID-MK.html</code></li>
          <li>Added STL pretty-print support in <code>ndk-gdb-py</code>. For more information, see
            <code>NDK-GDB.html</code>.</li>
          <li>Added tests based on the googletest frameworks.</li>
          <li>Added a notification to the toolchain build script that warns you if the current shell
            is not <code>bash</code>.</li>
        </ul>
      </dd>
    </dl>
  </div>
</div>


<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 8e</a> <em>(March 2013)</em>
  </p>

  <div class="toggle-content-toggleme">
    <dl>
      <dt>Important changes:</dt>
      <dd>
        <ul>
          <li>Added 64-bit host toolchain set (package name suffix <code>*-x86_64.*</code>). For more
            information, see <code>CHANGES.HTML</code> and <code>NDK-BUILD.html</code>.</li>
          <li>Added Clang 3.2 compiler. GCC 4.6 is still the default. For information on using the
            Clang compiler, see <code>CHANGES.HTML</code>.</li>
          <li>Added static code analyzer for Linux/MacOSX hosts. For information on using the
            analyzer, see <code>CHANGES.HTML</code>.</li>
          <li>Added MCLinker for Linux/MacOSX hosts as an experimental feature. The <code>ld.gold</code>
            linker is the default where available, so you must explicitly enable it. For more
            information, see <code>CHANGES.HTML</code>.</li>
          <li>Updated ndk-build to use topological sort for module dependencies, which means the
            build automatically sorts out the order of libraries specified in
            <code>LOCAL_STATIC_LIBRARIES</code>, <code>LOCAL_WHOLE_STATIC_LIBRARIES</code> and
            <code>LOCAL_SHARED_LIBRARIES</code>. For more information, see <code>CHANGES.HTML</code>.
            (<a href="http://b.android.com/39378">Issue 39378</a>)</li>
        </ul>
      </dd>

      <dt>Important bug fixes:</dt>
      <dd>
        <ul>
          <li>Fixed build script to build all toolchains in <code>-O2</code>. Toolchains in previous
            releases were incorrectly built without optimization.</li>
          <li>Fixed build script which unconditionally builds Clang/llvm for MacOSX in 64-bit.</li>
          <li>Fixed GCC 4.6/4.7 internal compiler error:
            <code>gen_thumb_movhi_clobber at config/arm/arm.md:5832</code>.
            (<a href="http://b.android.com/52732">Issue 52732</a>)</li>
          <li>Fixed build problem where GCC/ARM 4.6/4.7 fails to link code using 64-bit atomic
            built-in functions.
            (<a href="http://b.android.com/41297">Issue 41297</a>)</li>
          <li>Fixed GCC 4.7 linker DIV usage mismatch errors.
          (<a href="http://sourceware.org/ml/binutils/2012-12/msg00202.html">Sourceware Issue</a>)
          <li>Fixed GCC 4.7 internal compiler error <code>build_data_member_initialization, at
            cp/semantics.c:5790</code>.</li>
          <li>Fixed GCC 4.7 internal compiler error <code>redirect_eh_edge_1, at tree-eh.c:2214</code>.
            (<a href="http://b.android.com/52909">Issue 52909</a>)</li>
          <li>Fixed a GCC 4.7 segfault.
            (<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=55245">GCC Issue</a>)</li>
          <li>Fixed <code>&lt;chrono&gt;</code> clock resolution and enabled <code>steady_clock</code>.
            (<a href="http://b.android.com/39680">Issue 39680</a>)</li>
          <li>Fixed toolchain to enable <code>_GLIBCXX_HAS_GTHREADS</code> for GCC 4.7 libstdc++.
            (<a href="http://b.android.com/41770">Issue 41770</a>,
             <a href="http://b.android.com/41859">Issue 41859</a>)</li>
          <li>Fixed problem with the X86 MXX/SSE code failing to link due to missing
            <code>posix_memalign</code>.
            (<a href="https://android-review.googlesource.com/#/c/51872">Change 51872</a>)</li>
          <li>Fixed GCC4.7/X86 segmentation fault in <code>i386.c</code>, function
            <code>distance_non_agu_define_in_bb()</code>.
            (<a href="https://android-review.googlesource.com/#/c/50383">Change 50383</a>)</li>
          <li>Fixed GCC4.7/X86 to restore earlier <code>cmov</code> behavior.
            (<a href="http://gcc.gnu.org/viewcvs?view=revision&revision=193554">GCC Issue</a>)</li>
          <li>Fixed handling NULL return value of <code>setlocale()</code> in libstdc++/GCC4.7.
            (<a href="http://b.android.com/46718">Issue 46718</a>)
          <li>Fixed <code>ld.gold</code> runtime undefined reference to <code>__exidx_start</code> and
            <code>__exidx_start_end</code>.
            (<a href="https://android-review.googlesource.com/#/c/52134">Change 52134</a>)</li>
          <li>Fixed Clang 3.1 internal compiler error when using Eigen library.
            (<a href="http://b.android.com/41246">Issue 41246</a>)</li>
          <li>Fixed Clang 3.1 internal compiler error including <code>&lt;chrono&gt;</code> in C++11 mode.
            (<a href="http://b.android.com/39600">Issue 39600</a>)</li>
          <li>Fixed Clang 3.1 internal compiler error when generating object code for a method
            call to a uniform initialized <code>rvalue</code>.
            (<a href="http://b.android.com/41387">Issue 41387</a>)</li>
          <li>Fixed Clang 3.1/X86 stack realignment.
            (<a href="https://android-review.googlesource.com/#/c/52154">Change 52154</a>)</li>
          <li>Fixed problem with GNU Debugger (GDB) SIGILL when debugging on Android 4.1.2.
            (<a href="http://b.android.com/40941">Issue 40941</a>)</li>
          <li>Fixed problem where GDB cannot set <code>source:line</code> breakpoints when symbols contain
            long, indirect file paths.
            (<a href="http://b.android.com/42448">Issue 42448</a>)</li>
          <li>Fixed GDB <code>read_program_header</code> for MIPS PIE executables.
            (<a href="https://android-review.googlesource.com/#/c/49592">Change 49592</a>)</li>
          <li>Fixed <code>STLport</code> segmentation fault in <code>uncaught_exception()</code>.
            (<a href="https://android-review.googlesource.com/#/c/50236">Change 50236</a>)</li>
          <li>Fixed <code>STLport</code> bus error in exception handling due to unaligned access of
            <code>DW_EH_PE_udata2</code>, <code>DW_EH_PE_udata4</code>, and <code>DW_EH_PE_udata8</code>.</li>
          <li>Fixed Gabi++ infinite recursion problem with <code>nothrow new[]</code> operator.
            (<a href="http://b.android.com/52833">Issue 52833</a>)</li>
          <li>Fixed Gabi++ wrong offset to exception handler pointer.
            (<a href="https://android-review.googlesource.com/#/c/53446">Change 53446</a>)</li>
          <li>Removed Gabi++ redundant free on exception object
            (<a href="https://android-review.googlesource.com/#/c/53447">Change 53447</a>)</li>
        </ul>
      </dd>

      <dt>Other bug fixes:</dt>
      <dd>
        <ul>
          <li>Fixed NDK headers:
            <ul>
              <li>Removed redundant definitions of <code>size_t</code>, <code>ssize_t</code>, and
                <code>ptrdiff_t</code>.</li>
              <li>Fixed MIPS and ARM <code>fenv.h</code> header.</li>
              <li>Fixed <code>stddef.h</code> to not redefine <code>offsetof</code> since it already exists
                in the toolchain.</li>
              <li>Fixed <code>elf.h</code> to contain <code>Elf32_auxv_t</code> and <code>Elf64_auxv_t</code>.
                (<a href="http://b.android.com/38441">Issue 38441</a>)
                </li>
              <li>Fixed the <code>#ifdef</code> C++ definitions in the
                <code>OpenSLES_AndroidConfiguration.h</code> header file.
                (<a href="http://b.android.com/53163">Issue 53163</a>)
                </li>
            </ul>
          </li>
          <li>Fixed <code>STLport</code> to abort after out of memory error instead of silently exiting.
            </li>
          <li>Fixed system and Gabi++ headers to be able to compile with API level 8 and lower.</li>
          <li>Fixed <code>cpufeatures</code> to not parse <code>/proc/self/auxv</code>.
            (<a href="http://b.android.com/43055">Issue 43055</a>)</li>
          <li>Fixed <code>ld.gold</code> to not depend on host libstdc++ and on Windows platforms,
            to not depend on the <code>libgcc_sjlj_1.dll</code> library.</li>
          <li>Fixed Clang 3.1 which emits inconsistent register list in <code>.vsave</code> and fails
            assembler.
            (<a href="https://android-review.googlesource.com/#/c/49930">Change 49930</a>)</li>
          <li>Fixed Clang 3.1 to be able to compile libgabi++ and pass the <code>test-stlport</code>
            tests for MIPS build targets.
            (<a href="https://android-review.googlesource.com/#/c/51961">Change 51961</a>)</li>
          <li>Fixed Clang 3.1 to only enable exception by default for C++, not for C.</li>
          <li>Fixed several issues in Clang 3.1 to pass most GNU exception tests.</li>
          <li>Fixed scripts <code>clang</code> and <code>clang++</code> in standalone NDK compiler to detect
            <code>-cc1</code> and to not specify <code>-target</code> when found.</li>
          <li>Fixed <code>ndk-build</code> to observe <code>NDK_APP_OUT</code> set in <code>Application.mk</code>.
            </li>
          <li>Fixed X86 <code>libc.so</code> and <code>lib.a</code> which were missing the <code>sigsetjmp</code>
            and <code>siglongjmp</code> functions already declared in <code>setjmp.h</code>.
            (<a href="http://b.android.com/19851">Issue 19851</a>)</li>
          <li>Patched GCC 4.4.3/4.6/4.7 libstdc++ to work with Clang in C++ 11.
            (<a href="http://clang.llvm.org/cxx_status.html">Clang Issue</a>)</li>
          <li>Fixed cygwin path in argument passed to <code>HOST_AWK</code>.</li>
          <li>Fixed <code>ndk-build</code> script warning in windows when running from project's JNI
            directory.
            (<a href="http://b.android.com/40192">Issue 40192</a>)</li>
          <li>Fixed problem where the <code>ndk-build</code> script does not build if makefile has
            trailing whitespace in the <code>LOCAL_PATH</code> definition.
            (<a href="http://b.android.com/42841">Issue 42841</a>)</li>
        </ul>
      </dd>

      <dt>Other changes:</dt>
      <dd>
        <ul>
          <li>Enabled threading support in GCC/MIPS toolchain.</li>
          <li>Updated GCC exception handling helpers <code>__cxa_begin_cleanup</code> and
            <code>__cxa_type_match</code> to have <em>default</em> visibility from the previous
            <em>hidden</em> visibility in GNU libstdc++. For more information, see
            <code>CHANGES.HTML</code>.</li>
          <li>Updated build scripts so that Gabi++ and STLport static libraries are now built with
            hidden visibility except for exception handling helpers.</li>
          <li>Updated build so that <code>STLport</code> is built for ARM in Thumb mode.</li>
          <li>Added support for <code>std::set_new_handler</code> in Gabi++.
            (<a href="http://b.android.com/52805">Issue 52805</a>)</li>
          <li>Enabled <code>FUTEX</code> system call in GNU libstdc++.</li>
          <li>Updated <code>ndk-build</code> so that it  no longer copies prebuilt static library to
            a project's <code>obj/local/&lt;abi&gt;/</code> directory.
            (<a href="http://b.android.com/40302">Issue 40302</a>)</li>
          <li>Removed <code>__ARM_ARCH_5*__</code> from ARM <code>toolchains/*/setup.mk</code> script.
            (<a href="http://b.android.com/21132">Issue 21132</a>)</li>
          <li>Built additional GNU libstdc++ libraries in thumb for ARM.</li>
          <li>Enabled MIPS floating-point <code>madd/msub/nmadd/nmsub/recip/rsqrt</code>
            instructions with 32-bit FPU.</li>
          <li>Enabled graphite loop optimizer in GCC 4.6 and 4.7 to allow more optimizations:
            <code>-fgraphite</code>, <code>-fgraphite-identity</code>, <code>-floop-block</code>, <code>-floop-flatten</code>,
            <code>-floop-interchange</code>, <code>-floop-strip-mine</code>, <code>-floop-parallelize-all</code>,
            and <code>-ftree-loop-linear</code>.
            (<a href="http://gcc.gnu.org/onlinedocs/gcc/Optimize-Options.html">info</a>)</li>
          <li>Enabled <code>polly</code> for Clang 3.1 on Linux and Max OS X 32-bit hosts which analyzes
            and optimizes memory access. (<a href="http://polly.llvm.org">info</a>)</li>
          <li>Enabled <code>-flto</code> in GCC 4.7, 4.6, Clang 3.2 and Clang 3.1 on linux (Clang LTO
            via LLVMgold.so). MIPS compiler targets are not supported because <code>ld.gold</code>
            is not available.</li>
          <li>Enabled <code>--plugin</code> and <code>--plugin-opt</code> for <code>ld.gold</code> in GCC 4.6/4.7.
            </li>
          <li>Enabled <code>--text-reorder</code> for <code>ld.gold</code> in GCC 4.7.</li>
          <li>Configured GNU libstdc++ with <code>_GLIBCXX_USE_C99_MATH</code> which undefines the
            <code>isinf</code> script in the bionic header. For more information, see
            <code>CHANGES.html</code>.</li>
          <li>Added <code>APP_LDFLAGS</code> to the build scripts. For more information, see
            <code>ANDROID-MK.html</code>.</li>
          <li>Updated build scripts to allow <code>NDK_LOG=0</code> to disable the <code>NDK_LOG</code>.</li>
          <li>Updated build scripts to allow <code>NDK_HOST_32BIT=0</code> to disable the host developer
            environment 32-bit toolchain.</li>
          <li>Changed the default GCC/X86 flags <code>-march=</code> and <code>-mtune=</code> from
            <code>pentiumpro</code> and <code>generic</code> to <code>i686</code> and <code>atom</code>.</li>
          <li>Enhanced toolchain build scripts:
            <ul>
              <li>Fixed a race condition in <code>build-gcc.sh</code> for the <code>mingw</code> build type
                which was preventing a significant amount of parallel build processing.</li>
              <li>Updated <code>build-gabi++.sh</code> and <code>build-stlport.sh</code> so they can now run
                from the NDK package.
                (<a href="http://b.android.com/52835">Issue 52835</a>)
                </li>
              <li>Fixed <code>run-tests.sh</code> in the <code>MSys</code> utilities collection.</li>
              <li>Improved 64-bit host toolchain and Canadian Cross build support.</li>
              <li>Updated <code>build-mingw64-toolchain.sh</code> script to more recent version.</li>
              <li>Added option to build <code>libgnustl_static.a</code> and <code>stlport_static.a</code>
                without hidden visibility.</li>
            </ul>
          </li>
        </ul>

      </dd>
    </dl>
  </div>
</div>


<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 8d</a> <em>(December 2012)</em>
  </p>

  <div class="toggle-content-toggleme">
    <dl>
      <dt>Important changes:</dt>
      <dd>
        <ul>
          <li>Added the GNU Compiler Collection (GCC) 4.7 compiler to the NDK. The GCC 4.6 compiler
            is still the default, so you must to explicitly enable the new version as follows:
            <ul>
              <li>For <code>ndk-build</code>, export the <code>NDK_TOOLCHAIN_VERSION=4.7</code> variable
                <em>or</em> add it to <code>Application.mk</code>.</li>
              <li>For standalone builds, add the <code>--toolchain=</code> option to
                <code>make-standalone-toolchain.sh</code>, for example:
                <pre>--toolchain=arm-linux-androideabi-4.7</pre></li>
            </ul>
            <p class="note">
              <strong>Note:</strong> This feature is experimental. Please try it and
              <a href="http://code.google.com/p/android/issues/list">report any issues</a>.</p>
          </li>
          <li>Added <code>stlport</code> exception support via gabi++.  Note that the new gabi++
            depends on <code>dlopen</code> and related code, meaning that:
            <ul>
              <li>You can no longer build a <em>static</em> executable using the <code>-static</code>
                option or include <code>libstlport_static.a</code> using
                <code>APP_STL := stlport_static</code>. (You can still use the <code>-static</code> option
                with a standalone toolchain.) Compiling a <em>dynamic</em> executable using
                <code>include $(BUILD_EXECUTABLE)</code> continues to work because the compiler
                automatically adds the <code>-ldl</code> option.</li>
              <li>If your project links using <code>-nostdlib</code> and {-Wl,--no-undefined}, you
                must manually include the <code>-ldl</code> option.</li>
            </ul>
              For more information, see <code>CPLUSPLUS-SUPPORT.html</code>.

              <p class="note">
                <strong>Note:</strong> This feature is experimental and works better with the GCC
                4.6/4.7 compilers than with GCC 4.4.3 or Clang 3.1. Please try it and
                <a href="http://code.google.com/p/android/issues/list">report any issues</a>.</p>
          </li>
          <li>Added a <code>-mstack-protector-guard=</code> option for x86 to choose between a
            <em>global</em> default path which is compatible with older Android C library (bionic)
            and a new <em>tls</em> path (%gs:20) for <code>-fstack-protector</code>,
            <code>-fstack-protector-all</code> and <code>-fstack-protector-strong</code> using the GCC 4.6
            and higher compilers.

            <p class="note">
              <strong>Note:</strong> The <code>-mstack-protector-guard</code> setting itself does not
              enable any <code>-fstack-protector*</code> options.</p>
          </li>
          <li>Added <code>android_setCpu()</code> function to
            <code>sources/android/cpufeatures/cpu-features.c</code> for use when auto-detection via
            <code>/proc</code> is not possible in Android 4.1 and higher.
            (<a href="http://code.google.com/p/chromium/issues/detail?id=164154">Chromium Issue
            164154</a>)</li>
        </ul>
      </dd>

      <dt>Important bug fixes:</dt>
      <dd>
        <ul>
          <li>Fixed unnecessary rebuild of object files when using the <code>ndk-build</code> script.
            (<a href="http://b.android.com/39810">Issue 39810</a>)</li>
          <li>Fixed a linker failure with the NDK 8c release for Mac OS X 10.6.x that produced the
            following error:
            <pre>
dyld: lazy symbol binding failed: Symbol not found: _memmem
Referenced from: ...../arm-linux-androideabi/bin/ld
Expected in: /usr/lib/libSystem.B.dylib</pre>
            This problem was caused by building on Mac OS X 10.7, which produced binaries that were
            not compatible with Mac OS 10.6.x and the NDK.
          </li>
          <li>Removed the <code>-x c++</code> options from the Clang++ standalone build script.
          (<a href="http://b.android.com/39089">Issue 39089</a>)</li>
          <li>Fixed issues using the <code>NDK_TOOLCHAIN_VERSION=clang3.1</code> option in Cygwin.
           (<a href="http://b.android.com/39585">Issue 39585</a>)</li>
          <li>Fixed the <code>make-standalone-toolchain.sh</code> script to allow generation of a
            standalone toolchain using the Cygwin or MinGW environments. The resulting toolchain
            can be used in Cygwin, MingGW or CMD.exe environments.
            (<a href="http://b.android.com/39915">Issue 39915</a>,
            <a href="http://b.android.com/39585">Issue 39585</a>)</li>
          <li>Added missing <code>SL_IID_ANDROIDBUFFERQUEUESOURCE</code> option in android-14 builds for
            ARM and X86.
            (<a href="http://b.android.com/40625">Issue 40625</a>)</li>
          <li>Fixed x86 CPU detection for the <code>ANDROID_CPU_X86_FEATURE_MOVBE</code> feature.
            (<a href="http://b.android.com/39317">Issue 39317</a>)</li>
          <li>Fixed an issue preventing the Standard Template Library (STL) from using C++
            sources that do not have a <code>.cpp</code> file extension.</li>
          <li>Fixed GCC 4.6 ARM internal compiler error <em>at reload1.c:1061</em>.
            (<a href="http://b.android.com/20862">Issue 20862</a>)</li>
          <li>Fixed GCC 4.4.3 ARM internal compiler error <em>at emit-rtl.c:1954</em>.
            (<a href="http://b.android.com/22336">Issue 22336</a>)</li>
          <li>Fixed GCC 4.4.3 ARM internal compiler error <em>at postreload.c:396</em>.
            (<a href="http://b.android.com/22345">Issue 22345</a>)</li>
          <li>Fixed problem with GCC 4.6/4.7 skipping lambda functions.
            (<a href="http://b.android.com/35933">Issue 35933</a>)</li>
        </ul>
      </dd>

      <dt>Other bug fixes:</dt>
      <dd>
        <ul>
          <li>NDK header file fixes:
            <ul>
              <li>Fixed <code>__WINT_TYPE__</code> and <code>wint_t</code> to be the same type.</li>
              <li>Corrected typo in <code>android/bitmap.h</code>.
                (<a href="http://b.android.com/15134">Issue 15134</a>)
              </li>
              <li>Corrected typo in <code>errno.h</code>.</li>
              <li>Added check for the presence of <code>__STDC_VERSION__</code> in <code>sys/cdefs.h</code>.
                (<a href="http://b.android.com/14627">Issue 14627</a>)
              </li>
              <li>Reorganized headers in <code>byteswap.h</code> and <code>dirent.h</code>.</li>
              <li>Fixed <code>limits.h</code> to include <code>page.h</code> which provides <code>PAGE_SIZE</code>
                settings.
                (<a href="http://b.android.com/39983">Issue 39983</a>)
              </li>
              <li>Fixed return type of <code>glGetAttribLocation()</code> and
                <code>glGetUniformLocation()</code> from <code>int</code> to <code>GLint</code>.</li>
              <li>Fixed <code>__BYTE_ORDER</code> constant for x86 builds.
                (<a href="http://b.android.com/39824">Issue 39824</a>)
              </li>
            </ul>
          </li>
          <li>Fixed <code>ndk-build</code> script to not overwrite <code>-Os</code> with <code>-O2</code> for ARM
            builds.</li>
          <li>Fixed build scripts to allow overwriting of <code>HOST_AWK</code>, <code>HOST_SED</code>, and
            <code>HOST_MAKE</code> settings.</li>
          <li>Fixed issue for <code>ld.gold</code> on <code>fsck_msdos</code> builds linking objects built by
            the Intel C/C++ compiler (ICC).</li>
          <li>Fixed ARM EHABI support in Clang to conform to specifications.</li>
          <li>Fixed GNU Debugger (GDB) to shorten the time spent on walking the target's link map
            during <code>solib</code> events.
            (<a href="http://b.android.com/38402">Issue 38402</a>)</li>
          <li>Fixed missing <code>libgcc.a</code> file when linking shared libraries.</li>
        </ul>
      </dd>

      <dt>Other changes:</dt>
      <dd>
        <ul>
          <li>Backported 64-bit built-in atomic functions for ARM to GCC 4.6.</li>
          <li>Added documentation for audio output latency, along with other documentation and
            fixes.</li>
          <li>Fixed debug builds with Clang so that non-void functions now raise a <code>SIGILL</code>
            signal for paths without a return statement.</li>
          <li>Updated <code>make-standalone-toolchain.sh</code> to accept the suffix <code>-clang3.1</code>
            which is equivalent to adding <code>--llvm-version=3.1</code> to the GCC 4.6 toolchain.</li>
          <li>Updated GCC and Clang bug report URL to:
            <a href="http://source.android.com/source/report-bugs.html">http://source.android.com/source/report-bugs.html</a></li>
          <li>Added ARM ELF support to <code>llvm-objdump</code>.</li>
          <li>Suppressed <em>treating c input as c++</em> warning for Clang builds.</li>
          <li>Updated build so that only the 32-bit version of <code>libiberty.a</code> is built and
            placed in <code>lib32/</code>.</li>
        </ul>
      </dd>
    </dl>
  </div>
</div>


<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 8c</a> <em>(November 2012)</em>
  </p>

  <div class="toggle-content-toggleme">
    <dl>
      <dt>Important changes:</dt>

      <dd>
        <ul>
          <li>Added the Clang 3.1 compiler to the NDK. The GNU Compiler Collection (GCC) 4.6 is
          still the default, so you must explicitly enable the Clang compiler option as follows:
            <ul>
              <li>For <code>ndk-build</code>, export <code>NDK_TOOLCHAIN_VERSION=clang3.1</code> <em>or</em>
                add this environment variable setting to <code>Application.mk</code>.</li>
              <li>For standalone builds, add <code>--llvm-version=3.1</code> to
                <code>make-standalone-toolchain.sh</code> and replace <code>CC</code> and <code>CXX</code> in your
                makefile with <code>&lt;tool-path&gt;/bin/clang</code> and
                <code>&lt;tool-path&gt;/bin/clang++</code>. See <code>STANDALONE-TOOLCHAIN.html</code> for
                details.</li>
            </ul>
            <p class="note"><strong>Note:</strong> This feature is experimental. Please try it and
            <a href="http://code.google.com/p/android/issues/list">report any issues</a>.</p></li>
          <li>Added Gold linker <code>ld.gold</code> for the Windows toolchain. Gold linker is also the
            default for ARM and X86 on all hosts. You may override it to use the <code>ld.bfd</code>
            linker by adding <code>LOCAL_LDFLAGS += -fuse-ld=bfd</code> to <code>Android.mk</code>, or by passing
            <code>-fuse-ld=bfd</code> to the g++/clang++ command line that does the linking.</li>
          <li>Added checks for spaces in the NDK path to the <code>ndk-build[.cmd]</code> and
            <code>ndk-gdb</code> scripts, to prevent build errors that are difficult to diagnose.</li>
          <li>Made the following changes to API level handling:
            <ul>
              <li>Modified build logic so that projects that specify <code>android-10</code> through
                <code>android-13</code> in <code>APP_PLATFORM</code>, <code>project.properties</code> or
                <code>default.properties</code> link against <code>android-9</code> instead of
                <code>android-14</code>.
              <li>Updated build so that executables using android-16 (Jelly Bean) or higher are
                compiled with the <code>-fPIE</code> option for position-independent executables (PIE).
                A new <code>APP_PIE</code> option allows you to control this behavior. See <code>APPLICATION-MK.html</code> for details.
                <p class="note">
                  <strong>Note:</strong> All API levels above 14 still link against <code>platforms/android-14</code> and no new <code>platforms/android-N</code> have been added.
                </p></li>
              <li>Modified <code>ndk-build</code> to provide warnings if the adjusted API level is larger
              than <code>android:minSdkVersion</code> in the project's <code>AndroidManifest.xml</code>.</li>
            </ul>
          </li>
          <li>Updated the <code>cpu-features</code> helper library to include more ARM-specific features.
          See <code>sources/android/cpufeatures/cpu-features.h</code> for details.</li>
          <li>Modified the long double on the X86 platform to be 8 bytes. This data type is now the
          same size as a double, but is still treated as a distinct type.</li>
          <li>Updated build for <code>APP_ABI=armeabi-v7a</code>:
            <ul>
              <li>Modified this build type to pass the <code>-march=armv7-a</code> parameter
              to the linker. This change ensures that v7-specific libraries and <code>crt*.o</code> are
              linked correctly.</li>
              <li>Added <code>-mfpu=vfpv3-d16</code> to <code>ndk-build</code> instead of the
              <code>-mfpu=vfp</code> option used in previous releases.</li>
            </ul>
          </li>
        </ul>
      </dd>
    </dl>

    <dl>
      <dt>Important bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed an issue where running <code>make-standalone-toolchain.sh</code> with root privileges
            resulted in the stand alone tool chain being inaccessible to some users.
            (<a href="http://b.android.com/35279">Issue 35279</a>)
            <ul>
              <li>All files and executables in the NDK release package are set to have read and
                execute permissions for all.</li>
              <li>The ownership/group of <code>libstdc++.a</code> is now preserved when copied.</li>
            </ul>
          </li>
          <li>Removed redundant <code>\r</code> from Windows prebuilt <code>echo.exe</code>. The redundant
          <code>\r</code> caused <code>gdb.setup</code> to fail in the GNU Debugger (GDB) because it
          incorrectly became part of the path.
          (<a href="http://b.android.com/36054">Issue 36054</a>)</li>
          <li>Fixed Windows parallel builds that sometimes failed due to timing issues in the
          <code>host-mkdir</code> implementation.
          (<a href="http://b.android.com/25875">Issue 25875</a>)</li>
          <li>Fixed GCC 4.4.3 GNU <code>libstdc++</code> to <em>not</em> merge <code>typeinfo</code> names by
          default. For more details, see
          <code>toolchain repo gcc/gcc-4.4.3/libstdc++-v3/libsupc++/typeinfo</code>.
          (<a href="http://b.android.com/22165">Issue 22165</a>)</li>
          <li>Fixed problem on <code>null</code> context in GCC 4.6
          <code>cp/mangle.c::write_unscoped_name</code>, where GCC may crash when the context is
          <code>null</code> and dereferenced in <code>TREE_CODE</code>.</li>
          <li>Fixed GCC 4.4.3 crashes on ARM NEON-specific type definitions for floats.
          (<a href="http://b.android.com/34613">Issue 34613</a>)</li>
          <li>Fixed the <code>STLport</code> internal <code>_IteWrapper::operator*()</code> implementation
          where a stale stack location holding the dereferenced value was returned and caused
          runtime crashes.
          (<a href="http://b.android.com/38630">Issue 38630</a>)</li>

          <li>ARM-specific fixes:
            <ul>
              <li>Fixed ARM GCC 4.4.3/4.6 <code>g++</code> to not warn that the <em>mangling of
              &lt;va_list&gt; was changed in GCC 4.4</em>. The workaround using the
              <code>-Wno-psabi</code> switch to avoid this warning is no longer required.</li>
              <li>Fixed an issue when a project with <code>.arm</code> or <code>.neon</code> suffixes in
              <code>LOCAL_SRC_FILES</code> also used <code>APP_STL</code>. With <code>APP_STL</code>, the
              <code>ndk-build</code> script searches for C++ files in <code>LOCAL_SRC_FILES</code> before
              adding STL <code>header/lib</code> paths to compilation. Modified <code>ndk-build</code> to
              filter out <code>.arm</code> and <code>.neon</code> suffixes before the search, otherwise items
              in <code>LOCAL_SRC_FILES</code> like <code>myfile.cpp.arm.neon</code> won't be compiled as C++
              code.</li>
              <li>Fixed <code>binutils-2.21/ld.bfd</code> to be capable of linking object from older
              binutils without <code>tag_FP_arch</code>, which was producing <em>assertion fail</em>
              error messages in GNU Binutils.
              (<a href="http://b.android.com/35209">Issue 35209</a>)
              </li>
              <li>Removed <em>Unknown EABI object attribute 44</em> warning when
              <code>binutils-2.19/ld</code> links prebuilt object by newer <code>binutils-2.21</code></li>
              <li>Fixed an issue in GNU <code>stdc++</code> compilation with both <code>-mthumb</code> and
              <code>-march=armv7-a</code>, by modifying <code>make-standalone-toolchain.sh</code> to populate
              <code>headers/libs</code> in sub-directory <code>armv7-a/thumb</code>.
              (<a href="http://b.android.com/35616">Issue 35616</a>)
              </li>
              <li>Fixed <em>unresolvable R_ARM_THM_CALL relocation</em> error.
              (<a href="http://b.android.com/35342">Issue 35342</a>)
              </li>
              <li>Fixed internal compiler error at <code>reload1.c:3633</code>, caused by the ARM
              back-end expecting the wrong operand type when sign-extend from <code>char</code>.
              (<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=50099">GCC Issue 50099</a>)</li>
              <li>Fixed internal compiler error with negative shift amount.
              (<a href="http://gcc.gnu.org/ml/gcc-patches/2011-10/msg00594.html">GCC Issue</a>)</li>
            </ul>
          </li>

          <li>Fixed <code>-fstack-protector</code> for X86, which is also the default for the
          <code>ndk-build</code> x86 ABI target.</li>

          <li>MIPS-specific fixes:
            <ul>
              <li>Fixed <code>STLport</code> endian-ness by setting <code>_STLP_LITTLE_ENDIAN</code> to 1 when
              compiling MIPS <code>libstlport_*</code>.</li>
              <li>Fixed GCC <code>__builtin_unreachable</code> issue when compiling LLVM.
              (<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=54369">GCC Issue 54369</a>)</li>
              <li>Backported fix for <code>cc1</code> compile process consuming 100% CPU.
              (<a href="http://gcc.gnu.org/bugzilla/show_bug.cgi?id=50380">GCC Issue 50380</a>)</li>
            </ul>
          </li>

          <li>GNU Debugger-specific fixes:
            <ul>
              <li>Disabled Python support in gdb-7.x at build, otherwise the gdb-7.x configure
              function may pick up whatever Python version is available on the host and build
              <code>gdb</code> with a hard-wired dependency on a specific version of Python.
              (<a href="http://b.android.com/36120">Issue 36120</a>)
              </li>
              <li>Fixed <code>ndk-gdb</code> when <code>APP_ABI</code> contains <code>all</code> and matchs none
              of the known architectures.
              (<a href="http://b.android.com/35392">Issue 35392</a>)
              </li>
              <li>Fixed Windows pathname support, by keeping the <code>:</code> character if it looks
              like it could be part of a Windows path starting with a drive letter.
              (<a href="http://sourceware.org/bugzilla/show_bug.cgi?id=12843">GDB Issue 12843</a>)
              </li>
              <li>Fixed adding of hardware breakpoint support for ARM in <code>gdbserver</code>.
              (<a href="http://sourceware.org/ml/gdb-patches/2011-09/msg00200.html">GDB Issue</a>)
              </li>
              <li>Added fix to only read the current <code>solibs</code> when the linker is consistent.
              This change speeds up <code>solib</code> event handling.
              (<a href="http://b.android.com/37677">Issue 37677</a>)
              </li>
              <li>Added fix to make repeated attempts to find <code>solib</code> breakpoints. GDB now
              retries <code>enable_break()</code> during every call to <code>svr4_current_sos()</code> until
              it succeeds.
              (<a href="https://android-review.googlesource.com/#/c/43563">Change 43563</a>)</li>
              <li>Fixed an issue where <code>gdb</code> would not stop on breakpoints placed in
              <code>dlopen-ed</code> libraries.
              (<a href="http://b.android.com/34856">Issue 34856</a>)
              </li>
              <li>Fixed <code>SIGILL</code> in dynamic linker when calling <code>dlopen()</code>, on system
              where <code>/system/bin/linker</code> is stripped of symbols and
              <code>rtld_db_dlactivity()</code> is implemented as <code>Thumb</code>, due to not preserving
              <code>LSB</code> of <code>sym_addr</code>.
              (<a href="http://b.android.com/37147">Issue 37147</a>)
              </li>
            </ul>
          </li>
        </ul>
      </dd>
    </dl>

    <dl>
      <dt>Other bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed NDK headers:
            <ul>
              <li>Fixed <code>arch-mips/include/asm/*</code> code that was incorrectly removed from
              original kernel. (<a href="https://android-review.googlesource.com/#/c/43335">Change
              43335</a>)</li>
              <li>Replaced struct member data <code>__unused</code> with <code>__linux_unused</code> in
              <code>linux/sysctl.h</code> and <code>linux/icmp.h</code> to avoid conflict with
              <code>#define __unused</code> in <code>sys/cdefs.h</code>.</li>
              <li>Fixed <code>fenv.h</code> for enclosed C functions with <code>__BEGIN_DECLS</code> and
              <code>__END_DECLS</code>.</li>
              <li>Removed unimplemented functions in <code>malloc.h</code>.</li>
              <li>Fixed <code>stdint.h</code> defintion of <code>uint64_t</code> for ANSI compilers.
              (<a href="http://b.android.com/1952">Issue 1952</a>)</li>
              <li>Fixed preprocessor macros in <code>&lt;arch&gt;/include/machine/*</code>.</li>
              <li>Replaced <code>link.h</code> for MIPS with new version supporting all platforms.</li>
              <li>Removed <code>linux-unistd.h</code></li>
              <li>Move GLibc-specific macros <code>LONG_LONG_MIN</code>, <code>LONG_LONG_MAX</code> and
              <code>ULONG_LONG_MAX</code> from <code>&lt;pthread.h&gt;</code> to <code>&lt;limits.h&gt;</code>.</li>
            </ul>
          </li>
          <li>Fixed a buffer overflow in <code>ndk-stack-parser</code>.</li>
          <li>Fixed <code>_STLP_USE_EXCEPTIONS</code>, when not defined, to omit all declarations
          and uses of <code>__Named_exception</code>. Compiling and use of <code>__Named_exception</code>
          settings only occurs when <code>STLport</code> is allowed to use exceptions.</li>
          <li>Fixed building of Linux-only NDK packages without also building Windows code. Use the
          following settings to perform this type of build:
          <pre>./build/tools/make-release.sh --force --systems=linux-x86</pre></li>
          <li>Fixed <code>libc.so</code> so it does not export <code>atexit()</code> and <code>__do_handler</code>.
          These symbols are exported for ARM builds by the system version of the C library to
          support legacy native libraries. NDK-generated should never reference them directly.
          Instead, each shared library or executable should embed its own version of these symbols,
          provided by <code>crtbegin_*.o</code>.
          <p>If your project is linked with the <code>-nostdlib -Wl,--no-undefined</code> options, you
          must provide your own <code>__dso_handle</code> because <code>crtbegin_so.o</code> is not linked in
          this case. The content of <code>__dso_handle</code> does not matter, as shown in the following
          example code:</p>
<pre>
extern "C" {
  extern void *__dso_handle __attribute__((__visibility__ ("hidden")));
  void *__dso_handle;
}
</pre>
          </li>
          <li>Fixed symbol decoder for ARM used in <code>objdump</code> for <code>plt</code> entries to
          generate a more readable form <code>function@plt</code>.</li>
          <li>Removed the following symbols, introduced in GCC 4.6 <code>libgcc.a</code>, from
          the X86 platform <code>libc.so</code> library: <code>__aeabi_idiv0</code>, <code>__aeabi_ldiv0</code>,
          <code>__aeabi_unwind_cpp_pr1</code>, and <code>__aeabi_unwind_cpp_pr2</code>.</li>
          <li>Removed unused <code>.ctors</code>, <code>.dtors</code>, and <code>.eh_frame</code> in MIPS
          <code>crt*_so.S</code>.</li>
          <li>Updated <code>ndk-gdb</code> so that it only takes the last line of output for
          <code>ndk-build</code> <code>DUMP_XXXX</code>. This change ensures that if <code>Application.mk</code> or
          <code>Android.mk</code> print something with <code>$(info ...)</code> syntax, it does not get
          injected into the result of <code>DUMP_XXXX</code>.
          (<a href="https://groups.google.com/d/msg/android-ndk/-/ew0lTWGr1UEJ">More info</a>)</li>
        </ul>
      </dd>
    </dl>

    <dl>
      <dt>Other changes:</dt>

      <dd>
        <ul>
          <li>Removed <code>arch-x86</code> and <code>arch-mips</code> headers from
          <code>platforms/android-[3,4,5,8]</code>. Those headers were incomplete, since both X86 and
          MIPS ABIs are only supported at API 9 or higher.</li>
          <li>Simplified c++ include path in standalone packages, as shown below.
          (<a href="http://b.android.com/35279">Issue 35279</a>)
<pre>
&lt;path&gt;/arm-linux-androideabi/include/c++/4.6.x-google
  to:
&lt;path&gt;/include/c++/4.6/
</pre></li>
          <li>Fixed <code>ndk-build</code> to recognize more C++ file extensions by default:
          <code>.cc .cp .cxx .cpp .CPP .c++ .C</code>. You may still use <code>LOCAL_CPP_EXTENSION</code> to
          overwrite these extension settings.</li>
          <li>Fixed an issue in <code>samples/san-angeles</code> that caused a black screen or freeze
          frame on re-launch.</li>
          <li>Replaced deprecated APIs in NDK samples.
          (<a href="http://b.android.com/20017">Issue 20017</a>)
            <ul>
              <li><code>hello-gl2</code> from android-5 to android-7</li>
              <li><code>native-activity</code> from android-9 to android-10</li>
              <li><code>native-audio</code> from android-9 to android-10</li>
              <li><code>native-plasma</code> from android-9 to android-10</li>
            </ul>
          </li>
          <li>Added new branding for Android executables with a simpler scheme in section
          <code>.note.android.ident</code> (defined in <code>crtbegin_static/dynamic.o</code>) so that
          debugging tools can act accordingly. The structure member and values are defined as
          follows:
<pre>
static const struct {
  int32_t namesz;  /* = 8,  sizeof ("Android") */
  int32_t descsz;  /* = 1 * sizeof(int32_t) */
  int32_t type;    /* = 1, ABI_NOTETYPE */
  char name[sizeof "Android"];  /* = "Android" */
  int32_t android_api; /* = 3, 4, 5, 8, 9, 14 */
}
</pre>
            <p>The previous branding options in section <code>.note.ABI-tag</code> are deprecated.</p>
          </li>
          <li>Added a new script <code>run-tests-all.sh</code> which calls <code>run-tests.sh</code> and
          <code>standalone/run.sh</code> with various conditions. The script <code>run-tests.sh</code> runs
          without the <code>--abi</code> option, and is enhanced to compile most of the tests for all
          supported ABIs and run on all attached devices</li>
        </ul>
      </dd>
    </dl>

  </div>
</div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 8b</a> <em>(July 2012)</em>
  </p>

  <div class="toggle-content-toggleme">
    <p>The main features of this release are a new GNU Compiler Collection (GCC) 4.6 toolchain and
GNU Debugger (GDB) 7.3.x which adds debugging support for the Android 4.1 (API Level 16) system
image.</p>

    <dl>
      <dt>Important bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed <code>LOCAL_SHORT_COMMANDS</code> issues on Mac OS, Windows Cygwin environments for
static libraries. List file generation is faster, and it is not regenerated to avoid repeated
project rebuilds.</li>
          <li>Fixed several issues in <code>ndk-gdb</code>:
            <ul>
              <li>Updated tool to pass flags <code>-e</code>, <code>-d</code> and <code>-s</code> to adb more
consistently.</li>
              <li>Updated tool to accept device serial names containing spaces.</li>
              <li>Updated tool to retrieve <code>/system/bin/link</code> information, so <code>gdb</code> on
the host can set a breakpoint in <code>__dl_rtld_db_dlactivity</code> and be aware of linker activity
(e.g., rescan <code>solib</code> symbols when <code>dlopen()</code> is called).</li>
            </ul>
          </li>
          <li>Fixed <code>ndk-build clean</code> on Windows, which was failing to remove
<code>./libs/*/lib*.so</code>.</li>
          <li>Fixed <code>ndk-build.cmd</code> to return a non-zero <code>ERRORLEVEL</code> when <code>make</code>
fails.</li>
          <li>Fixed <code>libc.so</code> to stop incorrectly exporting the <code>__exidx_start</code> and
<code>__exidx_end</code> symbols.</li>
          <li>Fixed <code>SEGV</code> when unwinding the stack past <code>__libc_init</code> for ARM and
MIPS.</li>
        </ul>
      </dd>
    </dl>

    <dl>
      <dt>Important changes:</dt>

      <dd>
        <ul>
          <li>Added GCC 4.6 toolchain (<code>binutils</code> 2.21 with <code>gold</code> and GDB 7.3.x) to
co-exist with the original GCC 4.4.3 toolchain (<code>binutils</code> 2.19 and GDB 6.6).
            <ul>
              <li>GCC 4.6 is now the default toolchain. You may set <code>NDK_TOOLCHAIN_VERSION=4.4.3</code> in <code>Application.mk</code> to select the original one.</li>
              <li>Support for the <code>gold</code> linker is only available for ARM and x86
architectures on Linux and Mac OS hosts. This support is disabled by default. Add <code>LOCAL_LDLIBS += -fuse-ld=gold</code> in <code>Android.mk</code> to enable it.</li>
              <li>Programs compiled with <code>-fPIE</code> require the new <code>GDB</code> for debugging,
including binaries in Android 4.1 (API Level 16) system images.</li>
              <li>The <code>binutils</code> 2.21 <code>ld</code> tool contains back-ported fixes from
version 2.22:
                <ul>
                  <li>Fixed <code>ld --gc-sections</code>, which incorrectly retains zombie references to
external libraries. (<a href="http://sourceware.org/bugzilla/show_bug.cgi?id=13177">more
info</a>).</li>
                  <li>Fixed ARM <code>strip</code> command to preserve the original <code>p_align</code> and
<code>p_flags</code> in <code>GNU_RELRO</code> section if they are valid. Without this fix, programs
built with <code>-fPIE</code> could not be debugged. (<a
href="http://sourceware.org/cgi-bin/cvsweb.cgi/src/bfd/elf.c.diff?cvsroot=src&r1=1.552&r2=1.553">more info</a>)</li>
                </ul>
              </li>
              <li>Disabled <code>sincos()</code> optimization for compatibility with older
                platforms.</li>
            </ul>
          </li>

          <li>Updated build options to enable the Never eXecute (NX) bit and <code>relro</code>/<code>bind_now</code> protections by default:
            <ul>
              <li>Added <code>--noexecstack</code> to assembler and <code>-z noexecstack</code> to linker
that provides NX protection against buffer overflow attacks by enabling NX bit on stack and
heap.</li>
              <li>Added <code>-z relro</code> and  <code>-z now</code> to linker for hardening of internal
data sections after linking to guard against security vulnerabilities caused by memory corruption.
(more info: <a href="http://www.akkadia.org/drepper/nonselsec.pdf">1</a>,
<a href="http://tk-blog.blogspot.com/2009/02/relro-not-so-well-known-memory.html">2</a>)</li>

              <li>These features can be disabled using the following options:
                <ol>
                  <li>Disable NX protection by setting the <code>--execstack</code> option for the
assembler and <code>-z execstack</code> for the linker.</li>
                  <li>Disable hardening of internal data by setting the <code>-z norelro</code> and
<code>-z lazy</code> options for the linker.</li>
                  <li>Disable these protections in the NDK <code>jni/Android.mk</code> by setting the
following options:
<pre>
LOCAL_DISABLE_NO_EXECUTE=true  # disable "--noexecstack" and "-z noexecstack"
DISABLE_RELRO=true             # disable "-z relro" and "-z now"
</pre>
                  </li>
                </ol>
                <p>See <code>docs/ANDROID-MK.html</code> for more details.</p>
              </li>
            </ul>
          </li>

          <li>Added branding for Android executables with the <code>.note.ABI-tag</code> section (in
<code>crtbegin_static/dynamic.o</code>) so that debugging tools can act accordingly. The structure
member and values are defined as follows:
<pre>
static const struct {
  int32_t namesz;  /* = 4,  sizeof ("GNU") */
  int32_t descsz;  /* = 6 * sizeof(int32_t) */
  int32_t type;    /* = 1 */
  char  name[sizeof "GNU"];  /* = "GNU" */
  int32_t os;      /* = 0 */
  int32_t major;   /* = 2 */
  int32_t minor;   /* = 6 */
  int32_t teeny;   /* = 15 */
  int32_t os_variant;  /* = 1 */
  int32_t android_api; /* = 3, 4, 5, 8, 9, 14 */
}</pre>
          </li>
        </ul>
      </dd>
    </dl>

    <dl>
      <dt>Other bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed <code>mips-linux-gnu</code> relocation truncated to fit <code>R_MIPS_TLS_LDM</code> issue.
            (<a href="http://sourceware.org/bugzilla/show_bug.cgi?id=12637">more info</a>)</li>
          <li>Fixed <code>ld</code> tool segfaults when using <code>--gc-sections</code>.
            (<a href="http://sourceware.org/bugzilla/show_bug.cgi?id=12845">more info</a>)
          </li>
          <li>Fixed MIPS <code>GOT_PAGE</code> counting issue.
            (<a href="http://sourceware.org/ml/binutils/2011-05/msg00198.html">more info</a>)</li>
          <li>Fixed follow warning symbol link for <code>mips_elf_count_got_symbols</code>.</li>
          <li>Fixed follow warning symbol link for <code>mips_elf_allocate_lazy_stub</code>.</li>
          <li>Moved MIPS <code>.dynamic</code> to the data segment, so that it is writable.</li>
          <li>Replaced hard-coded values for symbols with correct segment sizes for MIPS.</li>
          <li>Removed the <code>-mno-shared</code> option from the defaults in the MIPS toolchain.
The default for Android toolchain is <code>-fPIC</code> (or <code>-fpic</code> if supported). If you do not
explicitly specify <code>-mshared</code>, <code>-fpic</code>, <code>-fPIC</code>, <code>-fpie</code>, or <code>-fPIE</code>,
the MIPS compiler adds <code>-mno-shared</code> that turns off PIC. Fixed compiler not to add
<code>-mno-shared</code> in this case.</li>
          <li>Fixed wrong package names in samples <code>hello-jni</code> and <code>two-libs</code> so that
the <code>tests</code> project underneath it can compile.</li>
        </ul>
      </dd>
    </dl>

    <dl>
      <dt>Other Changes:</dt>

      <dd>
        <ul>
          <li>Changed locations of binaries:
            <ul>
              <li>Moved <code>gdbserver</code> from
<code>toolchain/&lt;arch-os-ver&gt;/prebuilt/gdbserver</code> to
<code>prebuilt/android-&lt;arch&gt;/gdbserver/gdbserver</code>.</li>
              <li>Renamed x86 toolchain prefix from <code>i686-android-linux-</code> to
<code>i686-linux-android-</code>.</li>
              <li>Moved <code>sources/cxx-stl/gnu-libstdc++/include</code> and <code>lib</code> to
<code>sources/cxx-stl/gnu-libstdc++/4.6</code> when compiled with GCC 4.6, or
<code>sources/cxx-stl/gnu-libstdc++/4.4.3</code> when compiled with GCC 4.4.3.</li>
              <li>Moved <code>libbfd.a</code> and <code>libintl.a</code> from <code>lib/</code> to <code>lib32/</code>.</li>
            </ul>
          </li>

          <li>Added and improved various scripts in the rebuild and test NDK toolchain:
            <ul>
              <li>Added <code>build-mingw64-toolchain.sh</code> to generate a new Linux-hosted toolchain
that generates Win32 and Win64 executables.</li>
              <li>Improved speed of <code>download-toolchain-sources.sh</code> by using the <code>clone</code> command and only using <code>checkout</code> for the directories that are needed to build the NDK
toolchain binaries.</li>
              <li>Added <code>build-host-gcc.sh</code> and <code>build-host-gdb.sh</code> scripts.</li>
              <li>Added <code>tests/check-release.sh</code> to check the content of a given NDK
installation directory, or an existing NDK package.</li>
              <li>Rewrote the <code>tests/standalone/run.sh</code> standalone tests .</li>
            </ul>
          </li>
          <li>Removed <code>if_dl.h</code> header from all platforms and architectures. The <code>AF_LINK</code> and <code>sockaddr_dl</code> elements it describes are specific to BSD (i.e., they don't exist
in Linux).</li>
        </ul>
      </dd>
    </dl>

  </div>
</div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 8</a> <em>(May 2012)</em>
  </p>

  <div class="toggle-content-toggleme">
    <p>This release of the NDK includes support for MIPS ABI and a few additional fixes.</p>

    <dl>
      <dt>New features:</dt>

      <dd>
        <ul>
          <li>Added support for the MIPS ABI, which allows you to generate machine code that runs on
            compatible MIPS-based Android devices. Major features for MIPS include MIPS-specific
            toolchains, system headers, libraries and debugging support. For more details regarding
            MIPS support, see <code>docs/CPU-MIPS.html</code> in the NDK package.

              <p>By default, code is generated for ARM-based devices. You can add <code>mips</code> to
              your <code>APP_ABI</code> definition in your <code>Application.mk</code> file to build
              for MIPS platforms. For example, the following line instructs <code>ndk-build</code>
              to build your code for three distinct ABIs:</p>

              <pre>APP_ABI := armeabi armeabi-v7a <strong>mips</strong></pre>

              <p>Unless you rely on architecture-specific assembly sources, such as ARM assembly
              code, you should not need to touch your <code>Android.mk</code> files to build MIPS
              machine code.</p>
          </li>

          <li>You can build a standalone MIPS toolchain using the <code>--arch=mips</code>
          option when calling <code>make-standalone-toolchain.sh</code>. See
          <code>docs/STANDALONE-TOOLCHAIN.html</code> for more details.
          </li>
        </ul>

        <p class="note"><strong>Note:</strong> To ensure that your applications are available
to users only if their devices are capable of running them, Google Play filters applications based
on the instruction set information included in your application ? no action is needed on your part
to enable the filtering. Additionally, the Android system itself also checks your application at
install time and allows the installation to continue only if the application provides a library that
is compiled for the device's CPU architecture.</p>
      </dd>

      <dt>Important bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed a typo in GAbi++ implementation where the result of <code>dynamic_cast&lt;D&gt;(b)</code> of base class object <code>b</code> to derived class <code>D</code> is
          incorrectly adjusted in the opposite direction from the base class.
          (<a href="http://b.android.com/28721">Issue 28721</a>)
          </li>
          <li>Fixed an issue in which <code>make-standalone-toolchain.sh</code> fails to copy
          <code>libsupc++.*</code>.</li>
        </ul>
      </dd>

      <dt>Other bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed <code>ndk-build.cmd</code> to ensure that <code>ndk-build.cmd</code> works correctly even
          if the user has redefined the <code>SHELL</code> environment variable, which may be changed
          when installing a variety of development tools in Windows environments.
          </li>
        </ul>
      </dd>
    </dl>
  </div>
</div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 7c</a> <em>(April 2012)</em>
  </p>

  <div class="toggle-content-toggleme">
    <p>This release of the NDK includes an important fix for Tegra2-based devices, and a few
additional fixes and improvements:</p>

    <dl>
      <dt>Important bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed GNU STL armeabi-v7a binaries to not crash on non-NEON
  devices. The files provided with NDK r7b were not configured properly,
  resulting in crashes on Tegra2-based devices and others when trying to use
  certain floating-point functions (e.g., <code>cosf</code>, <code>sinf</code>, <code>expf</code>).</li>
        </ul>
      </dd>

      <dt>Important changes:</dt>

      <dd>
        <ul>
          <li>Added support for custom output directories through the <code>NDK_OUT</code>
  environment variable. When defined, this variable is used to store all
  intermediate generated files, instead of <code>$PROJECT_PATH/obj</code>. The variable is
  also recognized by <code>ndk-gdb</code>. </li>
          <li>Added support for building modules with hundreds or even thousands of source
  files by defining <code>LOCAL_SHORT_COMMANDS</code> to <code>true</code> in your <code>Android.mk</code>.
            <p>This change forces the NDK build system to put most linker or archiver options
  into list files, as a work-around for command-line length limitations.
  See <code>docs/ANDROID-MK.html</code> for details.</p>
          </li>
        </ul>
      </dd>

      <dt>Other bug fixes:</dt>

      <dd>
        <ul>
          <li>Fixed <code>android_getCpuCount()</code> implementation in the <code>cpufeatures</code>
helper library. On certain devices, where cores are enabled dynamically by the system, the previous
implementation would report the total number of <em>active</em> cores the first time the function
was called, rather than the total number of <em>physically available</em> cores.</li>
        </ul>
      </dd>
    </dl>
  </div>
</div>


<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 7b</a> <em>(February 2012)</em>
  </p>

  <div class="toggle-content-toggleme">
    <p>This release of the NDK includes fixes for native Windows builds, Cygwin and many other
      improvements:</p>

    <dl>
      <dt>Important bug fixes:</dt>

      <dd>
        <ul>
          <li>Updated <code>sys/atomics.h</code> to avoid correctness issues
            on some multi-core ARM-based devices. Rebuild your unmodified sources with this
            version of the NDK and this problem should be completely eliminated.
            For more details, read <code>docs/ANDROID-ATOMICS.html</code>.</li>
          <li>Reverted to <code>binutils</code> 2.19 to fix debugging issues that
            appeared in NDK r7 (which switched to <code>binutils</code> 2.20.1).</li>
          <li>Fixed <code>ndk-build</code> on 32-bit Linux. A packaging error put a 64-bit version
            of the <code>awk</code> executable under <code>prebuilt/linux-x86/bin</code> in NDK r7.</li>
          <li>Fixed native Windows build (<code>ndk-build.cmd</code>). Other build modes were not
            affected. The fixes include:
            <ul>
              <li>Removed an infinite loop / stack overflow bug that happened when trying
                to call <code>ndk-build.cmd</code> from a directory that was <em>not</em> the top of
                your project path (e.g., in any sub-directory of it).</li>
              <li>Fixed a problem where the auto-generated dependency files were ignored. This
                meant that updating a header didn't trigger recompilation of sources that included
                it.</li>
              <li>Fixed a problem where special characters in files or paths, other than spaces and
                quotes, were not correctly handled.</li>
            </ul>
          </li>
          <li>Fixed the standalone toolchain to generate proper binaries when using
            <code>-lstdc++</code> (i.e., linking against the GNU <code>libstdc++</code> C++ runtime). You
            should use <code>-lgnustl_shared</code> if you want to link against the shared library
            version or <code>-lstdc++</code> for the static version.

            <p>See <code>docs/STANDALONE-TOOLCHAIN.html</code> for more details about this fix.</p>
          </li>
          <li>Fixed <code>gnustl_shared</code> on Cygwin. The linker complained that it couldn't find
            <code>libsupc++.a</code> even though the file was at the right location.</li>
          <li>Fixed Cygwin C++ link when not using any specific C++ runtime through
            <code>APP_STL</code>.</li>
        </ul>
      </dd>
    </dl>

    <dl>
      <dt>Other changes:</dt>

      <dd>
        <ul>
          <li>When your application uses the GNU <code>libstdc++</code> runtime, the compiler will
            no longer forcibly enable exceptions and RTTI. This change results in smaller code.
            <p>If you need these features, you must do one of the following:</p>
            <ul>
              <li>Enable exceptions and/or RTTI explicitly in your modules or
                <code>Application.mk</code>. (recommended)</li>
              <li>Define <code>APP_GNUSTL_FORCE_CPP_FEATURES</code> to <code>'exceptions'</code>,
                <code>'rtti'</code> or both in your <code>Application.mk</code>. See
                <code>docs/APPLICATION-MK.html</code> for more details.</li>
            </ul>
          </li>
          <li><code>ndk-gdb</code> now works properly when your application has private services
            running in independent processes. It debugs the main application process, instead of the
            first process listed by <code>ps</code>, which is usually a service process.</li>
          <li>Fixed a rare bug where NDK r7 would fail to honor the <code>LOCAL_ARM_MODE</code> value
            and always compile certain source files (but not all) to 32-bit instructions.</li>
          <li><code>STLport</code>: Refresh the sources to match the Android platform version. This
            update fixes a few minor bugs:
            <ul>
               <li>Fixed instantiation of an incomplete type</li>
               <li>Fixed minor "==" versus "=" typo</li>
               <li>Used <code>memmove</code> instead of <code>memcpy</code> in <code>string::assign</code></li>
               <li>Added better handling of <code>IsNANorINF</code>, <code>IsINF</code>, <code>IsNegNAN</code>,
                 etc.</li>
             </ul>
             <p>For complete details, see the commit log.</p>
          </li>
          <li><code>STLport</code>: Removed 5 unnecessary static initializers from the library.</li>
          <li>The GNU libstdc++ libraries for armeabi-v7a were mistakenly compiled for
            armeabi instead. This change had no impact on correctness, but using the right
            ABI should provide slightly better performance.</li>
          <li>The <code>cpu-features</code> helper library was updated to report three optional
            x86 CPU features (<code>SSSE3</code>, <code>MOVBE</code> and <code>POPCNT</code>). See
            <code>docs/CPU-FEATURES.html</code> for more details.</li>
          <li><code>docs/NDK-BUILD.html</code> was updated to mention <code>NDK_APPLICATION_MK</code> instead
            of <code>NDK_APP_APPLICATION_MK</code> to select a custom <code>Application.mk</code> file.</li>
          <li>Cygwin: <code>ndk-build</code> no longer creates an empty "NUL" file in the current
            directory when invoked.</li>
          <li>Cygwin: Added better automatic dependency detection. In the previous version, it
            didn't work properly in the following cases:
            <ul>
              <li>When the Cygwin drive prefix was not <code>/cygdrive</code>.</li>
              <li>When using drive-less mounts, for example, when Cygwin would translate
                <code>/home</code> to <code>\\server\subdir</code> instead of <code>C:\Some\Dir</code>.</li>
            </ul>
          </li>
          <li>Cygwin: <code>ndk-build</code> does not try to use the native Windows tools under
            <code>$NDK/prebuilt/windows/bin</code> with certain versions of Cygwin and/or GNU Make.</li>
        </ul>
      </dd>
    </dl>
  </div>
</div>


<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 7</a> <em>(November 2011)</em>
  </p>

  <div class="toggle-content-toggleme">
    <p>This release of the NDK includes new features to support the Android 4.0 platform as well
    as many other additions and improvements:</p>

    <dl>
      <dt>New features</dt>

      <dd>
        <ul>
          <li>Added official NDK APIs for Android 4.0 (API level 14), which adds the following
          native features to the platform:

            <ul>
              <li>Added native multimedia API based on the Khronos Group OpenMAX AL? 1.0.1
              standard. The new <code>&lt;OMXAL/OpenMAXAL.h&gt;</code> and
              <code>&lt;OMXAL/OpenMAXAL_Android.h&gt;</code> headers allow applications targeting
              API level 14 to perform multimedia output directly from native code by using a new
              Android-specific buffer queue interface. For more details, see
              <code>docs/openmaxal/index.html</code> and <a href=
              "http://www.khronos.org/openmax/">http://www.khronos.org/openmax/</a>.</li>

              <li>Updated the native audio API based on the Khronos Group OpenSL ES 1.0.1?
              standard. With API Level 14, you can now decode compressed audio (e.g. MP3, AAC,
              Vorbis) to PCM. For more details, see <code>docs/opensles/index.html</code> and
              <a href=
              "http://www.khronos.org/opensles">http://www.khronos.org/opensles/</a>.</li>
            </ul>
          </li>

          <li>Added CCache support. To speed up large rebuilds, define the
          <code>NDK_CCACHE</code> environment variable to <code>ccache</code> (or the path to
          your <code>ccache</code> binary). When declared, the NDK build system automatically
          uses CCache when compiling any source file. For example:
            <pre>
export NDK_CCACHE=ccache
</pre>
          <p class="note"><strong>Note:</strong> CCache is not included in the NDK release
          so you must have it installed prior to using it. For more information about CCache, see
          <a href="http://ccache.samba.org">http://ccache.samba.org</a>.</p>
          </li>

          <li>Added support for setting <code>APP_ABI</code> to <code>all</code> to indicate that
          you want to build your NDK modules for all the ABIs supported by your given NDK
          release. This means that either one of the following two lines in your
          <code>Application.mk</code> are equivalent with this release:
            <pre>
APP_ABI := all
APP_ABI := armeabi armeabi-v7a x86
</pre>

            <p>This also works if you define <code>APP_ABI</code> when calling
            <code>ndk-build</code> from the command-line, which is a quick way to check that your
            project builds for all supported ABIs without changing the project's
            <code>Application.mk file</code>. For example:</p>
            <pre>
ndk-build APP_ABI=all
</pre>
          </li>

          <li>Added a <code>LOCAL_CPP_FEATURES</code> variable in <code>Android.mk</code> that
          allows you to declare which C++ features (RTTI or Exceptions) your module uses. This
          ensures that the final linking works correctly if you have prebuilt modules that depend
          on these features. See <code>docs/ANDROID-MK.html</code> and
          <code>docs/CPLUSPLUS-SUPPORT.html</code> for more details.</li>

          <li>Shortened paths to source and object files that are used in build commands. When
          invoking <code>$NDK/ndk-build</code> from your project path, the paths to the source,
          object, and binary files that are passed to the build commands are significantly
          shorter now, because they are passed relative to the current directory. This is useful
          when building projects with a lot of source files, to avoid limits on the maximum
          command line length supported by your host operating system. The behavior is unchanged
          if you invoke <code>ndk-build</code> from a sub-directory of your project tree, or if
          you define <code>NDK_PROJECT_PATH</code> to point to a specific directory.</li>
        </ul>
      </dd>

      <dt>Experimental features</dt>

      <dd>
        You can now build your NDK source files on Windows <em>without</em> Cygwin by calling the
        <code>ndk-build.cmd</code> script from the command line from your project path. The
        script takes exactly the same arguments as the original <code>ndk-build</code> script.
        The Windows NDK package comes with its own prebuilt binaries for GNU Make, Awk and other
        tools required by the build. You should not need to install anything else to get a
        working build system.

        <p class="caution"><strong>Important:</strong> <code>ndk-gdb</code> does not work on
        Windows, so you still need Cygwin to debug.</p>

        <p>This feature is still experimental, so feel free to try it and report issues on the
        <a href="http://b.android.com">public bug database</a> or <a href=
        "http://groups.google.com/group/android-ndk">public forum</a>. All samples and unit tests
        shipped with the NDK succesfully compile with this feature.</p>
      </dd>

      <dt>Important bug fixes</dt>

      <dd>
        <ul>
          <li>Imported shared libraries are now installed by default to the target installation
          location (<code>libs/&lt;abi&gt;</code>) if <code>APP_MODULES</code> is not defined in
          your <code>Application.mk</code>. For example, if a top-level module <code>foo</code>
          imports a module <code>bar</code>, then both <code>libfoo.so</code> and
          <code>libbar.so</code> are copied to the install location. Previously, only
          <code>libfoo.so</code> was copied, unless you listed <code>bar</code> in your
          <code>APP_MODULES</code> too. If you define <code>APP_MODULES</code> explicitly, the
          behavior is unchanged.</li>

          <li><code>ndk-gdb</code> now works correctly for activities with multiple categories in
          their MAIN intent filters.</li>

          <li>Static library imports are now properly transitive. For example, if a top-level
          module <code>foo</code> imports static library <code>bar</code> that imports static
          library <code>zoo</code>, the <code>libfoo.so</code> will now be linked against both
          <code>libbar.a</code> and <code>libzoo.a</code>.</li>
        </ul>
      </dd>

      <dt>Other changes</dt>

      <dd>
        <ul>
          <li><code>docs/NATIVE-ACTIVITY.HTML</code>: Fixed typo. The minimum API level should be
          9, not 8 for native activities.</li>

          <li><code>docs/STABLE-APIS.html</code>: Added missing documentation listing EGL as a
          supported stable API, starting from API level 9.</li>

          <li><code>download-toolchain-sources.sh</code>: Updated to download the toolchain
          sources from <a href="http://android.googlesource.com">android.googlesource.com</a>,
          which is the new location for the AOSP servers.</li>

          <li>Added a new C++ support runtime named <code>gabi++</code>. More details about it
          are available in the updated <code>docs/CPLUSPLUS-SUPPORT.html</code>.</li>

          <li>Added a new C++ support runtime named <code>gnustl_shared</code> that corresponds
          to the shared library version of GNU libstdc++ v3 (GPLv3 license). See more info at
          <code>docs/CPLUSPLUS-SUPPORT.html</code></li>

          <li>Added support for RTTI in the STLport C++ runtimes (no support for
          exceptions).</li>

          <li>Added support for multiple file extensions in <code>LOCAL_CPP_EXTENSION</code>. For
          example, to compile both <code>foo.cpp</code> and <code>bar.cxx</code> as C++ sources,
          declare the following:
            <pre>
LOCAL_CPP_EXTENSION := .cpp .cxx
</pre>
          </li>

          <li>Removed many unwanted exported symbols from the link-time shared system libraries
          provided by the NDK. This ensures that code generated with the standalone toolchain
          doesn't risk to accidentally depend on a non-stable ABI symbol (e.g. any libgcc.a
          symbol that changes each time the toolchain used to build the platform is changed)</li>

          <li>Refreshed the EGL and OpenGLES Khronos headers to support more extensions. Note
          that this does <em>not</em> change the NDK ABIs for the corresponding libraries,
          because each extension must be probed at runtime by the client application.

            <p>The extensions that are available depend on your actual device and GPU drivers,
            not the platform version the device runs on. The header changes simply add new
            constants and types to make it easier to use the extensions when they have been
            probed with <code>eglGetProcAddress()</code> or <code>glGetProcAddress()</code>. The
            following list describes the newly supported extensions:</p>

            <dl>
              <dt>GLES 1.x</dt>

              <dd>
                <ul>
                  <li><code>GL_OES_vertex_array_object</code></li>

                  <li><code>GL_OES_EGL_image_external</code></li>

                  <li><code>GL_APPLE_texture_2D_limited_npot</code></li>

                  <li><code>GL_EXT_blend_minmax</code></li>

                  <li><code>GL_EXT_discard_framebuffer</code></li>

                  <li><code>GL_EXT_multi_draw_arrays</code></li>

                  <li><code>GL_EXT_read_format_bgra</code></li>

                  <li><code>GL_EXT_texture_filter_anisotropic</code></li>

                  <li><code>GL_EXT_texture_format_BGRA8888</code></li>

                  <li><code>GL_EXT_texture_lod_bias</code></li>

                  <li><code>GL_IMG_read_format</code></li>

                  <li><code>GL_IMG_texture_compression_pvrtc</code></li>

                  <li><code>GL_IMG_texture_env_enhanced_fixed_function</code></li>

                  <li><code>GL_IMG_user_clip_plane</code></li>

                  <li><code>GL_IMG_multisampled_render_to_texture</code></li>

                  <li><code>GL_NV_fence</code></li>

                  <li><code>GL_QCOM_driver_control</code></li>

                  <li><code>GL_QCOM_extended_get</code></li>

                  <li><code>GL_QCOM_extended_get2</code></li>

                  <li><code>GL_QCOM_perfmon_global_mode</code></li>

                  <li><code>GL_QCOM_writeonly_rendering</code></li>

                  <li><code>GL_QCOM_tiled_rendering</code></li>
                </ul>
              </dd>

              <dt>GLES 2.0</dt>

              <dd>
                <ul>
                  <li><code>GL_OES_element_index_uint</code></li>

                  <li><code>GL_OES_get_program_binary</code></li>

                  <li><code>GL_OES_mapbuffer</code></li>

                  <li><code>GL_OES_packed_depth_stencil</code></li>

                  <li><code>GL_OES_texture_3D</code></li>

                  <li><code>GL_OES_texture_float</code></li>

                  <li><code>GL_OES_texture_float_linear</code></li>

                  <li><code>GL_OES_texture_half_float_linear</code></li>

                  <li><code>GL_OES_texture_npot</code></li>

                  <li><code>GL_OES_vertex_array_object</code></li>

                  <li><code>GL_OES_EGL_image_external</code></li>

                  <li><code>GL_AMD_program_binary_Z400</code></li>

                  <li><code>GL_EXT_blend_minmax</code></li>

                  <li><code>GL_EXT_discard_framebuffer</code></li>

                  <li><code>GL_EXT_multi_draw_arrays</code></li>

                  <li><code>GL_EXT_read_format_bgra</code></li>

                  <li><code>GL_EXT_texture_format_BGRA8888</code></li>

                  <li><code>GL_EXT_texture_compression_dxt1</code></li>

                  <li><code>GL_IMG_program_binary</code></li>

                  <li><code>GL_IMG_read_format</code></li>

                  <li><code>GL_IMG_shader_binary</code></li>

                  <li><code>GL_IMG_texture_compression_pvrtc</code></li>

                  <li><code>GL_IMG_multisampled_render_to_texture</code></li>

                  <li><code>GL_NV_coverage_sample</code></li>

                  <li><code>GL_NV_depth_nonlinear</code></li>

                  <li><code>GL_QCOM_extended_get</code></li>

                  <li><code>GL_QCOM_extended_get2</code></li>

                  <li><code>GL_QCOM_writeonly_rendering</code></li>

                  <li><code>GL_QCOM_tiled_rendering</code></li>
                </ul>
              </dd>

              <dt>EGL</dt>

              <dd>
                <ul>
                  <li><code>EGL_ANDROID_recordable</code></li>

                  <li><code>EGL_NV_system_time</code></li>
                </ul>
              </dd>
            </dl>
          </li>
        </ul>
      </dd>
    </dl>
  </div>
</div>


<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 6b</a> <em>(August 2011)</em>
  </p>

  <div class="toggle-content-toggleme">
      <p>This release of the NDK does not include any new features compared to r6. The r6b release
      addresses the following issues in the r6 release:</p>
      <dl>
        <dt>Important bug fixes</dt>
        <dd>
          <ul>
            <li>Fixed the build when <code>APP_ABI="armeabi x86"</code> is used for
            multi-architecture builds.</li>
            <li>Fixed the location of prebuilt STLport binaries in the NDK release package.
            A bug in the packaging script placed them in the wrong location.</li>
            <li>Fixed <code>atexit()</code> usage in shared libraries with the x86standalone
            toolchain.</li>
            <li>Fixed <code>make-standalone-toolchain.sh --arch=x86</code>. It used to fail
            to copy the proper GNU libstdc++ binaries to the right location.</li>
            <li>Fixed the standalone toolchain linker warnings about missing the definition and
            size for the <code>__dso_handle</code> symbol (ARM only).</li>
            <li>Fixed the inclusion order of <code>$(SYSROOT)/usr/include</code> for x86 builds.
            See the <a href="http://b.android.com/18540">bug</a> for
            more information.</li>
            <li>Fixed the definitions of <code>ptrdiff_t</code> and <code>size_t</code> in
            x86-specific systems when they are used with the x86 standalone toolchain.</li>
          </ul>
        </dd>
      </dl>
  </div>
</div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 6</a> <em>(July 2011)</em>
  </p>

  <div class="toggle-content-toggleme">
      <p>This release of the NDK includes support for the x86 ABI and other minor changes.
      For detailed information describing the changes in this release, read the
      <code>CHANGES.HTML</code> document included in the NDK package.
      </p>
      <dl>
        <dt>General notes:</dt>
        <dd>
          <ul>
            <li>Adds support for the x86 ABI, which allows you to generate machine code
            that runs on compatible x86-based Android devices. Major features for x86
            include x86-specific toolchains, system headers, libraries and
            debugging support. For all of the details regarding x86 support,
            see <code>docs/CPU-X86.html</code> in the NDK package.

              <p>By default, code is generated for ARM-based devices, but you can add x86 to your
              <code>APP_ABI</code> definition in your <code>Application.mk</code> file to build
              for x86 platforms. For example, the following line instructs <code>ndk-build</code>
              to build your code for three distinct ABIs:</p>

              <pre>APP_ABI := armeabi armeabi-v7a x86</pre>

              <p>Unless you rely on ARM-based assembly sources, you shouldn't need to touch
              your <code>Android.mk</code> files to build x86 machine code.</p>

            </li>

            <li>You can build a standalone x86 toolchain using the <code>--toolchain=x86-4.4.3</code>
            option when calling <code>make-standalone-toolchain.sh</code>. See
            <code>docs/STANDALONE-TOOLCHAIN.html</code> for more details.
            </li>
            <li>The new <code>ndk-stack</code> tool lets you translate stack traces in
            <code>logcat</code> that are generated by native code. The tool translates
            instruction addresses into a readable format that contains things such
            as the function, source file, and line number corresponding to each stack frame.
            For more information and a usage example, see <code>docs/NDK-STACK.html</code>.
            </li>
          </ul>
        </dd>
        <dt>Other changes:</dt>
        <dd><code>arm-eabi-4.4.0</code>, which had been deprecated since NDK r5, has been
        removed from the NDK distribution.</dd>

      </dl>
    </div>
  </div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 5c</a> <em>(June 2011)</em>
  </p>

  <div class="toggle-content-toggleme">
    <p>This release of the NDK does not include any new features compared to r5b. The r5c release
    addresses the following problems in the r5b release:</p>
    <dl>
      <dt>Important bug fixes:</dt>
      <dd>
        <ul>
          <li><code>ndk-build</code>: Fixed a rare bug that appeared when trying to perform parallel
          builds of debuggable projects.</li>

          <li>Fixed a typo that prevented <code>LOCAL_WHOLE_STATIC_LIBRARIES</code> to work
          correctly with the new toolchain and added documentation for this in
          <code>docs/ANDROID-MK.html</code>.</li>

          <li>Fixed a bug where code linked against <code>gnustl_static</code> crashed when run on
          platform releases older than API level 8 (Android 2.2).</li>

          <li><code>ndk-gdb</code>: Fixed a bug that caused a segmentation fault when debugging Android 3.0
          or newer devices.</li>

          <li><code>&lt;android/input.h&gt;</code>: Two functions that were introduced in API level
          9 (Android 2.3) were incorrect and are fixed. While this breaks the source API, the
          binary interface to the system is unchanged. The incorrect functions were missing a
          <code>history_index</code> parameter, and the correct definitions are shown below:
<pre>
float AMotionEvent_getHistoricalRawX(const AInputEvent* motion_event,
                                           size_t pointer_index,
                                           size_t history_index);

float AMotionEvent_getHistoricalRawY(const AInputEvent* motion_event,
                                           size_t pointer_index,
                                           size_t history_index);
</pre>
          </li>

          <li>Updated the C library ARM binary for API level 9 (Android 2.3) to correctly expose at
          link time new functions that were added in that API level (for example,
          <code>pthread_rwlock_init</code>).</li>

        </ul>
      </dd>

      <dt>Minor improvements and fixes:</dt>
      <dd>
        <ul>
          <li>Object files are now always linked in the order they appear in
          <code>LOCAL_SRC_FILES</code>. This was not the case previously because the files were
          grouped by source extensions instead.</li>

          <li>When <code>import-module</code> fails, it now prints the list of directories that
          were searched. This is useful to check that the <code>NDK_MODULE_PATH</code> definition
          used by the build system is correct.</li>

          <li>When <code>import-module</code> succeeds, it now prints the directory where the
          module was found to the log (visible with <code>NDK_LOG=1</code>).</li>

          <li>Increased the build speed of debuggable applications when there is a very large number
          of include directories in the project.</li>

          <li><code>ndk-gdb</code>: Better detection of <code>adb shell</code> failures and improved
          error messages.</li>

          <li><code>&lt;pthread.h&gt;</code>: Fixed the definition of
          <code>PTHREAD_RWLOCK_INITIALIZER</code> for API level 9 (Android 2.3) and higher.</li>

          <li>Fixed an issue where a module could import itself, resulting in an infinite loop in
          GNU Make.</li>

          <li>Fixed a bug that caused the build to fail if <code>LOCAL_ARM_NEON</code> was set to
          true (typo in <code>build/core/build-binary.mk</code>).</li>

          <li>Fixed a bug that prevented the compilation of <code>.s</code> assembly files
          (<code>.S</code> files were okay).</li>
        </ul>
      </dd>
    </dl>
  </div>
</div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 5b</a> <em>(January 2011)</em>
  </p>

  <div class="toggle-content-toggleme">
      <p>This release of the NDK does not include any new features compared to r5. The r5b release addresses the
      following problems in the r5 release:
      </p>
      <ul>
    <li>The r5 binaries required glibc 2.11, but the r5b binaries are generated with a special
    toolchain that targets glibc 2.7 or higher instead. The Linux toolchain binaries now run on Ubuntu 8.04 or higher. </li>
    <li>Fixes a compiler bug in the arm-linux-androideabi-4.4.3 toolchain.
    The previous binary generated invalid thumb instruction sequences when
    dealing with signed chars.</li>
    <li>Adds missing documentation for the
    "gnustl_static" value for APP_STL, that allows you to link against
    a static library version of GNU libstdc++. </li>
    <li>The following <code>ndk-build</code> issues are fixed:
      <ul>
        <li>A bug that created inconsistent dependency files when a
        compilation error occured on Windows. This prevented a proper build after
        the error was fixed in the source code.</li>
        <li>A Cygwin-specific bug where using very short paths for
        the Android NDK installation or the project path led to the
        generation of invalid dependency files. This made incremental builds
        impossible.</li>
        <li>A typo that prevented the cpufeatures library from working correctly
        with the new NDK toolchain.</li>
        <li>Builds in Cygwin are faster by avoiding calls to <code>cygpath -m</code>
        from GNU Make for every source or object file, which caused problems
        with very large source trees. In case this doesn't work properly, define <code>NDK_USE_CYGPATH=1</code> in your
        environment to use <code>cygpath -m</code> again.</li>
        <li>The Cygwin installation now notifies the user of invalid installation paths that contain spaces. Previously, an invalid path
        would output an error that complained about an incorrect version of GNU Make, even if the right one was installed.
      </ul>
    </li>
  <li>Fixed a typo that prevented the <code>NDK_MODULE_PATH</code> environment variable from working properly when
  it contained multiple directories separated with a colon. </li>
  <li>The <code>prebuilt-common.sh</code> script contains fixes to check the compiler for 64-bit
  generated machine code, instead of relying on the host tag, which
  allows the 32-bit toolchain to rebuild properly on Snow Leopard. The toolchain rebuild scripts now also support
  using a 32-bit host toolchain.</li>
  <li>A missing declaration for <code>INET_ADDRSTRLEN</code> was added to <code>&lt;netinet/in.h&gt;</code>.</li>
  <li>Missing declarations for <code>IN6_IS_ADDR_MC_NODELOCAL</code> and <code>IN6_IS_ADDR_MC_GLOBAL</code> were added to <code>&lt;netinet/in6.h&gt;</code>.</li>
  <li>'asm' was replaced with '__asm__' in <code>&lt;asm/byteorder.h&gt;</code> to allow compilation with <code>-std=c99</code>.</li>
  </ul>
  </div>
  </div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 5</a> <em>(December 2010)</em>
  </p>

  <div class="toggle-content-toggleme">
      <p>This release of the NDK includes many new APIs, most of which are introduced to
         support the development of games and similar applications that make extensive use
         of native code. Using the APIs, developers have direct native access to events, audio,
         graphics and window management, assets, and storage. Developers can also implement the
         Android application lifecycle in native code with help from the new
         <code><a href="../../../reference/android/app/NativeActivity.html">NativeActivity</a></code> class. For detailed information describing the changes in this
         release, read the <code>CHANGES.HTML</code> document included in the downloaded NDK package.
      </p>
      <dl>
        <dt>General notes:</dt>
        <dd>
          <ul>
            <li>Adds support for native activities, which allows you to implement the
            Android application lifecycle in native code.</li>

            <li>Adds native support for the following:

              <ul>

                <li>Input subsystem (such as the keyboard and touch screen)</li>

                <li>Access to sensor data (accelerometer, compass, gyroscope, etc).</li>

                <li>Event loop APIs to wait for things such as input and sensor events.</li>

                <li>Window and surface subsystem</li>

                <li>Audio APIs based on the OpenSL ES standard that support playback and recording
                as well as control over platform audio effects</li>

                <li>Access to assets packaged in an <code>.apk</code> file.</li>

              </ul>
            </li>

            <li>Includes a new toolchain (based on GCC 4.4.3), which generates better code, and can also now
            be used as a standalone cross-compiler, for people who want to build their stuff with
            <code>./configure &amp;&amp; make</code>. See
            docs/STANDALONE-TOOLCHAIN.html for the details. The binaries for GCC 4.4.0 are still provided,
            but the 4.2.1 binaries were removed.</li>

            <li>Adds support for prebuilt static and shared libraries (docs/PREBUILTS.html) and module
            exports and imports to make sharing and reuse of third-party modules much easier
            (docs/IMPORT-MODULE.html explains why).</li>

            <li>Provides a default C++ STL implementation (based on STLport) as a helper module. It can be used either
            as a static or shared library (details and usage examples are in sources/android/stlport/README). Prebuilt
            binaries for STLport (static or shared) and GNU libstdc++ (static only) are also provided if you choose to
            compile against those libraries instead of the default C++ STL implementation.
            C++ Exceptions and RTTI are not supported in the default STL implementation. For more information, see
            docs/CPLUSPLUS-SUPPORT.HTML.</li>

            <li>Includes improvements to the <code>cpufeatures</code> helper library that improves reporting
            of the CPU type (some devices previously reported ARMv7 CPU when the device really was an ARMv6). We
            recommend developers that use this library to rebuild their applications then
            upload to Google Play to benefit from the improvements.</li>

            <li>Adds an EGL library that lets you create and manage OpenGL ES textures and
              services.</li>

            <li>Adds new sample applications, <code>native-plasma</code> and <code>native-activity</code>,
            to demonstrate how to write a native activity.</li>

            <li>Includes many bugfixes and other small improvements; see docs/CHANGES.html for a more
              detailed list of changes.</li>
          </ul>
        </dd>
      </dl>
    </div>
  </div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 4b</a> <em>(June 2010)</em>
  </p>

  <div class="toggle-content-toggleme">
      <dl>
        <dt>NDK r4b notes:</dt>

        <dd>
          <p>Includes fixes for several issues in the NDK build and debugging scripts &mdash; if
          you are using NDK r4, we recommend downloading the NDK r4b build. For detailed
          information describing the changes in this release, read the CHANGES.TXT document
          included in the downloaded NDK package.</p>
        </dd>
      </dl>

      <dl>
        <dt>General notes:</dt>

        <dd>
          <ul>
            <li>Provides a simplified build system through the new <code>ndk-build</code> build
            command.</li>

            <li>Adds support for easy native debugging of generated machine code on production
            devices through the new <code>ndk-gdb</code> command.</li>

            <li>Adds a new Android-specific ABI for ARM-based CPU architectures,
            <code>armeabi-v7a</code>. The new ABI extends the existing <code>armeabi</code> ABI to
            include these CPU instruction set extensions:

              <ul>
                <li>Thumb-2 instructions</li>

                <li>VFP hardware FPU instructions (VFPv3-D16)</li>

                <li>Optional support for ARM Advanced SIMD (NEON) GCC intrinsics and VFPv3-D32.
                Supported by devices such as Verizon Droid by Motorola, Google Nexus One, and
                others.</li>
              </ul>
            </li>

            <li>Adds a new <code>cpufeatures</code> static library (with sources) that lets your
            app detect the host device's CPU features at runtime. Specifically, applications can
            check for ARMv7-A support, as well as VFPv3-D32 and NEON support, then provide separate
            code paths as needed.</li>

            <li>Adds a sample application, <code>hello-neon</code>, that illustrates how to use the
            <code>cpufeatures</code> library to check CPU features and then provide an optimized
            code path using NEON instrinsics, if supported by the CPU.</li>

            <li>Lets you generate machine code for either or both of the instruction sets supported
            by the NDK. For example, you can build for both ARMv5 and ARMv7-A architectures at the
            same time and have everything stored to your application's final
            <code>.apk</code>.</li>

            <li>To ensure that your applications are available to users only if their devices are
            capable of running them, Google Play now filters applications based on the
            instruction set information included in your application &mdash; no action is needed on
            your part to enable the filtering. Additionally, the Android system itself also checks
            your application at install time and allows the installation to continue only if the
            application provides a library that is compiled for the device's CPU architecture.</li>

            <li>Adds support for Android 2.2, including a new stable API for accessing the pixel
            buffers of <code><a href="../../../reference/android/graphics/Bitmap.html">Bitmap</a></code> objects from native code.</li>
          </ul>
        </dd>
      </dl>
    </div>
  </div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 3</a> <em>(March 2010)</em>
  </p>

  <div class="toggle-content-toggleme">
      <dl>
        <dt>General notes:</dt>

        <dd>
          <ul>
            <li>Adds OpenGL ES 2.0 native library support.</li>

            <li>Adds a sample application,<code>hello-gl2</code>, that illustrates the use of
            OpenGL ES 2.0 vertex and fragment shaders.</li>

            <li>The toolchain binaries have been refreshed for this release with GCC 4.4.0, which
            should generate slightly more compact and efficient machine code than the previous one
            (4.2.1). The NDK also still provides the 4.2.1 binaries, which you can optionally use
            to build your machine code.</li>
          </ul>
        </dd>
      </dl>
    </div>
  </div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 2</a> <em>(September 2009)</em>
  </p>

  <div class="toggle-content-toggleme">
      <p>Originally released as "Android 1.6 NDK, Release 1".</p>

      <dl>
        <dt>General notes:</dt>

        <dd>
          <ul>
            <li>Adds OpenGL ES 1.1 native library support.</li>

            <li>Adds a sample application, <code>san-angeles</code>, that renders 3D graphics
            through the native OpenGL ES APIs, while managing activity lifecycle with a <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> object.</li>
          </ul>
        </dd>
      </dl>
    </div>
  </div>

<div class="toggle-content closed">
  <p><a href="#" onclick="return toggleContent(this)">
    <img src="../../../assets/images/triangle-closed.png" class="toggle-content-img"
      alt="">Android NDK, Revision 1</a> <em>(June 2009)</em>
  </p>

  <div class="toggle-content-toggleme">
      <p>Originally released as "Android 1.5 NDK, Release 1".</p>

      <dl>
        <dt>General notes:</dt>

        <dd>
          <ul>
            <li>Includes compiler support (GCC) for ARMv5TE instructions, including Thumb-1
            instructions.</li>

            <li>Includes system headers for stable native APIs, documentation, and sample
            applications.</li>
          </ul>
        </dd>
      </dl>
    </div>
  </div>





<!-- ####################### END OF RELEASE NOTES ####################### -->




























  <h2 id="Reqs">System and Software Requirements</h2>

  <p>The sections below describe the system and software requirements for using the Android NDK, as
  well as platform compatibility considerations that affect appplications using libraries produced
  with the NDK.</p>

  <h4>The Android SDK</h4>

  <ul>
    <li>A complete Android SDK installation (including all dependencies) is required.</li>

    <li>Android 1.5 SDK or later version is required.</li>
  </ul>

  <h4>Supported operating systems</h4>

  <ul>
    <li>Windows XP (32-bit) or Vista (32- or 64-bit)</li>

    <li>Mac OS X 10.4.8 or later (x86 only)</li>

    <li>Linux (32 or 64-bit; Ubuntu 8.04, or other Linux distributions using GLibc 2.7 or
later)</li>
  </ul>

  <h4>Required development tools</h4>

  <ul>
    <li>For all development platforms, GNU Make 3.81 or later is required. Earlier versions of GNU
    Make might work but have not been tested.</li>

    <li>A recent version of awk (either GNU Awk or Nawk) is also required.</li>

    <li>For Windows, <a href="http://www.cygwin.com">Cygwin</a> 1.7 or higher is required. The NDK
    will <em>not</em> work with Cygwin 1.5 installations.</li>
  </ul>

  <h4 id="platform-compat">Android platform compatibility</h4>

  <ul>
    <li>The native libraries created by the Android NDK can only be used on devices running
      specific minimum Android platform versions. The minimum required platform version depends on
      the CPU architecture of the devices you are targeting. The following table details which
      Android platform versions are compatible with native code developed for specific CPU
      architectures.

    <table style="margin:1em;">
      <tr>
        <th>Native Code CPU Architecture Used</th>
        <th>Compatible Android Platform(s)</th>
      </tr>

      <tr>
        <td>ARM, ARM-NEON</td>
        <td>Android 1.5 (API Level 3) and higher</td>
      </tr>

      <tr>
        <td>x86</td>
        <td>Android 2.3 (API Level 9) and higher</td>
      </tr>

      <tr>
        <td>MIPS</td>
        <td>Android 2.3 (API Level 9) and higher</td>
      </tr>
    </table>

      <p>These requirements mean you can use native libraries produced with the NDK in
      applications that are deployable to ARM-based devices running Android 1.5 or later. If you are
      deploying native libraries to x86 and MIPS-based devices, your application must target Android
      2.3 or later.</p>
    </li>

    <li>To ensure compatibility, an application using a native library produced with the NDK
    <em>must</em> declare a <a href="../../../guide/topics/manifest/uses-sdk-element.html"><code>
      &lt;uses-sdk&gt;</code></a> element in its manifest file, with an
      <code>android:minSdkVersion</code> attribute value of "3" or higher. For example:

<pre style="margin:1em;">
&lt;manifest&gt;
  &lt;uses-sdk android:minSdkVersion="3" /&gt;
  ...
&lt;/manifest&gt;
</pre>
    </li>

    <li>If you use this NDK to create a native library that uses the OpenGL ES APIs, the
    application containing the library can be deployed only to devices running the minimum platform
    versions described in the table below. To ensure compatibility, make sure that your application
    declares the proper <code>android:minSdkVersion</code> attribute value, as shown in the
    following table.</li>

    <li style="list-style: none; display: inline">
      <table style="margin:1em;">
        <tr>
          <th>OpenGL ES Version Used</th>

          <th>Compatible Android Platform(s)</th>

          <th>Required uses-sdk Attribute</th>
        </tr>

        <tr>
          <td>OpenGL ES 1.1</td>

          <td>Android 1.6 (API Level 4) and higher</td>

          <td><code>android:minSdkVersion="4"</code></td>
        </tr>

        <tr>
          <td>OpenGL ES 2.0</td>

          <td>Android 2.0 (API Level 5) and higher</td>

          <td><code>android:minSdkVersion="5"</code></td>
        </tr>
      </table>

      <p>For more information about API Level and its relationship to Android platform versions,
      see <a href="../../../guide/topics/manifest/uses-sdk-element.html#ApiLevels">Android API Levels</a>.</p>
    </li>

    <li>Additionally, an application using the OpenGL ES APIs should declare a
    <code>&lt;uses-feature&gt;</code> element in its manifest, with an
    <code>android:glEsVersion</code> attribute that specifies the minimum OpenGl ES version
    required by the application. This ensures that Google Play will show your application only
    to users whose devices are capable of supporting your application. For example:
      <pre style="margin:1em;">
&lt;manifest&gt;
<!-- Declare that the application uses the OpenGL ES 2.0 API and is designed
     to run only on devices that support OpenGL ES 2.0 or higher. -->
  &lt;uses-feature android:glEsVersion="0x00020000" /&gt;
  ...
&lt;/manifest&gt;
</pre>

      <p>For more information, see the <a href=
      "../../../guide/topics/manifest/uses-feature-element.html"><code>&lt;uses-feature&gt;</code></a>
      documentation.</p>
    </li>

    <li>If you use this NDK to create a native library that uses the API to access Android <code><a href="../../../reference/android/graphics/Bitmap.html">Bitmap</a></code> pixel buffers or utilizes native activities, the application
    containing the library can be deployed only to devices running Android 2.2 (API level 8) or
    higher. To ensure compatibility, make sure that your application declares <code>&lt;uses-sdk
    android:minSdkVersion="8" /&gt;</code> attribute value in its manifest.</li>
  </ul>



























  <h2 id="Installing">Installing the NDK</h2>
  <p>Installing the NDK on your development computer is straightforward and involves extracting the
  NDK from its download package.</p>

  <p>Before you get started make sure that you have downloaded the latest <a href=
  "../../../sdk/index.html">Android SDK</a> and upgraded your applications and environment as
  needed. The NDK is compatible with older platform versions but not older versions of the SDK tools.
  Also, take a moment to review the <a href="../../../tools/sdk/ndk/overview.html#reqs">System and
Software Requirements</a>
  for the NDK, if you haven't already.</p>

  <p>To install the NDK, follow these steps:</p>

  <ol>
    <li>From the table at the top of this page, select the NDK package that is appropriate for your
    development computer and download the package.</li>

    <li>Uncompress the NDK download package using tools available on your computer. When
    uncompressed, the NDK files are contained in a directory called
    <code>android-ndk-&lt;version&gt;</code>. You can rename the NDK directory if necessary and you
    can move it to any location on your computer. This documentation refers to the NDK directory as
    <code>&lt;ndk&gt;</code>.</li>
  </ol>

  <p>You are now ready to start working with the NDK.</p>


<h2 id="GetStarted">Getting Started with the NDK</h2>

<p>Once you've installed the NDK successfully, take a few minutes to read the documentation
included in the NDK. You can find the documentation in the <code>&lt;ndk&gt;/docs/</code>
directory. In particular, please read the OVERVIEW.HTML document completely, so that you
understand the intent of the NDK and how to use it.</p>

<p>If you used a previous version of the NDK, take a moment to review the list of NDK changes in
the CHANGES.HTML document.</p>

<p>Here's the general outline of how you work with the NDK tools:</p>

<ol>
  <li>Place your native sources under <code>&lt;project&gt;/jni/...</code></li>

  <li>Create <code>&lt;project&gt;/jni/Android.mk</code> to describe your native sources to the
  NDK build system</li>

  <li>Optional: Create <code>&lt;project&gt;/jni/Application.mk</code>.</li>

  <li>Build your native code by running the 'ndk-build' script from your project's directory. It
  is located in the top-level NDK directory:
    <pre class="no-pretty-print">cd &lt;project&gt;
&lt;ndk&gt;/ndk-build
</pre>

    <p>The build tools copy the stripped, shared libraries needed by your application to the
    proper location in the application's project directory.</p>
  </li>

  <li>Finally, compile your application using the SDK tools in the usual way. The SDK build tools
  will package the shared libraries in the application's deployable <code>.apk</code> file.</li>
</ol>

<p>For complete information on all of the steps listed above, please see the documentation
included with the NDK package.</p>


<h3 id="Using">Using the NDK</h3>

<p>The Android framework provides two ways to use native code:</p>

<ul>
  <li>Write your application using the Android framework and use JNI to access the APIs provided
  by the Android NDK. This technique allows you to take advantage of the convenience of the
  Android framework, but still allows you to write native code when necessary. If you use this
  approach, your application must target specific, minimum Android platform levels, see <a
  href="#platform-compat">Android platform compatibility</a> for more information.</li>

  <li>
    <p>Write a native activity, which allows you to implement the lifecycle callbacks in native
    code. The Android SDK provides the <code><a href="../../../reference/android/app/NativeActivity.html">NativeActivity</a></code> class, which is a
    convenience class that notifies your
    native code of any activity lifecycle callbacks (<code>onCreate()</code>, <code>onPause()</code>,
    <code>onResume()</code>, etc). You can implement the callbacks in your native code to handle
    these events when they occur. Applications that use native activities must be run on Android
    2.3 (API Level 9) or later.</p>

    <p>You cannot access features such as Services and Content Providers natively, so if you want
    to use them or any other framework API, you can still write JNI code to do so.</p>
  </li>
</ul>





  <h2 id="Contents">Contents of the NDK</h2>

  <p>The NDK contains the APIs, documentation, and sample
  applications that help you write your native code. Specifically:</p>

  <ul>
    <li>A set of tools and build files used to generate native code libraries from C and C++
    sources</li>

    <li>A way to embed the corresponding native libraries into an application package file
    (<code>.apk</code>) that can be deployed on Android devices</li>

    <li>A set of native system headers and libraries that will be supported in all future versions
    of the Android platform, starting from Android 1.5. Applications that use native activities
    must be run on Android 2.3 or later.</li>

    <li>Documentation, samples, and tutorials</li>
  </ul>

  <p>The latest release of the NDK supports the following instruction sets:</p>

  <ul>
    <li>ARMv5TE, including Thumb-1 instructions (see <code>docs/CPU-ARCH-ABIS.html</code> for more
information)</li>

    <li>ARMv7-A, including Thumb-2 and VFPv3-D16 instructions, with optional support for
    NEON/VFPv3-D32 instructions (see <code>docs/CPU-ARM-NEON.html</code> for more information)</li>

    <li>x86 instructions (see <code>docs/CPU-X86.html</code> for more information)</li>

    <li>MIPS instructions (see <code>docs/CPU-MIPS.html</code> for more information)</li>
  </ul>

  <p>ARMv5TE machine code will run on all ARM-based Android devices. ARMv7-A will run only on
  devices such as the Verizon Droid or Google Nexus One that have a compatible CPU. The main
  difference between the two instruction sets is that ARMv7-A supports hardware FPU, Thumb-2, and
  NEON instructions. You can target either or both of the instruction sets &mdash; ARMv5TE is the
  default, but switching to ARMv7-A is as easy as adding a single line to the application's
  <code>Application.mk</code> file, without needing to change anything else in the file. You can also build for
  both architectures at the same time and have everything stored in the final <code>.apk</code>.
  Complete information is provided in the CPU-ARCH-ABIS.HTML in the NDK package.</p>

  <p>The NDK provides stable headers for libc (the C library), libm (the Math library), OpenGL ES
  (3D graphics library), the JNI interface, and other libraries, as listed in the <a href=
  "#Tools">Development tools</a> section.</p>


  <h3 id="Tools">Development tools</h3>

  <p>The NDK includes a set of cross-toolchains (compilers, linkers, etc..) that can generate
  native ARM binaries on Linux, OS X, and Windows (with Cygwin) platforms.</p>

  <p>It provides a set of system headers for stable native APIs that are guaranteed to be supported
  in all later releases of the platform:</p>

  <ul>
    <li>libc (C library) headers</li>

    <li>libm (math library) headers</li>

    <li>JNI interface headers</li>

    <li>libz (Zlib compression) headers</li>

    <li>liblog (Android logging) header</li>

    <li>OpenGL ES 1.1 and OpenGL ES 2.0 (3D graphics libraries) headers</li>

    <li>libjnigraphics (Pixel buffer access) header (for Android 2.2 and above).</li>

    <li>A Minimal set of headers for C++ support</li>

    <li>OpenSL ES native audio libraries</li>

    <li>Android native application APIS</li>
  </ul>

  <p>The NDK also provides a build system that lets you work efficiently with your sources, without
  having to handle the toolchain/platform/CPU/ABI details. You create very short build files to
  describe which sources to compile and which Android application will use them &mdash; the build
  system compiles the sources and places the shared libraries directly in your application
  project.</p>

  <p class="caution"><strong>Important:</strong> With the exception of the libraries listed above,
  native system libraries in the Android platform are <em>not</em> stable and may change in future
  platform versions. Your applications should <em>only</em> make use of the stable native system
  libraries provided in this NDK.</p>



  <h3 id="Docs">Documentation</h3>

  <p>The NDK package includes a set of documentation that describes the capabilities of the NDK and
  how to use it to create shared libraries for your Android applications. In this release, the
  documentation is provided only in the downloadable NDK package. You can find the documentation in
  the <code>&lt;ndk&gt;/docs/</code> directory. Included are these files (partial listing):</p>

  <ul>
    <li>
    INSTALL.HTML &mdash; describes how to install the NDK and configure it for your host
    system</li>

    <li>OVERVIEW.HTML &mdash; provides an overview of the NDK capabilities and usage</li>

    <li>ANDROID-MK.HTML &mdash; describes the use of the Android.mk file, which defines the native
    sources you want to compile</li>

    <li>APPLICATION-MK.HTML &mdash; describes the use of the Application.mk file, which describes
    the native sources required by your Android application</li>
    <li>CPLUSPLUS-SUPPORT.HTML &mdash; describes the C++ support provided in the Android NDK</li>
    <li>CPU-ARCH-ABIS.HTML &mdash; a description of supported CPU architectures and how to target
    them.</li>

    <li>CPU-FEATURES.HTML &mdash; a description of the <code>cpufeatures</code> static library that
    lets your application code detect the target device's CPU family and the optional features at
    runtime.</li>

    <li>CHANGES.HTML &mdash; a complete list of changes to the NDK across all releases.</li>

    <li>DEVELOPMENT.HTML &mdash; describes how to modify the NDK and generate release packages for it</li>

    <li>HOWTO.HTML &mdash; information about common tasks associated with NDK development</li>

    <li>IMPORT-MODULE.HTML &mdash; describes how to share and reuse modules</li>

    <li>LICENSES.HTML  &mdash; information about the various open source licenses that govern the Android NDK</li>

    <li>NATIVE-ACTIVITY.HTML &mdash; describes how to implement native activities</li>

    <li>NDK-BUILD.HTML &mdash; describes the usage of the ndk-build script</li>

    <li>NDK-GDB.HTML &mdash; describes how to use the native code debugger</li>

    <li>PREBUILTS.HTML &mdash; information about how shared and static prebuilt libraries work </li>

    <li>STANDALONE-TOOLCHAIN.HTML &mdash; describes how to use Android NDK toolchain as a standalone
    compiler (still in beta).</li>

    <li>SYSTEM-ISSUES.HTML &mdash; known issues in the Android system images that you should be
    aware of, if you are developing using the NDK.</li>

    <li>STABLE-APIS.HTML &mdash; a complete list of the stable APIs exposed by headers in the
    NDK.</li>

  </ul>

  <p>Additionally, the package includes detailed information about the "bionic" C library provided
  with the Android platform that you should be aware of, if you are developing using the NDK. You
  can find the documentation in the <code>&lt;ndk&gt;/docs/system/libc/</code> directory:</p>

  <ul>
    <li>OVERVIEW.HTML &mdash; provides an overview of the "bionic" C library and the features it
    offers.</li>
  </ul>





<h3 id="Samples">Sample apps</h3>

<p>The NDK includes sample applications that illustrate how to use native code in your Android
  applications:</p>

  <ul>
    <li><code>hello-jni</code> &mdash; a simple application that loads a string from a native
    method implemented in a shared library and then displays it in the application UI.</li>

    <li><code>two-libs</code> &mdash; a simple application that loads a shared library dynamically
    and calls a native method provided by the library. In this case, the method is implemented in a
    static library imported by the shared library.</li>

    <li><code>san-angeles</code> &mdash; a simple application that renders 3D graphics through the
    native OpenGL ES APIs, while managing activity lifecycle with a <code><a href="../../../reference/android/opengl/GLSurfaceView.html">GLSurfaceView</a></code> object.</li>

    <li><code>hello-gl2</code> &mdash; a simple application that renders a triangle using OpenGL ES
    2.0 vertex and fragment shaders.</li>

    <li><code>hello-neon</code> &mdash; a simple application that shows how to use the
    <code>cpufeatures</code> library to check CPU capabilities at runtime, then use NEON intrinsics
    if supported by the CPU. Specifically, the application implements two versions of a tiny
    benchmark for a FIR filter loop, a C version and a NEON-optimized version for devices that
    support it.</li>

    <li><code>bitmap-plasma</code> &mdash; a simple application that demonstrates how to access the
    pixel buffers of Android <code><a href="../../../reference/android/graphics/Bitmap.html">Bitmap</a></code> objects from native code, and uses
    this to generate an old-school "plasma" effect.</li>

    <li><code>native-activity</code> &mdash; a simple application that demonstrates how to use the
    native-app-glue static library to create a native activity</li>

    <li><code>native-plasma</code> &mdash; a version of bitmap-plasma implemented with a native
    activity.</li>
  </ul>

  <p>For each sample, the NDK includes the corresponding C source code and the necessary Android.mk
  and Application.mk files. There are located under <code>&lt;ndk&gt;/samples/&lt;name&gt;/</code>
  and their source code can be found under <code>&lt;ndk&gt;/samples/&lt;name&gt;/jni/</code>.</p>

  <p>You can build the shared libraries for the sample apps by going into
  <code>&lt;ndk&gt;/samples/&lt;name&gt;/</code> then calling the <code>ndk-build</code> command.
  The generated shared libraries will be located under
  <code>&lt;ndk&gt;/samples/&lt;name&gt;/libs/armeabi/</code> for (ARMv5TE machine code) and/or
  <code>&lt;ndk&gt;/samples/&lt;name&gt;/libs/armeabi-v7a/</code> for (ARMv7 machine code).</p>

  <p>Next, build the sample Android applications that use the shared libraries:</p>

  <ul>
    <li>If you are developing in Eclipse with ADT, use the New Project Wizard to create a new
    Android project for each sample, using the "Import from Existing Source" option and importing
    the source from <code>&lt;ndk&gt;/samples/&lt;name&gt;/</code>. Then, set up an AVD,
    if necessary, and build/run the application in the emulator.</li>

    <li>If you are developing with Ant, use the <code>android</code> tool to create the build file
    for each of the sample projects at <code>&lt;ndk&gt;/samples/&lt;name&gt;/</code>.
    Then set up an AVD, if necessary, build your project in the usual way, and run it in the
    emulator.</li>

  </ul>

  <p>For more information about developing with the Android SDK tools and what
  you need to do to create, build, and run your applications, see
  the <a href="../../../tools/workflow/index.html">Overview</a>
  section for developing on Android.</p>



  <h4 id="hello-jni">Exploring the hello-jni Sample</h4>

  <p>The hello-jni sample is a simple demonstration on how to use JNI from an Android application.
  The HelloJni activity receives a string from a simple C function and displays it in a
  TextView.</p>

  <p>The main components of the sample include:</p>

  <ul>
    <li>The familiar basic structure of an Android application (an <code>AndroidManifest.xml</code>
    file, a <code>src/</code> and <code>res</code> directories, and a main activity)</li>

    <li>A <code>jni/</code> directory that includes the implemented source file for the native code
    as well as the Android.mk file</li>

    <li>A <code>tests/</code> directory that contains unit test code.</li>
  </ul>

  <ol>
    <li>Create a new project in Eclipse from the existing sample source or use the
    <code>android</code> tool to update the project so it generates a build.xml file that you can
    use to build the sample.

      <ul>
        <li>In Eclipse:

          <ol type="a">
            <li>Click <strong>File &gt; New Android Project...</strong></li>

            <li>Select the <strong>Create project from existing source</strong> radio button.</li>

            <li>Select any API level above Android 1.5.</li>

            <li>In the <strong>Location</strong> field, click <strong>Browse...</strong> and select
            the <code>&lt;ndk-root&gt;/samples/hello-jni</code> directory.</li>

            <li>Click <strong>Finish</strong>.</li>
          </ol>
        </li>

        <li>On the command line:

          <ol type="a">
            <li>Change to the <code>&lt;ndk-root&gt;/samples/hello-jni</code> directory.</li>

            <li>Run the following command to generate a build.xml file:
              <pre class="no-pretty-print">android update project -p . -s</pre>
            </li>
          </ol>
        </li>
      </ul>
    </li>

    <li>Compile the native code using the <code>ndk-build</code> command.
      <pre class="no-pretty-print">
cd &lt;ndk-root&gt;/samples/hello-jni
&lt;ndk_root&gt;/ndk-build
</pre>
    </li>

    <li>Build and install the application as you would a normal Android application. If you are
    using Eclipse, run the application to build and install it on a device. If you are using Ant,
    run the following commands from the project directory:
      <pre class="no-pretty-print">
ant debug
adb install bin/HelloJni-debug.apk
</pre>
    </li>
  </ol>

  <p>When you run the application on the device, the string <code>Hello JNI</code> should appear on
  your device. You can explore the rest of the samples that are located in the
  <code>&lt;ndk-root&gt;/samples</code> directory for more examples on how to use the JNI.</p>



  <h4 id="native-activity">Exploring the native-activity Sample Application</h4>

  <p>The native-activity sample provided with the Android NDK demonstrates how to use the
  android_native_app_glue static library. This static library makes creating a native activity
  easier by providing you with an implementation that handles your callbacks in another thread, so
  you do not have to worry about them blocking your main UI thread. The main parts of the sample
  are described below:</p>

  <ul>
    <li>The familiar basic structure of an Android application (an <code>AndroidManifest.xml</code>
    file, a <code>src/</code> and <code>res</code> directories). The AndroidManifest.xml declares
    that the application is native and specifies the .so file of the native activity. See <code><a href="../../../reference/android/app/NativeActivity.html">NativeActivity</a></code> for the source or see the
    <code>&lt;ndk_root&gt;/platforms/samples/native-activity/AndroidManifest.xml</code> file.</li>

    <li>A <code>jni/</code> directory contains the native activity, main.c, which uses the
    <code>android_native_app_glue.h</code> interface to implement the activity. The Android.mk that
    describes the native module to the build system also exists here.</li>
  </ul>

  <p>To build this sample application:</p>

  <ol>
    <li>Create a new project in Eclipse from the existing sample source or use the
    <code>android</code> tool to update the project so it generates a build.xml file that you can
    use to build the sample.

      <ul>
        <li>In Eclipse:

          <ol type="a">
            <li>Click <strong>File &gt; New Android Project...</strong></li>

            <li>Select the <strong>Create project from existing source</strong> radio button.</li>

            <li>Select any API level above Android 2.3.</li>

            <li>In the <strong>Location</strong> field, click <strong>Browse...</strong> and select
            the <code>&lt;ndk-root&gt;/samples/native-activity</code> directory.</li>

            <li>Click <strong>Finish</strong>.</li>
          </ol>
        </li>

        <li>On the command line:

          <ol type="a">
            <li>Change to the <code>&lt;ndk-root&gt;/samples/native-activity</code> directory.</li>

            <li>Run the following command to generate a build.xml file:
              <pre class="no-pretty-print">
android update project -p . -s
</pre>
            </li>
          </ol>
        </li>
      </ul>
    </li>

    <li>Compile the native code using the <code>ndk-build</code> command.
      <pre class="no-pretty-print">
cd &lt;ndk-root&gt;/platforms/samples/android-9/samples/native-activity
&lt;ndk_root&gt;/ndk-build
</pre>
    </li>

    <li>Build and install the application as you would a normal Android application. If you are
    using Eclipse, run the application to build and install it on a device. If you are using Ant,
    run the following commands in the project directory, then run the application on the device:
      <pre class="no-pretty-print">
ant debug
adb install bin/NativeActivity-debug.apk
</pre>
    </li>
  </ol>



  
<script>
  function onDownload(link) {

    $("#downloadForRealz").html("Download " + $(link).text());
    $("#downloadForRealz").attr('href',$(link).attr('href'));

    $("#tos").fadeIn('slow');

    location.hash = "download";
    return false;
  }


  function onAgreeChecked() {
    if ($("input#agree").is(":checked")) {
      $("a#downloadForRealz").removeClass('disabled');
    } else {
      $("a#downloadForRealz").addClass('disabled');
    }
  }

  function onDownloadNdkForRealz(link) {
    if ($("input#agree").is(':checked')) {
      $("#tos").fadeOut('slow');
      
      $('html, body').animate({
          scrollTop: $("#Installing").offset().top
        }, 800, function() {
          $("#Installing").click();
      });
     
      return true;
    } else {
      $("label#agreeLabel").parent().stop().animate({color: "#258AAF"}, 200,
        function() {$("label#agreeLabel").parent().stop().animate({color: "#222"}, 200)}
      );
      return false;
    }
  }

  $(window).hashchange( function(){
    if (location.hash == "") {
      location.reload();
    }
  });

</script>

   

 


</div><!-- end jd-content -->


<div id="footer" class="wrap" >
        

  <div id="copyright">
    
  Except as noted, this content is 
  licensed under <a href="http://creativecommons.org/licenses/by/2.5/">
  Creative Commons Attribution 2.5</a>. For details and 
  restrictions, see the <a href="../../../license.html">Content 
  License</a>.
  </div>


  <div id="footerlinks">
    
  <p>
    <a href="../../../about/index.html">About Android</a>&nbsp;&nbsp;|&nbsp;
    <a href="../../../legal.html">Legal</a>&nbsp;&nbsp;|&nbsp;
    <a href="../../../support.html">Support</a>
  </p>
  </div>

</div> <!-- end footer -->


</div><!-- end g-unit -->

</div> <!-- end body-content --> 






</body>
</html>



